# Scripted triggers with arguments that are very generic to 3rd Odyssey


# -- GENERIC --

# Check if TAG exists and given CONDITION matches it
nhs_tag_exists_and_matches = {
	if = {
		limit = {
			exists = $TAG$
		}
		$CONDITION$ = $TAG$
	}
}


# -- ELYSIAN --

# Check if CONDITION matches any Elysian nation
# Use: nhs_check_all_elysian = { CONDITION = tag }
# TODO: This is duplicate of `nhs_is_elysia_not_seen`
nhs_check_all_elysian = {
	OR = {
		$CONDITION$ = ELY  # Elysian Empire
		$CONDITION$ = NHS  # Elysia
		$CONDITION$ = ELR  # Elysian Noble Republic
		$CONDITION$ = ERR  # Revolutionary Elysia
		$CONDITION$ = ERF  # First Elysian Republic
	}
}

# Check if CONDITION matches any Elysian nation, including Creta Minor and culture primaries
# Use: nhs_check_all_elysian_expanded = { CONDITION = tag }
nhs_check_all_elysian_expanded = {
	OR = {
		nhs_check_all_elysian = { CONDITION = $CONDITION$ }
		$CONDITION$ = CM1  # Creta Minor
		$CONDITION$ = ELF  # Elysian settlers
		$CONDITION$ = ELA  # Elysian Federation
		$CONDITION$ = SKY  # Scythia
		$CONDITION$ = BOR  # Borealia
		$CONDITION$ = HBR  # Hyperborealia
		$CONDITION$ = HSP  # Hesperidia
		$CONDITION$ = LA1  # Lakonia
		$CONDITION$ = VAE  # Varangia
	}
}

# Check if the culture is 'functionally Elysian'
# Use: nhs_culturally_elysian = yes
nhs_culturally_elysian = {
	OR = {
		AND = {
			culture_group = byzantine
			capital_scope = {
				OR = {
					continent = north_america
					continent = south_america
				}
			}
		}
		AND = {
			culture_group = elysian_group
			NOT = {
				# Exclude 'Norse' Elysian
				primary_culture = varangian_e
			}
			NOT = {
				# Exclude 'Spartan' Elysian
				primary_culture = lakonian
			}
			NOT = {
				# Exclude 'Albanian' Elysian
				primary_culture = shqipproi
			}
		}
	}
}


# -- VINLAND --

# Check if CONDITION matches any Vinlandic nation
# Use: nhs_check_all_vinland = { CONDITION = tag }
nhs_check_all_vinland = {
	OR = {
		$CONDITION$ = MK1
		$CONDITION$ = HLL
		$CONDITION$ = VIN
	}
}

# Check if CONDITION matches any Norse nation
# Use: nhs_check_all_norse = { CONDITION = tag }
nhs_check_all_norse = {
	OR = {
		nhs_check_all_vinland = { CONDITION = $CONDITION$ }
		$CONDITION$ = JOM  # Jomsvikings
		$CONDITION$ = VGD  # Varangian Order
	}
}

# Check if the culture is 'functionally Norse'
# Use: nhs_culturally_norse = yes
nhs_culturally_norse = {
	OR = {
		culture_group = norse_g
		primary_culture = varangian_e
	}
}


# -- SPARTAN --

# Check if CONDITION matches any Spartan nation
# Use: nhs_check_all_spartan = { CONDITION = tag }
nhs_check_all_spartan = {
	OR = {
		$CONDITION$ = MS1
		$CONDITION$ = MSN
	}
}

# Check if CONDITION matches any Spartan nation, but check whichever exists first
# Use: nhs_check_all_spartan_with_if = { CONDITION = tag }
nhs_check_all_spartan_with_if = {
	if = {
		limit = {
			exists = MS1
		}
		$CONDITION$ = MS1
	}
	else_if = {
		limit = {
			exists = MSN
		}
		$CONDITION$ = MSN
	}
}

# Check if CONDITION matches any Spartan nation, but check whichever exists first
# Takes both left and right side of the condition argument
# Use: nhs_check_all_spartan_with_if_complex = { CONDITION = tag }
nhs_check_all_spartan_with_if_complex = {
	if = {
		limit = {
			exists = MS1
		}
		$CONDITION$ = $ARGUMENT$
	}
	else_if = {
		limit = {
			exists = MSN
		}
		$CONDITION$ = $ARGUMENT$
	}
}

# Check if the culture is 'functionally Spartan'
# Use: nhs_culturally_spartan = yes
nhs_culturally_spartan = {
	OR = {
		culture_group = spartakian_group
		primary_culture = lakonian
	}
}


# -- Albanian --

# Check if the culture is 'functionally Albanian'
# Use: nhs_culturally_albanian = yes
nhs_culturally_albanian = {
	OR = {
		primary_culture = shqipproi
		primary_culture = shqiperi
		AND = {
			primary_culture = albanian
			capital_scope = {
				OR = {
					continent = north_america
					continent = south_america
				}
			}
		}
	}
}

# -- Exiles --

# Check if CONDITION matches any exiled nation
# Use: nhs_check_all_exiles = { CONDITION = tag }
nhs_check_all_exiles = {
	OR = {
		nhs_check_all_elysian_expanded = { CONDITION = $CONDITION$ }
		nhs_check_all_norse = { CONDITION = $CONDITION$ }
		nhs_check_all_spartan = { CONDITION = $CONDITION$ }
		# Include minor exiles
		$CONDITION$ = SHQ  # Shqiperi
	}
}


# -- Native Estates --

# Check if has any native estate (early, mid, late)
# We can keep this for when native estates ever differentiate again...
# Use: nhs_has_any_native_estate = yes
nhs_has_any_native_estate = {
	has_estate = estate_all_natives
}

# Check if any native estate has QUANTITY loyalty
# We can keep this for when native estates ever differentiate again...
# Use: nhs_check_loyalty_any_native_estate = { QUANTITY = 30 }
nhs_check_loyalty_any_native_estate = {
	estate_loyalty = {
		estate = estate_all_natives
		loyalty = $QUANTITY$
	}
}

# Check if any native estate has QUANTITY influence
# We can keep this for when native estates ever differentiate again...
# Use: nhs_check_influence_any_native_estate = { QUANTITY = 30 }
nhs_check_influence_any_native_estate = {
	estate_influence = {
		estate = estate_all_natives
		influence = $QUANTITY$
	}
}

# Check if a province has a native culture
nhs_culturally_native = {
	OR = {
		native_culture = yes
		mesoamerican_native_culture = yes
		southamerican_native_culture = yes
	}
}

# Check if a country has a native primary culture
nhs_culturally_native_primary = {
	OR = {
		native_culture_primary = yes
		mesoamerican_native_culture_primary = yes
		southamerican_native_culture_primary = yes
	}
}

nhs_has_accepted_native_culture = {
	custom_trigger_tooltip = {
		tooltip = nhs_accepts_native_culture_tt
		OR = {  
			accepted_culture = pueblo  
			accepted_culture = piman  
			accepted_culture = shoshone  
			accepted_culture = kiowa  
			accepted_culture = creek  
			accepted_culture = choctaw  
			accepted_culture = chickasaw  
			accepted_culture = yuchi  
			accepted_culture = yoron  
			accepted_culture = catawba  
			accepted_culture = natchez  
			accepted_culture = yamasee  
			accepted_culture = shawnee  
			accepted_culture = illini  
			accepted_culture = miami  
			accepted_culture = anishinabe  
			accepted_culture = algonquin  
			accepted_culture = cree  
			accepted_culture = innu  
			accepted_culture = mesquakie  
			accepted_culture = delaware  
			accepted_culture = abenaki  
			accepted_culture = mikmaq  
			accepted_culture = maliseet  
			accepted_culture = mahican  
			accepted_culture = powhatan  
			accepted_culture = pequot  
			accepted_culture = massachusset  
			accepted_culture = iroquois  
			accepted_culture = cherokee  
			accepted_culture = huron  
			accepted_culture = laurentian  
			accepted_culture = tionontate  
			accepted_culture = susquehannock  
			accepted_culture = dakota  
			accepted_culture = nakota  
			accepted_culture = chiwere  
			accepted_culture = osage  
			accepted_culture = cheyenne  
			accepted_culture = blackfoot  
			accepted_culture = arapaho  
			accepted_culture = plains_cree  
			accepted_culture = bungi  
			accepted_culture = wichita  
			accepted_culture = caddo  
			accepted_culture = pawnee  
			accepted_culture = chipewyan  
			accepted_culture = haida  
			accepted_culture = athabascan  
			accepted_culture = salish  
			accepted_culture = chinook  
			accepted_culture = yokuts  
			accepted_culture = aleutian  
			accepted_culture = inuit  
			accepted_culture = arawak  
			accepted_culture = maipurean  
			accepted_culture = carib  
			accepted_culture = guajiro  
			accepted_culture = apache  
			accepted_culture = mescalero  
			accepted_culture = lipan  
			accepted_culture = navajo  
			accepted_culture = aztek  
			accepted_culture = totonac  
			accepted_culture = purepecha  
			accepted_culture = matlatzinca  
			accepted_culture = tecos  
			accepted_culture = tepic  
			accepted_culture = chichimecan  
			accepted_culture = guamares  
			accepted_culture = otomi  
			accepted_culture = yaqui  
			accepted_culture = yucatec  
			accepted_culture = putun  
			accepted_culture = mayan  
			accepted_culture = highland_mayan  
			accepted_culture = lacandon  
			accepted_culture = wastek  
			accepted_culture = chontales  
			accepted_culture = zapotek  
			accepted_culture = mixtec  
			accepted_culture = tlapanec  
			accepted_culture = inca  
			accepted_culture = aimara  
			accepted_culture = diaguita  
			accepted_culture = chimuan  
			accepted_culture = tupinamba  
			accepted_culture = guarani  
			accepted_culture = charruan  
			accepted_culture = ge  
			accepted_culture = jivaro  
			accepted_culture = chachapoyan  
			accepted_culture = muisca  
			accepted_culture = cara  
			accepted_culture = miskito  
			accepted_culture = chacoan  
			accepted_culture = mapuche  
			accepted_culture = patagonian  
			accepted_culture = het  
			accepted_culture = huarpe
		}
	}
}