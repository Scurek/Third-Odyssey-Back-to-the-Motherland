#############################
##### CULTURE AREA TRIGGERS
#############################
nhs_hesperidian_thoulea = {
	OR = {
		area = oregon_area
		area = columbia_river_area
		area = salish_sea_area
	}
}

nhs_hesperidian_atlas = {
	OR = {
		area = new_mexico_area
		area = colorado_plateau_area
		area = arizona_area
		area = salt_lake_area
		area = grand_canyon
		area = great_basin
		area = apacheria_area
		area = llano_estacado_area
		area = utah_area
		area = nevada
		area = snake_river_area
		AND = {
			area = atlas_foothills
			NOT = { province_id = 5379 }
		}
	}
}

nhs_borealian_areas = {
	OR = {
		region = great_lakes_region
		# AND = {
		# 	region = great_lakes_region
		# 	NOT = { area = iroquoisia_area }
		# 	NOT = { area = south_iroquoisia_area }
		# 	NOT = { area = ohio_country_area }
		# 	NOT = { area = miami_river_area }
		# 	NOT = { area = illinois_country_area }
		# }
		region = hudson_bay_region
		region = greenland_region
		region = canada_region
		province_id = 1009
	}
	NOT = { nhs_elyric_great_lakes = yes }
}

nhs_hyperborealian_areas = {
	OR = {
		region = rocky_mountains_region
		region = far_north_region
		region = cascadia_region
	}
	NOT = { nhs_hesperidian_atlas = yes }
	NOT = { nhs_hesperidian_thoulea = yes }
	NOT = { province_id = 1009 }
}

nhs_hesperidian_areas = {
	OR = {
		nhs_hesperidian_atlas = yes
		AND = {
			region = mexico_region
			to_has_or_had_tribal_development = yes
		}
		area = chihuahua_area
		region = california_region
		nhs_hesperidian_thoulea = yes
	}
}

nhs_elyric_great_lakes = {
	OR = {
		area = illinois_country_area
		area = southern_illinois_area
		area = miami_river_area
		area = ohio_country_area
		area = westsylvania_area
	}
}

nhs_elyric_areas = {
	OR = {
		region = mississippi_region
		region = rio_grande_region
		nhs_elyric_great_lakes = yes
	}
	NOT = { area = chihuahua_area }
}

nhs_arkadian_areas = {
	OR = {
		region = colombia_region
		region = central_america_region
		area = iquitos_area
	}
}

nhs_ktimiates_areas = {
	OR = {
		# AND = {
		# 	region = brazil_region
		# 	NOT = { area = rio_grande_do_sol_area }
		# }
		region = brazil_region
		NOT = { area = guapore_area }
	}
}

nhs_psilavounoi_la_plata = {
	OR = {
		area = central_chile_area
		area = southern_chile_area
		area = cuyo_area
		area = nehuenken_area
	}	
}

nhs_psilavounoi_areas = {
	OR = {
		region = peru_region
		AND = {
			region = upper_peru_region
			NOT = { nhs_kanei_upper_peru = yes }
		}
		NOT = { nhs_parantesioi_areas = yes }
		AND = {
			region = la_plata_region
			nhs_psilavounoi_la_plata = yes
		}
	}
}

nhs_ketsoua_areas = {
	continent = south_america
	OR = {
		culture_group = andean_group
		culture = cara
		culture = chachapoyan
	}
	OR = {
		NOT = { to_has_or_had_tribal_development = yes }
		to_has_culture_appeared = { CULTURE = ketsoua }
	}
	# OR = {
	# 	culture = caran
	# 	culture = chachapoyan
	# 	AND = {
	# 		culture_group = andean_group
	# 		OR = {
	# 			NOT = { culture = diaguita }
	# 			NOT = { to_has_or_had_tribal_development = yes }
	# 		}
	# 	}
	# }
}

nhs_kanei_upper_peru = {
	area = paraguay_area
	area = chaco_area
}

nhs_kanei_areas = {
	OR = {
		AND = {
			region = la_plata_region
			NOT = { nhs_psilavounoi_la_plata = yes }
		}
		# area = rio_grande_do_sol_area
		AND = {
			region = upper_peru_region
			nhs_kanei_upper_peru = yes
		}
	}
}

nhs_eleutheroi_areas = {
	region = great_plains_region
}

nhs_parantesioi_areas = {
	OR = {
		area = iquitos_area
		area = ucayali_area
		area = moxos_area
		area = beni_area
		area = guapore_area
		area = colombian_amazonas_area
	}
}

nhs_hesperidian_province = {
	nhs_hesperidian_areas = yes
	# is_colony = no
	NOT = { culture = shqipproi }
	# NOT = { culture = hesperidian }
}

nhs_kykladian_province = {
	OR = {
		region = carribeans_region
		AND = {
			owner = { primary_culture = kykladian }
			culture = cretan_e
		}
	}
	# NOT = { culture = kykladian }
	# is_colony = no
	NOT = { culture = shqipproi }
	OR = {
		owner = { primary_culture = kykladian }
		NOT = { province_id = 481 }
	}
}

nhs_elyric_province = {
	nhs_elyric_areas = yes
	NOT = { culture = shqipproi }
}

nhs_arkadian_province = {
	nhs_arkadian_areas = yes
	NOT = { culture = shqipproi }
}

nhs_eleutheroi_province = {
	nhs_eleutheroi_areas = yes
	NOT = { culture = shqipproi }
}

nhs_lakonian_province = {
	OR = {
		to_spartan_assimilation_province = yes
		to_mesoamerican_assimilation_province = yes
	}
}

nhs_borealian_province_exclusive = {
	nhs_borealian_areas = yes
	NOT = { culture = shqipproi }
}

nhs_borealian_province = {
	OR = {
		nhs_borealian_areas = yes
		AND = {
			NOT = { to_has_culture_appeared = { CULTURE = hyperborealian } }
			nhs_hyperborealian_areas = yes
		}	
	}
	NOT = { culture = shqipproi }
}

nhs_hyperborealian_province = {
	nhs_hyperborealian_areas = yes
	NOT = { culture = shqipproi }
}

nhs_ktimiates_province = {
	nhs_ktimiates_areas = yes
	NOT = { culture = shqipproi }
}

nhs_parantesioi_province = {
	nhs_parantesioi_areas = yes
	NOT = { culture = shqipproi }
}

nhs_ketsoua_province = {
	OR = {
		nhs_ketsoua_areas = yes
		AND = {
			nhs_ketsoua_psilavounoi_merged = yes
			nhs_psilavounoi_areas = yes
		}
	}
	NOT = { culture = shqipproi }
}

nhs_psilavounoi_province = {
	NOT = { nhs_ketsoua_psilavounoi_merged = yes }
	NOT = { culture = ketsoua }
	nhs_psilavounoi_areas = yes
	NOT = { culture = shqipproi }
}

nhs_kanei_province = {
	nhs_kanei_areas = yes
	NOT = { culture = shqipproi }
}

#############################
##### CULTURE PROMOTION
#############################

to_has_promoted_local_culture_flag = {
	owner = {
		has_country_flag = to_promoted_local_culture_$CULTURE$
	}
}

to_has_promoted_local_culture = {
	if = {
		limit = {
			to_has_potential_culture = {
				CULTURE = lakonian
				[[DELAYED_CHECK] DELAYED_CHECK = yes ]
			}
		}
		NOT = { culture = lakonian }
		to_has_promoted_local_culture_flag = { CULTURE = lakonian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = ketsoua }
			to_has_potential_culture = {
				CULTURE = ketsoua
				[[DELAYED_CHECK] DELAYED_CHECK = yes ]
			}
		}
		NOT = { culture = ketsoua }
		to_has_promoted_local_culture_flag = { CULTURE = ketsoua }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = borealian }
			nhs_borealian_province = yes
		}
		NOT = { culture = borealian }
		to_has_promoted_local_culture_flag = { CULTURE = borealian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = hyperborealian }
			nhs_hyperborealian_province = yes
		}
		NOT = { culture = hyperborealian }
		to_has_promoted_local_culture_flag = { CULTURE = hyperborealian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = hesperidian }
			nhs_hesperidian_province = yes
		}
		NOT = { culture = hesperidian }
		to_has_promoted_local_culture_flag = { CULTURE = hesperidian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = kykladian }
			nhs_kykladian_province = yes
		}
		NOT = { culture = kykladian }
		to_has_promoted_local_culture_flag = { CULTURE = kykladian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = elyric }
			nhs_elyric_province = yes
		}
		NOT = { culture = elyric }
		to_has_promoted_local_culture_flag = { CULTURE = elyric }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = arkadian }
			nhs_arkadian_province = yes
		}
		NOT = { culture = arkadian }
		to_has_promoted_local_culture_flag = { CULTURE = arkadian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = eleutheroi }
			nhs_eleutheroi_province = yes
		}
		NOT = { culture = eleutheroi }
		to_has_promoted_local_culture_flag = { CULTURE = eleutheroi }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = kanei }
			nhs_kanei_province = yes
		}
		NOT = { culture = kanei }
		to_has_promoted_local_culture_flag = { CULTURE = kanei }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = ktimiates }
			nhs_ktimiates_province = yes
		}
		NOT = { culture = ktimiates }
		to_has_promoted_local_culture_flag = { CULTURE = ktimiates }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = psilavounoi }
			nhs_psilavounoi_province = yes
		}
		NOT = { culture = psilavounoi }
		to_has_promoted_local_culture_flag = { CULTURE = psilavounoi }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = parantesioi }
			nhs_parantesioi_province = yes
		}
		NOT = { culture = parantesioi }
		to_has_promoted_local_culture_flag = { CULTURE = parantesioi }
	}
	else = {
		always = no
	}
}

to_potential_culture_promotion = {
	if = {
		limit = {
			nhs_lakonian_province = yes
		}
		owner = {
			NOT = { primary_culture = lakonian }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = borealian }
			nhs_borealian_province = yes
		}
		NOT = { culture = borealian }
		owner = {
			NOT = { primary_culture = borealian }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = hyperborealian }
			nhs_hyperborealian_province = yes
		}
		NOT = { culture = hyperborealian }
		owner = {
			NOT = { primary_culture = hyperborealian }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = hesperidian }
			nhs_hesperidian_province = yes
		}
		NOT = { culture = hesperidian }
		owner = {
			NOT = { primary_culture = hesperidian }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = kykladian }
			nhs_kykladian_province = yes
		}
		NOT = { culture = kykladian }
		owner = {
			NOT = { primary_culture = kykladian }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = elyric }
			nhs_elyric_province = yes
		}
		NOT = { culture = elyric }
		owner = {
			NOT = { primary_culture = elyric }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = arkadian }
			nhs_arkadian_province = yes
		}
		NOT = { culture = arkadian }
		owner = {
			NOT = { primary_culture = arkadian }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = eleutheroi }
			nhs_eleutheroi_province = yes
		}
		NOT = { culture = eleutheroi }
		owner = {
			NOT = { primary_culture = eleutheroi }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = ketsoua }
			nhs_ketsoua_province = yes
		}
		NOT = { culture = ketsoua }
		owner = {
			NOT = { primary_culture = ketsoua }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = kanei }
			nhs_kanei_province = yes
		}
		NOT = { culture = kanei }
		owner = {
			NOT = { primary_culture = kanei }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = ktimiates }
			nhs_ktimiates_province = yes
		}
		NOT = { culture = ktimiates }
		owner = {
			NOT = { primary_culture = ktimiates }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = psilavounoi }
			nhs_psilavounoi_province = yes
		}
		NOT = { culture = psilavounoi }
		owner = {
			NOT = { primary_culture = psilavounoi }
		}
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = parantesioi }
			nhs_parantesioi_province = yes
		}
		NOT = { culture = parantesioi }
		owner = {
			NOT = { primary_culture = parantesioi }
		}
	}
	else = {
		always = no
	}
}

#############################
##### MISC
#############################

nhs_ketsoua_psilavounoi_merged = {
	has_global_flag = nhs_ketsoua_psilavounoi_merged
}

to_dynamic_elysian_culture_trigger = {
	OR = {
		$TRIGGER$ = romaic
		$TRIGGER$ = elysian
		$TRIGGER$ = borealian
		$TRIGGER$ = hyperborealian
		$TRIGGER$ = hesperidian
		$TRIGGER$ = kykladian
		$TRIGGER$ = elyric
		$TRIGGER$ = arkadian
		$TRIGGER$ = eleutheroi
		$TRIGGER$ = ketsoua
		$TRIGGER$ = psilavounoi
		$TRIGGER$ = kanei
		$TRIGGER$ = ktimiates
		$TRIGGER$ = parantesioi
	}
}

to_nhs_has_dynamic_elysian_culture = {
	to_dynamic_elysian_culture_trigger = {
		TRIGGER = culture
	}
}

to_nhs_has_dynamic_elysian_primary_culture = {
	to_dynamic_elysian_culture_trigger = {
		TRIGGER = primary_culture
	}
}

to_pre_romaic_greek = {
	culture = greek
	NOT = { has_global_flag = nhs_romaic_culture_change }
}

to_pre_romaic_greek_primary = {
	primary_culture = greek
	NOT = { has_global_flag = nhs_romaic_culture_change }
	technology_group = exiled_greek
}

to_nhs_eligible_for_romaic_culture = {
	OR = {
		AND = {
			is_empty = no
			owner = {
				primary_culture = romaic
			}
		}
		AND = {
			NOT = { has_global_flag = nhs_romaic_to_elysian }
			OR = {
				is_empty = yes
				NOT = {
					owner = {
						primary_culture = elysian
					}
				}
			}
		}
	}
}

to_has_culture_appeared = {
	has_global_flag = nhs_$CULTURE$_appeared
}

to_can_spawn_roman_subculture = {
	NOT = { has_country_flag = nhs_had_$CULTURE$_spawn_event }
	if = {
		limit = {
			NOT = { has_country_flag = nhs_$CULTURE$_event_bounce }
		}
		NOT = { has_global_flag = nhs_$CULTURE$_event_block }
		NOT = { to_has_culture_appeared = { CULTURE = $CULTURE$ } }
		[[SPECIAL_TRIGGER]
		OR = {
			AND = {
				$SPECIAL_TRIGGER$
			}
			
		]
			if = {
				limit = {
					NOT = { had_country_flag = { flag = $COUNTRY_FLAG$ days = 14600 } }
				}
				if = {
					limit = {
						had_country_flag = { flag = $COUNTRY_FLAG$ days = 10950 }
					}
					num_of_owned_provinces_with = {
						value = 3
						$PROVINCE_TRIGGER$
						is_colony = no
						OR = {
							to_nhs_has_dynamic_elysian_culture = yes
							[[ADDITIONAL_CULTURE_TRIGGER] $ADDITIONAL_CULTURE_TRIGGER$]
						}
					}
				}
				else_if = {
					limit = {
						had_country_flag = { flag = $COUNTRY_FLAG$ days = 7300 }
					}
					num_of_owned_provinces_with = {
						value = 6
						$PROVINCE_TRIGGER$
						is_colony = no
						OR = {
							to_nhs_has_dynamic_elysian_culture = yes
							[[ADDITIONAL_CULTURE_TRIGGER] $ADDITIONAL_CULTURE_TRIGGER$]
						}
					}
				}
				else_if = {
					limit = {
						had_country_flag = { flag = $COUNTRY_FLAG$ days = 3650 }
					}
					num_of_owned_provinces_with = {
						value = 10
						$PROVINCE_TRIGGER$
						is_colony = no
						OR = {
							to_nhs_has_dynamic_elysian_culture = yes
							[[ADDITIONAL_CULTURE_TRIGGER] $ADDITIONAL_CULTURE_TRIGGER$]
						}
					}
				}
				else = {
					always = no
				}
			}
			else = {
				any_owned_province = {
					$PROVINCE_TRIGGER$
					is_colony = no
					OR = {
						to_nhs_has_dynamic_elysian_culture = yes
						[[ADDITIONAL_CULTURE_TRIGGER] $ADDITIONAL_CULTURE_TRIGGER$]
					}
				}
			}
		[[SPECIAL_TRIGGER]
		}
		]
	}
}

to_has_potential_culture = {
	OR = {
		nhs_$CULTURE$_province = yes
		has_province_flag = to_has_$CULTURE$_culture_potential
		[[DELAYED_CHECK]
		AND = {
			has_province_flag = to_has_$CULTURE$_culture_potential_ping
			NOT = { had_province_flag = { flag = to_has_$CULTURE$_culture_potential_ping days = 1 } }
		}
		]
	}
}

to_has_correct_ely_dynamic_culture = {
	culture_group = byzantine
	owner = {
		culture_group = byzantine
	}
	if = {
		limit = {
			to_has_culture_appeared = { CULTURE = borealian }
			nhs_borealian_province = yes
		}
		culture = borealian
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = hyperborealian }
			nhs_hyperborealian_province = yes
		}
		culture = hyperborealian
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = hesperidian }
			nhs_hesperidian_province = yes
		}
		culture = hesperidian
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = kykladian }
			nhs_kykladian_province = yes
		}
		culture = kykladian
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = elyric }
			nhs_elyric_province = yes
		}
		culture = elyric
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = arkadian }
			nhs_arkadian_province = yes
		}
		culture = arkadian
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = eleutheroi }
			nhs_eleutheroi_province = yes
		}
		culture = eleutheroi
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = ketsoua }
			nhs_ketsoua_province = yes
		}
		culture = ketsoua
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = kanei }
			nhs_kanei_province = yes
		}
		culture = kanei
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = ktimiates }
			nhs_ktimiates_province = yes
		}
		culture = ktimiates
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = psilavounoi }
			nhs_psilavounoi_province = yes
		}
		culture = psilavounoi
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = parantesioi }
			nhs_parantesioi_province = yes
		}
		culture = parantesioi
	}
	else = {
		always = no
	}
}

to_has_incorrect_ely_dynamic_culture = {
	culture_group = byzantine
	owner = {
		culture_group = byzantine
	}
	if = {
		limit = {
			to_has_culture_appeared = { CULTURE = borealian }
			nhs_borealian_province = yes
		}
		NOT = { culture = borealian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = hyperborealian }
			nhs_hyperborealian_province = yes
		}
		NOT = { culture = hyperborealian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = hesperidian }
			nhs_hesperidian_province = yes
		}
		NOT = { culture = hesperidian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = kykladian }
			nhs_kykladian_province = yes
		}
		NOT = { culture = kykladian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = elyric }
			nhs_elyric_province = yes
		}
		NOT = { culture = elyric }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = arkadian }
			nhs_arkadian_province = yes
		}
		NOT = { culture = arkadian }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = eleutheroi }
			nhs_eleutheroi_province = yes
		}
		NOT = { culture = eleutheroi }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = ketsoua }
			nhs_ketsoua_province = yes
		}
		NOT = { culture = ketsoua }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = kanei }
			nhs_kanei_province = yes
		}
		NOT = { culture = kanei }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = ktimiates }
			nhs_ktimiates_province = yes
		}
		NOT = { culture = ktimiates }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = psilavounoi }
			nhs_psilavounoi_province = yes
		}
		NOT = { culture = psilavounoi }
	}
	else_if = {
		limit = {
			to_has_culture_appeared = { CULTURE = parantesioi }
			nhs_parantesioi_province = yes
		}
		NOT = { culture = parantesioi }
	}
	else = {
		always = no
	}
}