nhs_hcd_hellenic_crisis = {
	potential = {
		nhs_condition_all_ely = { KOMANDA = tag }
		has_country_flag = nhs_hcd_can_have_religious_disaster
		religion_group = christian
	}
		
	can_start = {
		num_of_cities = 6
		OR = {
			custom_trigger_tooltip = {
				tooltip = nhs_hcd_hellenic_crisis_upset_Pagans.tt
				check_variable = {
					which = HellenicUprising
					value = 13
				}
			}
			custom_trigger_tooltip = {
				tooltip = nhs_hcd_hellenic_crisis_upset_Orthodox.tt
				check_variable = {
					which = OrthodoxUprising
					value = 13
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = nhs_hcd_hellenic_crisis_angered_Orthodox.tt
					check_variable = {
						which = OrthodoxUprising
						value = 8
					}
				}
				custom_trigger_tooltip = {
					tooltip = nhs_hcd_hellenic_crisis_angered_Pagans.tt
					check_variable = {
						which = HellenicUprising
						value = 8
					}
				}
			}
		}
	}
	
	can_stop = { 
		OR = {
			NOT = { religion_group = christian }
			custom_trigger_tooltip = {
				tooltip = nhs_hcd_hellenic_crisis_over.tt
				NOT = { has_country_flag = nhs_hcd_can_have_religious_disaster }
			}
		}
	}
	
	down_progress = {
		factor = 0
	}
	
	progress = {
		modifier = {
			factor = 1.0
			always = yes
		}
		modifier = {
			factor = 1.0
			NOT = { religious_unity = 1 }
			religious_unity = 0.75
		}
		modifier = {
			factor = 2.0
			NOT = { religious_unity = 0.75 }
			religious_unity = 0.5
		}
		modifier = {
			factor = 4.0
			NOT = { religious_unity = 0.5 }
		}
		modifier = {
			factor = 1.0
			NOT = { stability = 1 }
		}
	 }
	
	can_end = {
		OR = {
			AND = {
				OR = {
					NOT = {
						any_owned_province = {
							religion = pantheon_worship
						}
					}
					NOT = {
						any_owned_province = {
							religion_group = christian
						}
					}
				}
				stability = 1
			}
			AND = {
				religious_unity = 0.5
				stability = 3
			}
		}
		NOT = {
			has_spawned_rebels = particularist_rebels
		}
		NOT = {
			has_spawned_rebels = elysian_hellenic_rebels 
		}
		NOT = {
			has_spawned_rebels = orthodox_rebels
		}
	}

	modifier = {
		tolerance_own = -3
		stability_cost_modifier = 0.2
	}	
	
	
	on_start = nhs_hcd_hellenicrevolt.1
	on_end = nhs_hcd_hellenicrevolt.100
	
	on_monthly = {
		events = {
		}
		random_events = {
			1000 = 0
			# Note: 3 of these apply to all, another 3 per side => 6 in total can apply 
			# => 600/1600 = 37.5% chance of event each month
			100 = nhs_hcd_hellenicrevolt.21
			100 = nhs_hcd_hellenicrevolt.22
			100 = nhs_hcd_hellenicrevolt.23
			100 = nhs_hcd_hellenicrevolt.24
			100 = nhs_hcd_hellenicrevolt.25
			100 = nhs_hcd_hellenicrevolt.26
			100 = nhs_hcd_hellenicrevolt.30
			100 = nhs_hcd_hellenicrevolt.31
			100 = nhs_hcd_hellenicrevolt.32
			100 = nhs_hcd_hellenicrevolt.27
			100 = nhs_hcd_hellenicrevolt.28
			100 = nhs_hcd_hellenicrevolt.29
		}
	}
}

