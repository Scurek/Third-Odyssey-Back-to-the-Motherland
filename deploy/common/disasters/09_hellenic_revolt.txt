nhs_hcd_hellenic_crisis = {
	potential = {
		nhs_condition_all_ely = { KOMANDA = tag }
		has_country_flag = nhs_hcd_can_have_religious_disaster
		religion_group = christian
	}
		
	can_start = {
		# num_of_cities = 6
		custom_trigger_tooltip = {
			tooltip = nhs_hcd_hellenic_crisis_progress_high.tt
			check_variable = {
				which = HellenicDisasterProgress
				value = 10  # Note this value should be achievable without some of the more restrictive events (requiring advisor or teenage+ heir)
			}
			has_country_flag = TO_nhs_hellenicconversion_4  # This one is important, adds "pagan conversion centers"
			any_owned_province = {
				has_province_modifier = nhs_hcd_Pagan_minority
			}
		}
	}
	
	can_stop = { 
		OR = {
			NOT = { religion_group = christian }
			custom_trigger_tooltip = {
				tooltip = nhs_hcd_hellenic_crisis_over.tt
				NOT = { has_country_flag = nhs_hcd_can_have_religious_disaster }
			}
		}
	}
	
	down_progress = {
		factor = 0
	}
	
	progress = {
		modifier = {
			factor = 2.0
			always = yes
		}
		modifier = {
			factor = 1.0
			NOT = { religious_unity = 1 }
			religious_unity = 0.75
		}
		modifier = {
			factor = 2.0
			NOT = { religious_unity = 0.75 }
			religious_unity = 0.5
		}
		modifier = {
			factor = 4.0
			NOT = { religious_unity = 0.5 }
		}
		modifier = {
			factor = 2.0
			NOT = { stability = 1 }
		}
	 }
	
	can_end = {
		if = {
			limit = {
				religion_group = christian
			}
			OR = {
				NOT = {
					any_owned_province = {
						religion = pantheon_worship
					}
				}
				AND = {
					religious_unity = 1.0
					stability = 1
				}
				AND = {
					religious_unity = 0.5
					stability = 3
				}
			}
		}
		else_if = {
			limit = {
				religion = pantheon_worship
			}
			OR = {
				NOT = {
					any_owned_province = {
						religion_group = christian
					}
				}
				AND = {
					religious_unity = 1.0
					stability = 1
				}
				AND = {
					religious_unity = 0.5
					stability = 3
				}
			}
		}
		else = {
			OR = {
				AND = {
					religious_unity = 1.0
					stability = 1
				}
				AND = {
					religious_unity = 0.5
					stability = 3
				}
			}
		}
		NOT = {
			has_spawned_rebels = particularist_rebels
		}
		NOT = {
			has_spawned_rebels = elysian_hellenic_rebels 
		}
		NOT = {
			has_spawned_rebels = orthodox_rebels
		}
	}

	modifier = {
		global_missionary_strength = 3.0
		missionary_maintenance_cost = 2.0
		tolerance_own = -3
		tolerance_heathen = -3
		stability_cost_modifier = 0.33
	}	
	
	
	on_start = nhs_hcd_hellenicrevolt.1
	on_end = nhs_hcd_hellenicrevolt.100
	
	on_monthly = {
		events = {
		}
		random_events = {
			2400 = 0
			# Note: 3 of these apply to all, another 3 per side => 6 in total can apply 
			# => 600/3000 = 20% chance of event each month
			100 = nhs_hcd_hellenicrevolt.21
			100 = nhs_hcd_hellenicrevolt.22
			100 = nhs_hcd_hellenicrevolt.23
			100 = nhs_hcd_hellenicrevolt.24
			100 = nhs_hcd_hellenicrevolt.25
			100 = nhs_hcd_hellenicrevolt.26
			100 = nhs_hcd_hellenicrevolt.30
			100 = nhs_hcd_hellenicrevolt.31
			100 = nhs_hcd_hellenicrevolt.32
			100 = nhs_hcd_hellenicrevolt.27
			100 = nhs_hcd_hellenicrevolt.28
			100 = nhs_hcd_hellenicrevolt.29
		}
	}
}

