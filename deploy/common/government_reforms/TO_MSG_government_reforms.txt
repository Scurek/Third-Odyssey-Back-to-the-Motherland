msg_spartan_monarchy_mechanic = {
	monarchy = yes
	heir = yes
	queen = yes
	basic_reform = yes # = invisible/does not take up a slot
	is_eligible_for_hre_emperor = no
	valid_for_nation_designer = no
	custom_attributes = {
		enables_aristocratic_idea_group = yes
	}
	modifiers = {
		estate_nhs_pipiltin_influence_modifier = 0.05
		estate_nhs_apogonoi_influence_modifier = 0.05
	}
}

spartan_army = {
	icon = "spartan_army_icon"
	allow_normal_conversion = no
	can_change_primary_culture = no
	potential = {
		#has_reform = spartan_army
		nhs_check_all_spartan = { CONDITION = tag }
	}
	fixed_rank = 2
	trigger = {
		NOT = { have_had_reform = spartan_kingdom }
	}
	#lock_level_when_selected = yes
	modifiers = {
		global_autonomy = -0.05
		land_morale = 0.10
		monarch_military_power = 3
		land_morale = 0.10
		global_trade_power = -0.50
		colonists = -5
		# possible_mercenaries = -3
		# mercenary_manpower= -3
	}
	custom_attributes = {
		locked_government_type = yes
		msg_cannot_use_guarantees_and_warning_and_enforce_peace = yes
		to_free_annexation_of_colonial_nations = yes
		winning_war_increases_legitimacy = yes
	}
}

spartan_kingdom = {
	icon = "spartan_kingdom_icon"
	allow_normal_conversion = no
	can_change_primary_culture = no
	potential = {
		#has_reform = spartan_kingdom
		nhs_check_all_spartan = { CONDITION = tag }
	}
	trigger = {
		tag = MSN
		custom_trigger_tooltip = {
			tooltip = msg_cushed_nobility_not_tt
			NOT = {
				has_reform = spartan_sovreignty
			}
		}
	}
	fixed_rank = 2
	#lock_level_when_selected = yes
	modifiers = {
		global_unrest = -2
		# land_forcelimit_modifier = 0.10
		years_of_nationalism = -5
		# max_absolutism = 10
		monarch_military_power = 1
		reform_progress_growth = 0.5
		estate_nhs_apogonoi_influence_modifier = 0.1
		estate_nhs_pipiltin_influence_modifier = 0.1
	}
	custom_attributes = {
		locked_government_type = yes
		to_free_annexation_of_colonial_nations = yes
		winning_war_increases_legitimacy = yes
	}
}

spartan_sovreignty = {
	icon = "spartan_sovreignty_icon"
	allow_normal_conversion = no
	can_change_primary_culture = no
	potential = {
		#has_reform = spartan_sovreignty
		nhs_check_all_spartan = { CONDITION = tag }
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_cushed_nobility_tt
			has_reform = spartan_sovreignty
		}
	}
	fixed_rank = 3
	#lock_level_when_selected = yes
	modifiers = {
		global_autonomy = -0.05
		land_forcelimit_modifier = 0.10
		years_of_nationalism = -5
		max_absolutism = 10
		monarch_military_power = 1
		discipline = 0.05
	}
	custom_attributes = {
		locked_government_type = yes
		to_free_annexation_of_colonial_nations = yes
		winning_war_increases_legitimacy = yes
	}
}

msg_spartan_nobility_crushed = {
	icon = "fist_in_air"
	potential = {
		has_reform = spartan_sovreignty
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_nobility_crushed_tt
			NOT = { has_global_flag = msg_pipiltin_bribe }
			NOT = { has_global_flag = msg_apogonoi_bribe }
			NOT = { has_global_flag = msg_no_pipiltin_palace }
			NOT = { has_global_flag = msg_no_apogonoi_palace }
		}
	}
	modifiers = {
		reform_progress_growth = 0.25
		yearly_absolutism = 2
		max_absolutism = 20
	}
}

msg_spartan_nobility_negotiated = {
	icon = "people_walking"
	potential = {
		has_reform = spartan_sovreignty
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_nobility_negotiated_tt
			OR = {
				has_global_flag = msg_pipiltin_bribe
				has_global_flag = msg_apogonoi_bribe
				has_global_flag = msg_no_pipiltin_palace
				has_global_flag = msg_no_apogonoi_palace
			}
			NOT = {
				AND = {
					has_global_flag = msg_pipiltin_bribe
					has_global_flag = msg_apogonoi_bribe
					has_global_flag = msg_no_pipiltin_palace
					has_global_flag = msg_no_apogonoi_palace
				}
			}
		}
	}
	modifiers = {
		reform_progress_growth = 0.10
		global_unrest = -1
		yearly_absolutism = 0.5
	}
}

msg_spartan_nobility_appeased = {
	icon = "man_on_podium"
	potential = {
		has_reform = spartan_sovreignty
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_nobility_appeased_tt
			has_global_flag = msg_pipiltin_bribe
			has_global_flag = msg_apogonoi_bribe
			has_global_flag = msg_no_pipiltin_palace
			has_global_flag = msg_no_apogonoi_palace
		}
	}
	modifiers = {
		reform_progress_growth = 0.10
		global_unrest = -2
		max_absolutism = -20
	}
}

###Spartan Kingdom Reforms
##ECONOMY
#Base
msg_economy0_ref = {
	icon = "msg_economy0_ref"
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_economy0_tt
			NOT = { has_reform = msg_reformed_land }
			NOT = { has_reform = msg_reformed_trade_ports }
			NOT = { has_reform = msg_reformed_gold_mine }
		}
		NOT = { has_reform = msg_economy1_ref }
		NOT = { has_reform = msg_economy2_ref }
		NOT = { has_reform = msg_economy3_ref }
	}
	modifiers = {
		dip_tech_cost_modifier = 0.2
		production_efficiency = -0.25
		build_time = 0.15
		mercenary_cost = 0.25
		light_ship_cost = 1.00
		merchants = -2
		embargo_efficiency = -1.00
	}
}
msg_economy1_ref = {
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	icon = "msg_economy1_ref"
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_economy1_ref_tt
			OR = {
				has_reform = msg_reformed_land
				has_reform = msg_reformed_trade_ports
				has_reform = msg_reformed_gold_mine
			}
			NOT = {
				AND = {
					has_reform = msg_reformed_land
					has_reform = msg_reformed_trade_ports
				}
				AND = {
					has_reform = msg_reformed_land
					has_reform = msg_reformed_gold_mine
				}
				AND = {
					has_reform = msg_reformed_gold_mine
					has_reform = msg_reformed_trade_ports
				}
			}
		}
		NOT = { has_reform = msg_economy2_ref }
		NOT = { has_reform = msg_economy3_ref }
	}
	modifiers = {
		dip_tech_cost_modifier = 0.1
		production_efficiency = -0.20
		build_time = 0.10
		mercenary_cost = 0.20
		light_ship_cost = 0.75
		merchants = -2
		embargo_efficiency = -0.75
	}
}
msg_economy2_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	icon = "msg_economy2_ref"
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_economy2_ref_tt
			OR = {
				AND = {
					has_reform = msg_reformed_land
					has_reform = msg_reformed_trade_ports
				}
				AND = {
					has_reform = msg_reformed_land
					has_reform = msg_reformed_gold_mine
				}
				AND = {
					has_reform = msg_reformed_gold_mine
					has_reform = msg_reformed_trade_ports
				}
				
			}
			NOT = {
				AND = {
					has_reform = msg_reformed_land
					has_reform = msg_reformed_trade_ports
					has_reform = msg_reformed_gold_mine
				}
			}
		}
		NOT = { has_reform = msg_economy3_ref }
	}
	modifiers = {
		production_efficiency = -0.15
		build_time = 0.05
		mercenary_cost = 0.15
		light_ship_cost = 0.50
		merchants = -1
		embargo_efficiency = -0.50
	}
}
msg_economy3_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	icon = "paper_with_seal_3"
	trigger = {
		has_reform = msg_reformed_land
		has_reform = msg_reformed_trade_ports
		has_reform = msg_reformed_gold_mine
	}
	effect = {
		custom_tooltip = msg_pass_crush_to_remove_debuffs_tt
		custom_tooltip = nhs_new_line_tt
		custom_tooltip = to_reform_effects_tt
		if = {
			limit = {
				religion = pantheon_worship
			}
			if = {
				limit = {
					has_reform = msg_hellenic3_ref
					has_reform = msg_government3_ref
				}
				change_government_reform_progress = 700
			}
			else = {
				custom_tooltip = msg_gain_700_rp_if_has_all_eco_hel_tt
			}
		}
		else_if = {
			limit = {
				religion = aztlan_worship
			}
			if = {
				limit = {
					has_reform = msg_aztlan3_ref
					has_reform = msg_government3_ref
				}
				change_government_reform_progress = 700
			}
			else = {
				custom_tooltip = msg_gain_700_rp_if_has_all_eco_azt_tt
			}
		}
		else = {
			if = {
				limit = {
					has_reform = msg_christian3_ref
					has_reform = msg_government3_ref
				}
				change_government_reform_progress = 700
			}
			else = {
				custom_tooltip = msg_gain_700_rp_if_has_all_eco_ort_tt
			}
		}
	}
	modifiers = {
		production_efficiency = -0.10
		mercenary_cost = 0.10
		light_ship_cost = 0.25
		embargo_efficiency = -0.25
	}
}
#Land
msg_reform_land_ref_no = {
	icon = "msg_unreformed_land"
	trigger = {
		NOT = { has_reform = msg_reform_land_ref }
	}
	modifiers = {
		development_cost = 1.00
		build_cost = 1.00
	}
}

msg_reform_land_ref = {
	icon = "msg_reform_land_ref"
	lock_level_when_selected = yes
	trigger = {
		if = {
			limit = { NOT = { has_reform = msg_reform_land_ref } }
			if = {
				limit = {
					ai = no
				}
				stability = 1
				capital_scope = {
					base_tax = 2
				}
			}
			OR = {
				AND = {
					NOT = { has_estate_privilege = estate_pipiltin_land_rights }
					NOT = { has_estate_privilege = estate_apogonoi_land_rights }
				}
				custom_trigger_tooltip = {
					tooltip = msg_less_than_100_contruction_cost_tt
					NOT = {
						has_global_modifier_value = {
							which = build_cost
							value = 0.91
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = msg_less_than_100_development_cost_tt
					NOT = {
						has_global_modifier_value = {
							which = development_cost
							value = 0.91
						}
					}
				}
			}
			
			if = {
				limit = {
					ai = yes
				}
				always = no #AI now uses decisions
				# NOT = {
					# is_in_war = {
						# attacker_leader = ROOT
					# }
				# }
			}
		}
	}
	modifiers = {
		development_cost = 0.75
		build_cost = 0.75
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		if = {
			limit = { ai = no }
			add_stability = -1
		}
		if = {
			limit = {
				OR = {
					ai = no
					capital_scope = {
						base_tax = 2
					}
				}
			}
			capital_scope = {
				add_base_tax = -1
			}
		}
		country_event = { id = msg_reforms.4 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_reformed_land = {
	icon = "tribal_centralize_power"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
			has_reform = msg_reformed_land
		}
	}
	effect = {
		#improve economy
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = economy }
	}
}

#Trade
msg_unreformed_trade_ports = {
	icon = "msg_reformed_trade_ports"
	trigger = {
		NOT = { has_reform = msg_reform_trade_ports_ref }
	}
	modifiers = {
		global_spy_defence = 0.25
		global_trade_power = -0.50
		burghers_influence_modifier = -0.3
	}
	ai = {
		factor = 0
	}
}

msg_reform_trade_ports_ref = {
	icon = "msg_reform_trade_ports_ref"
	lock_level_when_selected = yes
	trigger = {
		if = {
			limit = { NOT = { has_reform = msg_reform_trade_ports_ref } }
			if = {
				limit = {
					ai = no
				}
				stability = 2
				treasury = 50
			}
			dip_power = 50
			num_of_ports = 10

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		global_trade_power = -0.20
		burghers_influence_modifier = -0.10
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		add_dip_power = -50
		add_treasury = -50
		add_corruption = 2
		country_event = { id = msg_reforms.3 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_reformed_trade_ports = {
	icon = "merchant"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
			has_reform = msg_reformed_trade_ports
		}
	}
	effect = {
		#improve economy
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = economy }
	}
}

#Gold
msg_unreformed_gold_mines = {
	icon = "msg_reformed_gold_mine"
	trigger = {
		NOT = { has_reform = msg_reform_gold_mine_ref }
	}
	modifiers = {
		inflation_reduction = -0.05
	}
}

msg_reform_gold_mine_ref = {
	icon = "msg_reform_gold_mine_ref"
	lock_level_when_selected = yes
	trigger = {
		if = {
			limit = { NOT = { has_reform = msg_reform_gold_mine_ref } }
			if = {
				limit = {
					ai = no
				}
				stability = 1
				treasury = 100
			}
			dip_power = 50
			num_of_owned_provinces_with = {
				value = 3
				trade_goods = gold
				is_state = yes
			}

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		inflation_reduction = -0.04
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		if = {
			limit = { ai = no }
			add_stability = -1
			add_treasury = -100
		}
		add_dip_power = -50
		country_event = { id = msg_reforms.2 }
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_reformed_gold_mine = {
	icon = "paper_money_map"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
			has_reform = msg_reformed_gold_mine
		}
	}
	effect = {
		#improve economy
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = economy }
	}
}


##GOVERNMENT
#Base
msg_government0_ref = {
	icon = "msg_government0_ref"
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_economy0_tt
			NOT = { has_reform = msg_court_reform_yes }
			NOT = { has_reform = msg_diplomats_yes }
			NOT = { has_reform = msg_naval_reform_yes }
		}
		NOT = { has_reform = msg_government1_ref }
		NOT = { has_reform = msg_government2_ref }
		NOT = { has_reform = msg_government3_ref }
	}
	modifiers = {
		mil_tech_cost_modifier = 0.20
		advisor_pool = -2
		naval_forcelimit_modifier = -0.5
		privateer_efficiency = -1.00
		global_ship_cost = 0.25
		diplomats = -1
		diplomatic_reputation = -0.5
	}
}
msg_government1_ref = {
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	icon = "msg_government1_ref"
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_court1_ref_tt
			OR = {
				has_reform = msg_court_reform_yes
				has_reform = msg_diplomats_yes
				has_reform = msg_naval_reform_yes
			}
			NOT = {
				AND = {
					has_reform = msg_court_reform_yes
					has_reform = msg_diplomats_yes
				}
				AND = {
					has_reform = msg_court_reform_yes
					has_reform = msg_naval_reform_yes
				}
				AND = {
					has_reform = msg_naval_reform_yes
					has_reform = msg_diplomats_yes
				}
			}
		}
		NOT = { has_reform = msg_government2_ref }
		NOT = { has_reform = msg_government3_ref }
	}
	modifiers = {
		mil_tech_cost_modifier = 0.10
		advisor_pool = -1
		naval_forcelimit_modifier = -0.4
		privateer_efficiency = -0.75
		global_ship_cost = 0.20
		diplomats = -1
		diplomatic_reputation = -0.4
	}
}
msg_government2_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	icon = "msg_government2_ref"
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_court2_ref_tt
			OR = {
				AND = {
					has_reform = msg_court_reform_yes
					has_reform = msg_diplomats_yes
				}
				AND = {
					has_reform = msg_court_reform_yes
					has_reform = msg_naval_reform_yes
				}
				AND = {
					has_reform = msg_naval_reform_yes
					has_reform = msg_diplomats_yes
				}
				
			}
			NOT = {
				AND = {
					has_reform = msg_court_reform_yes
					has_reform = msg_diplomats_yes
					has_reform = msg_naval_reform_yes
				}
			}
		}
		NOT = { has_reform = msg_government3_ref }
	}
	modifiers = {
		advisor_pool = -1
		naval_forcelimit_modifier = -0.3
		privateer_efficiency = -0.5
		global_ship_cost = 0.15
		diplomatic_reputation = -0.3
	}
}
msg_government3_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	icon = "crown"
	trigger = {
		has_reform = msg_court_reform_yes
		has_reform = msg_diplomats_yes
		has_reform = msg_naval_reform_yes
	}
	effect = {
		custom_tooltip = msg_pass_crush_to_remove_debuffs_tt
		custom_tooltip = nhs_new_line_tt
		custom_tooltip = to_reform_effects_tt
		if = {
			limit = {
				religion = pantheon_worship
			}
			if = {
				limit = {
					has_reform = msg_hellenic3_ref
					has_reform = msg_economy3_ref
				}
				change_government_reform_progress = 700
			}
			else = {
				custom_tooltip = msg_gain_700_rp_if_has_all_gov_hel_tt
			}
		}
		else_if = {
			limit = {
				religion = aztlan_worship
			}
			if = {
				limit = {
					has_reform = msg_aztlan3_ref
					has_reform = msg_economy3_ref
				}
				change_government_reform_progress = 700
			}
			else = {
				custom_tooltip = msg_gain_700_rp_if_has_all_gov_azt_tt
			}
		}
		else = {
			if = {
				limit = {
					has_reform = msg_christian3_ref
					has_reform = msg_economy3_ref
				}
				change_government_reform_progress = 700
			}
			else = {
				custom_tooltip = msg_gain_700_rp_if_has_all_gov_ort_tt
			}
		}
	}
	modifiers = {
		advisor_pool = -1
		naval_forcelimit_modifier = -0.2
		privateer_efficiency = -0.25
		global_ship_cost = 0.10
		diplomatic_reputation = -0.2
	}
}

#Court
msg_court_reform_no = {
	icon = "msg_court_reform_no"
	trigger = {
		NOT = { has_reform = msg_court_reform_ref }
	}
	modifiers = {
		legitimacy = -1
	}
}

msg_court_reform_ref = {
	icon = "msg_court_reform_ref"
	lock_level_when_selected = yes
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_court_reform_ref } 
			}
			if = {
				limit = {
					ai = no
				}
				stability = 1
			}
			mil_power = 50
			prestige = 20
			num_of_cities = 25

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		legitimacy = -0.08
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		add_mil_power = -50
		add_prestige = -20
		country_event = { id = msg_reforms.16 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_court_reform_yes = {
	icon = "man_on_podium"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
			has_reform = msg_court_reform_yes
		}
	}
	effect = {
		#improve government
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = government }
	}
}

#Diplomats
msg_diplomats_no = {
	icon = "msg_diplomats_no"
	trigger = {
		NOT = { has_reform = msg_diplomats_ref }
	}
	modifiers = {
		diplomatic_reputation = -0.5
	}
	custom_attributes = {
		msg_cannot_use_guarantees_and_warning_and_enforce_peace = yes
	}
}

msg_diplomats_ref = {
	icon = "msg_diplomats_ref"
	lock_level_when_selected = yes
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_diplomats_ref } 
			}
			if = {
				limit = {
					ai = no
				}
				stability = 1
				treasury = 100
				custom_trigger_tooltip = {
					tooltip = msg_no_dips_before_conquest
					NOT = {
						any_country = {
							technology_group = mesoamerican
							capital_scope = {
								province_group = mesoamerica_pgroup
							}
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			else = {
				OR = {
					num_of_cities = 25
					NOT = {
						any_country = {
							technology_group = mesoamerican
							capital_scope = {
								province_group = mesoamerica_pgroup
							}
							NOT = {
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			dip_power = 50

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		diplomatic_reputation = -0.4
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		add_dip_power = -50
		add_treasury = -100
		country_event = { id = msg_reforms.15 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	custom_attributes = {
		msg_cannot_use_guarantees_and_warning_and_enforce_peace = yes
	}
	ai = {
		factor = 100
	}
}

msg_diplomats_yes = {
	icon = "nobleman"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
			has_reform = msg_diplomats_yes
		}
	}
	effect = {
		#improve government
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = government }
	}
}

#Navy
msg_naval_reform_no = {
	icon = "msg_naval_reform_no"
	trigger = {
		NOT = { has_reform = msg_naval_reform_ref }
	}
	modifiers = {
		naval_forcelimit_modifier = -1
		range = -2
	}
}

msg_naval_reform_ref = {
	icon = "msg_naval_reform_ref"
	#lock_level_when_selected = yes
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_naval_reform_ref } 
			}
			if = {
				limit = {
					ai = no
				}
				stability = 1
			}
			mil_power = 50
			sailors = 500
			num_of_ports = 10

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		naval_forcelimit_modifier = -0.8
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		add_mil_power = -50
		add_sailors = -500
		country_event = { id = msg_reforms.14 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_naval_reform_yes = {
	icon = "merchant_ship"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
			has_reform = msg_naval_reform_yes
		}
	}
	effect = {
		#improve government
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = government }
	}
}

###RELIGION
##Hellenic
#Base
msg_hellenic0_ref = {
	icon = "msg_hellenic0_ref"
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		#custom_trigger_tooltip = {
			#tooltip = msg_economy0_tt
			NOT = { has_reform = msg_spartan_heralds_yes }
			NOT = { has_reform = msg_native_deities_yes }
			NOT = { has_reform = msg_deify_leonidas_yes }
		#}
		NOT = { has_reform = msg_hellenic1_ref }
		NOT = { has_reform = msg_hellenic2_ref }
		NOT = { has_reform = msg_hellenic3_ref }
	}
	modifiers = {
		adm_tech_cost_modifier = 0.2
		missionaries = -1
		global_missionary_strength = -0.04
		tolerance_own = -1
		tolerance_heretic = -2
	}
}
msg_hellenic1_ref = {
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = pantheon_worship
	}
	icon = "msg_hellenic1_ref"
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_religious1_ref_tt
			OR = {
				has_reform = msg_spartan_heralds_yes
				has_reform = msg_native_deities_yes
				has_reform = msg_deify_leonidas_yes
			}
			NOT = {
				AND = {
					has_reform = msg_spartan_heralds_yes
					has_reform = msg_native_deities_yes
				}
				AND = {
					has_reform = msg_spartan_heralds_yes
					has_reform = msg_deify_leonidas_yes
				}
				AND = {
					has_reform = msg_deify_leonidas_yes
					has_reform = msg_native_deities_yes
				}
			}
		}
		NOT = { has_reform = msg_hellenic2_ref }
		NOT = { has_reform = msg_hellenic3_ref }
	}
	modifiers = {
		adm_tech_cost_modifier = 0.1
		global_missionary_strength = -0.03
		tolerance_own = -1
		tolerance_heretic = -1
	}
}
msg_hellenic2_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	potential = {
		religion = pantheon_worship
	}
	icon = "msg_hellenic2_ref"
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_religious2_ref_tt
			OR = {
				AND = {
					has_reform = msg_spartan_heralds_yes
					has_reform = msg_native_deities_yes
				}
				AND = {
					has_reform = msg_spartan_heralds_yes
					has_reform = msg_deify_leonidas_yes
				}
				AND = {
					has_reform = msg_deify_leonidas_yes
					has_reform = msg_native_deities_yes
				}
				
			}
			NOT = {
				AND = {
					has_reform = msg_spartan_heralds_yes
					has_reform = msg_native_deities_yes
					has_reform = msg_deify_leonidas_yes
				}
			}
		}
		NOT = { has_reform = msg_hellenic3_ref }
	}
	modifiers = {
		global_missionary_strength = -0.02
		tolerance_own = -1
		tolerance_heretic = -1
	}
}
msg_hellenic3_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	potential = {
		religion = pantheon_worship
	}
	icon = "msg_hellenic3_ref"
	trigger = {
		has_reform = msg_spartan_heralds_yes
		has_reform = msg_native_deities_yes
		has_reform = msg_deify_leonidas_yes
	}
	effect = {
		custom_tooltip = msg_pass_crush_to_remove_debuffs_tt
		custom_tooltip = nhs_new_line_tt
		custom_tooltip = to_reform_effects_tt
		custom_tooltip = msg_gain_700_rp_if_has_all_rel_tt
		if = {
			limit = {
				has_reform = msg_government3_ref
				has_reform = msg_economy3_ref
			}
			change_government_reform_progress = 700
		}
	}
	modifiers = {
		global_missionary_strength = -0.01
	}
}

#Priesthood-Hellenic
msg_spartan_heralds_no = {
	icon = "msg_spartan_heralds_no"
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		NOT = { has_reform = msg_spartan_heralds_ref }
	}
}

msg_spartan_heralds_ref = {
	icon = "msg_spartan_heralds_ref"
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_spartan_heralds_ref } 
			}
			if = {
				limit = {
					ai = no
				}
				stability = 1
			}
			adm_power = 50

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		add_adm_power = -50
		add_corruption = 3
		country_event = { id = msg_reforms.6 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_spartan_heralds_yes = {
	icon = "msg_spartan_heralds_yes"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		if = {
			limit = {
				has_global_flag = msg_first_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_spartan_heralds_yes
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_spartan_heralds_yes
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = hellenic }
	}
}

#Organisation-Hellenic
msg_native_deities_no = {
	icon = "msg_native_deities_no"
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		NOT = { has_reform = msg_native_deities_ref }
	}
	modifiers = {
		tolerance_heretic = -1
	}
}

msg_native_deities_ref = {
	icon = "msg_native_deities_ref"
	#lock_level_when_selected = yes
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_native_deities_ref } 
			}
			if = {
				limit = {
					ai = no
				}
				stability = 1
			}
			adm_power = 50
			prestige = 20

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		tolerance_heretic = -0.8
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		if = {
			limit = { ai = no }
			add_stability = -1
		}
		add_adm_power = -50
		add_prestige = -20
		country_event = { id = msg_reforms.7 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_native_deities_yes = {
	icon = "msg_native_deities_yes"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		if = {
			limit = {
				has_global_flag = msg_second_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_native_deities_yes
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_native_deities_yes
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = hellenic }
	}
}

#Worship-Hellenic
msg_deify_leonidas_no = {
	icon = "msg_deify_leonidas_no"
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		NOT = { has_reform = msg_deify_leonidas_ref }
	}
	modifiers = {
		tolerance_own = -1
	}
}

msg_deify_leonidas_ref = {
	icon = "msg_deify_leonidas_ref"
	#lock_level_when_selected = yes
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_deify_leonidas_ref } 
			}
			custom_trigger_tooltip = {
				tooltip = msg_leonidas_dead
				NOT = { has_ruler_modifier = msg_has_leonidas }
			}
			if = {
				limit = {
					ai = no
				}
				stability = 0
			}
			adm_power = 50
			
			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		tolerance_own = -0.8
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		add_stability_or_adm_power = yes
		#custom_tooltip = msg_add_stability_after
		add_adm_power = -50
		country_event = { id = msg_reforms.5 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_deify_leonidas_yes = {
	icon = "msg_deify_leonidas_yes"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = pantheon_worship
	}
	trigger = {
		if = {
			limit = {
				has_global_flag = msg_third_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_deify_leonidas_yes
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_deify_leonidas_yes
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = hellenic }
	}
}

##Aztlan
#Base
msg_aztlan0_ref = {
	icon = "msg_aztlan0_ref"
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		#custom_trigger_tooltip = {
			#tooltip = msg_economy0_tt
			NOT = { has_reform = msg_aztlan_priesthood_yes }
			NOT = { has_reform = msg_old_faith_yes }
			NOT = { has_reform = msg_sacrifice_yes }
		#}
		NOT = { has_reform = msg_aztlan1_ref }
		NOT = { has_reform = msg_aztlan2_ref }
		NOT = { has_reform = msg_aztlan3_ref }
	}
	modifiers = {
		adm_tech_cost_modifier = 0.2
		missionaries = -1
		global_missionary_strength = -0.04
		tolerance_own = -1
		tolerance_heretic = -2
	}
}
msg_aztlan1_ref = {
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = aztlan_worship
	}
	icon = "msg_aztlan1_ref"
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_religious1_ref_tt
			OR = {
				has_reform = msg_aztlan_priesthood_yes
				has_reform = msg_old_faith_yes
				has_reform = msg_sacrifice_yes
			}
			NOT = {
				AND = {
					has_reform = msg_aztlan_priesthood_yes
					has_reform = msg_old_faith_yes
				}
				AND = {
					has_reform = msg_aztlan_priesthood_yes
					has_reform = msg_sacrifice_yes
				}
				AND = {
					has_reform = msg_sacrifice_yes
					has_reform = msg_old_faith_yes
				}
			}
		}
		NOT = { has_reform = msg_aztlan2_ref }
		NOT = { has_reform = msg_aztlan3_ref }
	}
	modifiers = {
		adm_tech_cost_modifier = 0.1
		global_missionary_strength = -0.03
		tolerance_own = -1
		tolerance_heretic = -1
	}
}
msg_aztlan2_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	potential = {
		religion = aztlan_worship
	}
	icon = "msg_aztlan2_ref"
	trigger = {
		custom_trigger_tooltip = {
			tooltip = msg_religious2_ref_tt
			OR = {
				AND = {
					has_reform = msg_aztlan_priesthood_yes
					has_reform = msg_old_faith_yes
				}
				AND = {
					has_reform = msg_aztlan_priesthood_yes
					has_reform = msg_sacrifice_yes
				}
				AND = {
					has_reform = msg_sacrifice_yes
					has_reform = msg_old_faith_yes
				}
				
			}
			NOT = {
				AND = {
					has_reform = msg_aztlan_priesthood_yes
					has_reform = msg_old_faith_yes
					has_reform = msg_sacrifice_yes
				}
			}
		}
		NOT = { has_reform = msg_aztlan3_ref }
	}
	modifiers = {
		global_missionary_strength = -0.02
		tolerance_own = -1
		tolerance_heretic = -1
	}
}
msg_aztlan3_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	potential = {
		religion = aztlan_worship
	}
	icon = "msg_aztlan3_ref"
	trigger = {
		has_reform = msg_aztlan_priesthood_yes
		has_reform = msg_old_faith_yes
		has_reform = msg_sacrifice_yes
	}
	effect = {
		custom_tooltip = msg_pass_crush_to_remove_debuffs_tt
		custom_tooltip = nhs_new_line_tt
		custom_tooltip = to_reform_effects_tt
		custom_tooltip = msg_gain_700_rp_if_has_all_rel_tt
		if = {
			limit = {
				has_reform = msg_government3_ref
				has_reform = msg_economy3_ref
			}
			change_government_reform_progress = 700
		}
	}
	modifiers = {
		global_missionary_strength = -0.01
	}
}

#Priesthood-Aztlan
msg_aztlan_priesthood_no = {
	icon = "msg_aztlan_priesthood_no"
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		NOT = { has_reform = msg_aztlan_priesthood_ref }
	}
	modifiers = {
		global_missionary_strength = -0.02
	}
}

msg_aztlan_priesthood_ref = {
	icon = "msg_aztlan_priesthood_ref"
	#lock_level_when_selected = yes
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_aztlan_priesthood_ref } 
			}
			# if = {
				# limit = {
					# ai = no
				# }
				# stability = 1
			# }
			adm_power = 50

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		global_missionary_strength = -0.015
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		# if = {
			# limit = { ai = no }
			# add_stability = -1
		# }
		add_adm_power = -50
		country_event = { id = msg_reforms.8 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_aztlan_priesthood_yes = {
	icon = "msg_aztlan_priesthood_yes"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		if = {
			limit = {
				has_global_flag = msg_first_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_aztlan_priesthood_yes
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_aztlan_priesthood_yes
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = aztlan }
	}
}

#Reorganisation-Aztlan
msg_old_faith_no = {
	icon = "msg_hellenic0_ref"
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		NOT = { has_reform = msg_old_faith_ref }
	}
	modifiers = {
		tolerance_heretic = -1
		tolerance_own = -1
	}
}

msg_old_faith_ref = {
	icon = "msg_old_faith_ref"
	#lock_level_when_selected = yes
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_old_faith_ref } 
			}
			if = {
				limit = {
					ai = no
				}
				stability = 1
			}
			adm_power = 50
			prestige = 20

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		tolerance_heretic = -0.8
		tolerance_own = -0.8
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		if = {
			limit = { ai = no }
			add_stability = -1
		}
		add_adm_power = -50
		add_prestige = -20
		country_event = { id = msg_reforms.9 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_old_faith_yes = {
	icon = "msg_hellenic3_ref"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		if = {
			limit = {
				has_global_flag = msg_second_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_old_faith_yes
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_old_faith_yes
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = aztlan }
	}
}

#Worship-Aztlan
msg_sacrifice_no = {
	icon = "msg_sacrifice_no"
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		NOT = { has_reform = msg_sacrifice_ref }
	}
	modifiers = {
		stability_cost_modifier = 0.50
	}
}

msg_sacrifice_ref = {
	icon = "msg_sacrifice_ref"
	#lock_level_when_selected = yes
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_sacrifice_ref } 
			}
			if = {
				limit = {
					ai = no
				}
				stability = 0
			}
			adm_power = 50
			legitimacy = 70

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		stability_cost_modifier = 0.40
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		add_stability_or_adm_power = yes
		#custom_tooltip = msg_add_stability_after
		add_adm_power = -50
		add_legitimacy = -20
		country_event = { id = msg_reforms.10 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_sacrifice_yes = {
	icon = "msg_sacrifice_yes"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		religion = aztlan_worship
	}
	trigger = {
		if = {
			limit = {
				has_global_flag = msg_third_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_sacrifice_yes
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_sacrifice_yes
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = aztlan }
	}
}

##Orthodox
#Base
msg_christian0_ref = {
	icon = "msg_christian0_ref"
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		#custom_trigger_tooltip = {
			#tooltip = msg_economy0_tt
			NOT = { has_reform = msg_spartan_patriarch_yes }
			NOT = { has_reform = msg_holy_army_yes }
			NOT = { 
				custom_trigger_tooltip = {
					tooltip = msg_has_saint_leo_reform_tt
					OR = {
						has_reform = msg_saint_leo_yes
						has_reform = msg_saint_leo_yes_sinner
					}
				}
			}
		#}
		NOT = { has_reform = msg_christian1_ref }
		NOT = { has_reform = msg_christian2_ref }
		NOT = { has_reform = msg_christian3_ref }
	}
	modifiers = {
		adm_tech_cost_modifier = 0.2
		missionaries = -1
		global_missionary_strength = -0.04
		tolerance_own = -1
		tolerance_heretic = -2
	}
}
msg_christian1_ref = {
	#lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	icon = "msg_christian1_ref"
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		custom_trigger_tooltip = {
			tooltip = msg_religious1_ref_tt
			OR = {
				has_reform = msg_spartan_patriarch_yes
				has_reform = msg_holy_army_yes
				custom_trigger_tooltip = {
					tooltip = msg_has_saint_leo_reform_tt
					OR = {
						has_reform = msg_saint_leo_yes
						has_reform = msg_saint_leo_yes_sinner
					}
				}
			}
			NOT = {
				AND = {
					has_reform = msg_spartan_patriarch_yes
					has_reform = msg_holy_army_yes
				}
				AND = {
					has_reform = msg_spartan_patriarch_yes
					custom_trigger_tooltip = {
						tooltip = msg_has_saint_leo_reform_tt
						OR = {
							has_reform = msg_saint_leo_yes
							has_reform = msg_saint_leo_yes_sinner
						}
					}
				}
				AND = {
					custom_trigger_tooltip = {
						tooltip = msg_has_saint_leo_reform_tt
						OR = {
							has_reform = msg_saint_leo_yes
							has_reform = msg_saint_leo_yes_sinner
						}
					}
					has_reform = msg_holy_army_yes
				}
			}
		}
		NOT = { has_reform = msg_christian2_ref }
		NOT = { has_reform = msg_christian3_ref }
	}
	modifiers = {
		adm_tech_cost_modifier = 0.1
		global_missionary_strength = -0.03
		tolerance_own = -1
		tolerance_heretic = -1
	}
}
msg_christian2_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	icon = "msg_christian2_ref"
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		custom_trigger_tooltip = {
			tooltip = msg_religious2_ref_tt
			OR = {
				AND = {
					has_reform = msg_spartan_patriarch_yes
					has_reform = msg_holy_army_yes
				}
				AND = {
					has_reform = msg_spartan_patriarch_yes
					custom_trigger_tooltip = {
						tooltip = msg_has_saint_leo_reform_tt
						OR = {
							has_reform = msg_saint_leo_yes
							has_reform = msg_saint_leo_yes_sinner
						}
					}
				}
				AND = {
					custom_trigger_tooltip = {
						tooltip = msg_has_saint_leo_reform_tt
						OR = {
							has_reform = msg_saint_leo_yes
							has_reform = msg_saint_leo_yes_sinner
						}
					}
					has_reform = msg_holy_army_yes
				}
				
			}
			NOT = {
				AND = {
					has_reform = msg_spartan_patriarch_yes
					has_reform = msg_holy_army_yes
					custom_trigger_tooltip = {
						tooltip = msg_has_saint_leo_reform_tt
						OR = {
							has_reform = msg_saint_leo_yes
							has_reform = msg_saint_leo_yes_sinner
						}
					}
				}
			}
		}
		NOT = { has_reform = msg_christian3_ref }
	}
	modifiers = {
		global_missionary_strength = -0.02
		tolerance_own = -1
		tolerance_heretic = -1
	}
}
msg_christian3_ref = {
	#lock_level_when_selected = yes
	#allow_normal_conversion = no
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	icon = "msg_christian3_ref"
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		has_reform = msg_spartan_patriarch_yes
		has_reform = msg_holy_army_yes
		custom_trigger_tooltip = {
			tooltip = msg_has_saint_leo_reform_tt
			OR = {
				has_reform = msg_saint_leo_yes
				has_reform = msg_saint_leo_yes_sinner
			}
		}
	}
	effect = {
		custom_tooltip = msg_pass_crush_to_remove_debuffs_tt
		custom_tooltip = nhs_new_line_tt
		custom_tooltip = to_reform_effects_tt
		custom_tooltip = msg_gain_700_rp_if_has_all_rel_tt
		if = {
			limit = {
				has_reform = msg_government3_ref
				has_reform = msg_economy3_ref
			}
			change_government_reform_progress = 700
		}
	}
	modifiers = {
		global_missionary_strength = -0.01
	}
}

#Priesthood-Orthodox
msg_spartan_patriarch_no = {
	icon = "msg_spartan_patriarch_no"
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		NOT = { has_reform = msg_spartan_patriarch_ref }
	}
	#modifiers = {
		#global_missionary_strength = -0.01
	#}
}

msg_spartan_patriarch_ref = {
	icon = "msg_spartan_patriarch_ref"
	#lock_level_when_selected = yes
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_spartan_patriarch_ref } 
			}
			OR = {
				religion = orthodox
				religion = elysian_orthodoxy
			}
			if = {
				limit = {
					ai = no
				}
				stability = 1
			}
			adm_power = 50
			
			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	#modifiers = {
	#	global_missionary_strength = -0.008
	#}
	effect = {
		custom_tooltip = to_reform_effects_tt
		# if = {
			# limit = { ai = no }
			# add_stability = -1
		# }
		add_adm_power = -50
		add_corruption = 3
		country_event = { id = msg_reforms.11 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_spartan_patriarch_yes = {
	icon = "msg_spartan_patriarch_yes"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		if = {
			limit = {
				has_global_flag = msg_first_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_spartan_patriarch_yes
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_spartan_patriarch_yes
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = christian }
	}
}

#Reorganisation-Orthodox
msg_holy_army_no = {
	icon = "msg_holy_army_no"
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		NOT = { has_reform = msg_holy_army_ref }
	}
	modifiers = {
		manpower_recovery_speed = -0.25
	}
}

msg_holy_army_ref = {
	icon = "msg_holy_army_ref"
	#lock_level_when_selected = yes
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_holy_army_ref } 
			}
			OR = {
				religion = orthodox
				religion = elysian_orthodoxy
			}
			if = {
				limit = {
					ai = no
				}
				stability = 1
			}
			mil_power = 50
			manpower = 5
			owns_or_non_sovereign_subject_of = 852
			owns_or_non_sovereign_subject_of = 846

			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		manpower_recovery_speed = -0.20
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		# if = {
			# limit = { ai = no }
			# add_stability = -1
		# }
		add_mil_power = -50
		add_manpower = -5
		country_event = { id = msg_reforms.12 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_holy_army_yes = {
	icon = "soldiers_4"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		if = {
			limit = {
				has_global_flag = msg_second_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_holy_army_yes
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_holy_army_yes
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = christian }
	}
}

#Worship-Orthodox
msg_saint_leo_no = {
	icon = "msg_saint_leo_no"
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		NOT = { has_reform = msg_saint_leo_ref }
	}
	modifiers = {
		tolerance_own = -1
	}
}

msg_saint_leo_ref = {
	icon = "msg_saint_leo_ref"
	#lock_level_when_selected = yes
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
	}
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_saint_leo_ref } 
			}
			OR = {
				religion = orthodox
				religion = elysian_orthodoxy
			}
			if = {
				limit = {
					ai = no
				}
				stability = 1
			}
			adm_power = 50
			custom_trigger_tooltip = {
				tooltip = msg_leonidas_dead
				NOT = { has_ruler_modifier = msg_has_leonidas }
			}
			if = {
				limit = {
					ai = yes
				}
				always = no
			}
		}
	}
	modifiers = {
		tolerance_own = -0.8
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		# if = {
			# limit = { ai = no }
			# add_stability = -1
		# }
		add_adm_power = -50
		country_event = { id = msg_reforms.13 }
		
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
		if = {
			limit = {
				is_in_war = {
					attacker_leader = ROOT
				}
			}
			custom_tooltip = msg_starting_war_verybad_tt
		}
		else = {
			custom_tooltip = msg_starting_war_bad_tt
		}
	}
	ai = {
		factor = 100
	}
}

msg_saint_leo_yes = {
	icon = "elysian_patriarchy"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
		NOT = { has_reform = msg_saint_leo_yes_sinner }
	}
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		if = {
			limit = {
				has_global_flag = msg_third_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_saint_leo_yes
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_saint_leo_yes
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = christian }
	}
}

msg_saint_leo_yes_sinner = {
	icon = "msg_saint_leo_yes_sinner"
	lock_level_when_selected = yes
	allow_normal_conversion = no
	potential = {
		NOT = { religion = pantheon_worship }
		NOT = { religion = aztlan_worship }
		has_reform = msg_saint_leo_yes_sinner
	}
	trigger = {
		OR = {
			religion = orthodox
			religion = elysian_orthodoxy
		}
		if = {
			limit = {
				has_global_flag = msg_third_religious_reform_done
			}
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_1_year #A year has passed since we enacted the reform
				has_reform = msg_saint_leo_yes_sinner
			}
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = msg_had_reform_for_3_years #3 years has passed since we enacted the reform
				has_reform = msg_saint_leo_yes_sinner
			}
		}
	}
	effect = {
		#improve religion
		custom_tooltip = to_reform_effects_tt
		msg_advance_major_reform_track = { TYPE = christian }
	}
}



##CRUSH NOBLES
msg_crush_nobles_ref = {
	icon = "fist_in_air"
	trigger = {
		if = {
			limit = { 
				NOT = { has_reform = msg_crush_nobles_ref } 
			}
			if = {
				limit = {
					ai = yes
				}
				always = no
			}
			if = {
				limit = {
					ai = no
				}
				crown_land_share = 50
				stability = 2
			}
			mil_power = 100
			adm_power = 100
			dip_power = 100
			has_reform = msg_government3_ref
			has_reform = msg_economy3_ref
			if = {
				limit = {
					religion = pantheon_worship
				}
				has_reform = msg_hellenic3_ref
			}
			else_if = {
				limit = {
					religion = aztlan_worship
				}
				has_reform = msg_aztlan3_ref
			}
			else_if = {
				limit = {
					OR = {
						religion = orthodox
						religion = elysian_orthodoxy
					}
				}
				has_reform = msg_christian3_ref
			}
		}
	}
	modifiers = {
		global_unrest = 10
		estate_nhs_apogonoi_influence_modifier = -0.1
		estate_nhs_pipiltin_influence_modifier = -0.1
	}
	effect = {
		custom_tooltip = to_reform_effects_tt
		#
		#hidden_effect = {
		#	add_corruption = -10
		#}
		add_corruption = -5
		if = {
			limit = {
				ai = no
			}
			add_stability = -2
		}
		add_adm_power = -100
		add_dip_power = -100
		add_mil_power = -100
		country_event = { id = msg_reforms.17 }
		# clr_country_flag = msg_reform_in_progress
		# set_country_flag = msg_reform_in_progress
	}
}