native_council_after = {
	icon = "generic_people"
	allow_normal_conversion = no
	potential = {
		#nhs_is_elysia_not_seen = yes
		has_reform = native_council_after
	}
	lock_level_when_selected = yes
	duration = 6
	modifiers = {
		stability_cost_modifier = -0.15
		land_maintenance_modifier = -0.15
		land_forcelimit_modifier = 0.15
		max_absolutism = -30
	}
	custom_attributes = {
		enables_aristocratic_idea_group = no
		enables_plutocratic_idea_group = yes
		locked_government_type = yes
	}
	
	conditional = {
		allow = {
			has_dlc = "Res Publica"
		}
		states_general_mechanic = {
			council = {
				advisor_cost = -0.25
				administrative_efficiency = 0.05
				stability_cost_modifier = -0.10
				republican_tradition = 0.5
			}

			chief = {
				prestige = 0.5
				all_power_cost = -0.05
				global_autonomy = -0.05
				republican_tradition = -0.5
			}
		}
	}
}

# TIER 0

native_reformed_basic_reform = {
	basic_reform = yes
	native_mechanic = yes
	allow_migration = yes
	valid_for_new_country = no
	allow_normal_conversion = yes
	republican_name = yes
	royal_marriage = no
	custom_attributes = {
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = no
		enables_natives_idea_group = yes
	}
	modifiers = {
		tribal_development_growth = 0.15
	}
	valid_for_nation_designer = no
	nation_designer_cost = 0
}

# TIER I

to_native_reform_egalitarian = {
	icon = "retain_tribal_hierarchy"
	disallowed_trade_goods = { slaves }
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	modifiers = {
		land_morale = 0.10
		female_advisor_chance = 0.3
		max_absolutism = -10
	}
}

to_native_reform_stratified = {
	icon = "shaman"
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	heir = yes
	nation_designer_cost = 20
	modifiers = {
		global_manpower_modifier = 0.2
	}
}

# to_native_reform_theocracy = {
# 	icon = "tribal_religious_society"
# 	allow_normal_conversion = yes
# 	valid_for_nation_designer = yes
# 	nation_designer_cost = 20
# 	modifiers = {
# 		tolerance_own = 2
# 		manpower_in_true_faith_provinces = 0.20
# 	}
# }

# TIER III

to_native_reform_nomadic_raiders = {
	icon = "horde_riding"

	potential = {
		capital_scope = {
			region = great_plains_region
		}
	}
	nomad = yes
	raze_province = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 0

	lock_level_when_selected = yes

	start_territory_to_estates = 0.5

	modifiers = {
		global_manpower_modifier = 0.2
		land_forcelimit_modifier = 0.3
	}
	ai = {
		factor = 1000
	}
}

# TIER IV

to_native_reform_consensus_government = {
	# icon = "native_earthwork"
	icon = "native_clan_council_reform"
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	republic = yes
	has_term_election = no
	# If this is enabled then War Chiefs can't be defined as generals, even via events
	# on the other hand council is a "regency" so it can't be a general anyway
	# rulers_can_be_generals = no
	trigger = {
		NOT = { has_reform = to_native_reform_law_of_peace }
	}
	modifiers = {
		# advisor_cost = -0.20
		# global_unrest = -3
		# min_autonomy = 15
		# max_absolutism = -20
		native_assimilation = 1
		global_unrest = -3
		years_of_nationalism = -5
		max_absolutism = -20
		min_autonomy = 15
	}
	effect = {
		to_enables_or_switches_native_estates = { FROM_ESTATE = estate_nobles TO_ESTATE = estate_clans }
		if = {
			limit = {
				NOT = { has_ruler_flag = to_nat_has_native_council }
				NOT = { has_country_flag = appointed_war_chief }
			}
			to_assign_native_council_fixed_stats = {
				ADM = 3
				DIP = 3
				MIL = 3
			}
		}
		custom_tooltip = to_nat_war_chief_tt
		hidden_effect = {
            hidden_effect = {
                add_republican_tradition = -100
                add_republican_tradition = 80
            }
        }
	}

	custom_attributes = {
		election_on_death = yes
	}
}

to_native_reform_law_of_peace = {
	icon = "longhouse"
	potential = {
		have_had_reform = to_native_reform_law_of_peace
	}
	trigger = {
		has_reform = to_native_reform_egalitarian
	}
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	republic = yes
	heir = no
	has_term_election = no
	modifiers = {
		native_assimilation = 1
		global_unrest = -3
		years_of_nationalism = -5
		diplomatic_reputation = 2
		max_absolutism = -20
		min_autonomy = 15
	}
	effect = {
		to_enables_or_switches_native_estates = { FROM_ESTATE = estate_nobles TO_ESTATE = estate_clans }
		if = {
			limit = {
				NOT = { has_ruler_flag = to_nat_has_native_council }
				NOT = { has_country_flag = appointed_war_chief }
			}
			to_assign_native_council_fixed_stats = {
				ADM = 3
				DIP = 3
				MIL = 3
			}
		}
		custom_tooltip = to_nat_war_chief_tt
		hidden_effect = {
			hidden_effect = {
                add_republican_tradition = -100
                add_republican_tradition = 80
            }
        }
	}

	custom_attributes = {
		election_on_death = yes
	}
}

to_native_reform_grand_chiefdom = {
	icon = "chief"
	allow_normal_conversion = yes
	republic = yes
	has_term_election = no
	heir = no
	modifiers = {
		stability_cost_modifier = -0.33
		max_absolutism = 10
	}

	effect = {
		to_enables_or_switches_native_estates = { FROM_ESTATE = estate_nobles TO_ESTATE = estate_clans }
		hidden_effect = {
			set_variable = {
				which = to_nat_chiefdom_dinasty_counter
				value = 1
			}
			hidden_effect = {
				add_republican_tradition = -100
				add_republican_tradition = 80
			}
		}
		if = {
			limit = {
				has_country_flag = appointed_war_chief
			}
			custom_tooltip = to_nat_warchief_remains_tt
		}
		else = {
			custom_tooltip = to_nat_warchief_will_remain_tt
			if = {
				limit = {
					has_ruler_flag = to_nat_has_native_council
				}
				define_ruler = {
					hide_skills = yes
				}
			}
		}
	}

	custom_attributes = {
		election_on_death = yes
	}
}

to_native_reform_kingdom = {
	icon = "chieftain"
	allow_normal_conversion = yes
	monarchy = yes
	heir = yes
	queen = yes
	trigger = {
		has_reform = to_native_reform_stratified
		# OR = {
		# 	has_reform = to_native_reform_stratified
		# 	has_reform = to_native_reform_theocracy
		# }
	}
	modifiers = {
		# prestige = 1
		unjustified_demands = -0.2
		all_power_cost = -0.05
		max_absolutism = 10
		# governing_capacity = 200
	}

	effect = {
		to_enables_or_switches_native_estates = { FROM_ESTATE = estate_clans TO_ESTATE = estate_nobles }
		if = {
			limit = {
				has_country_flag = appointed_war_chief
			}
			custom_tooltip = to_nat_warchief_remains_tt
			hidden_effect = {
                add_legitimacy = -100
                add_legitimacy = 80
            }
		}
		else = {
			custom_tooltip = to_nat_warchief_will_remain_tt
			if = {
				limit = {
					has_ruler_flag = to_nat_has_native_council
				}
				define_ruler = {
					claim = 80
					hide_skills = yes
					min_age = 30
					max_age = 60
				}
			}
		}
	}
}

# TIER V

to_native_reform_codified_power = {
	icon = "federal_constitution"
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 20

	modifiers = {
		legitimacy = 1
		monthly_heir_claim_increase = 0.5
		republican_tradition = 0.5
		horde_unity = 2
	}
	effect = {
		to_nat_reform_native_government = yes
	}
	
}

to_native_reform_government_power = {
	icon = "organising_our_religion_reform"
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 20

	modifiers = {
		all_power_cost = -0.05
		monthly_reform_progress_modifier = -0.2
	}
	effect = {
		to_nat_reform_native_government = yes
	}
	
}

to_native_reform_higher_powers = {
	icon = "native_codified_power_reform"
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 20

	modifiers = {
		tolerance_own = 2
		stability_cost_modifier = -0.33
	}
	effect = {
		to_nat_reform_native_government = yes
	}
}

# TIER VI

to_native_reform_elections = {
	icon = "ballot_box"
	allow_normal_conversion = yes

	trigger = {
		OR = {
			has_reform = to_native_reform_consensus_government
			has_reform = to_native_reform_law_of_peace
			has_reform = to_native_reform_grand_chiefdom
		}
	}

	has_term_election = yes
	duration = 8

	modifiers = {
		advisor_pool = 1
	}

	effect = {
		if = {
			limit = {
				OR = {
					has_reform = to_native_reform_consensus_government
					has_reform = to_native_reform_law_of_peace
				}
				NOT = { has_ruler_flag = to_nat_has_native_council }
				NOT = { has_country_flag = appointed_war_chief }
			}
			to_assign_native_council_fixed_stats = {
				ADM = 3
				DIP = 3
				MIL = 3
			}
		}
		# custom_tooltip = to_nat_council_elections_tt
	}
}

to_native_reform_centralise_power = {
	icon = "red_jacket"
	allow_normal_conversion = yes
	rulers_can_be_generals = yes
	potential = {
		has_dlc = "Res Publica"
	}
	trigger = {
		OR = {
			has_reform = to_native_reform_consensus_government
			has_reform = to_native_reform_law_of_peace
		}
	}

	modifiers = {
		max_absolutism = 10
	}
	effect = {
		custom_tooltip = to_nat_disable_war_chief_tt
		if = {
			limit = {
				has_country_flag = appointed_war_chief
			}
			custom_tooltip = to_nat_warchief_remains_tt
			change_statists_vs_orangists = 0.20
		}
		else = {
			custom_tooltip = to_nat_warchief_will_remain_tt
			if = {
				limit = {
					has_ruler_flag = to_nat_has_native_council
				}
				country_event = { id = to_nat_governments.10 }
			}
		}
	}

	conditional = {
		allow = {
			has_dlc = "Res Publica"
		}
		has_term_election = yes
		duration = 8
		states_general_mechanic = {
			council = {
				advisor_cost = -0.10
				administrative_efficiency = 0.05
				stability_cost_modifier = -0.20
				republican_tradition = 0.5
				# yearly_absolutism = -1
			}

			chief = {
				all_power_cost = -0.05
				global_autonomy = -0.05
				republican_tradition = -1.5
			}
		}
	}
}

to_native_reform_feudalism = {
	# icon = "queen"
	icon = "tribal_centralize_power"
	allow_normal_conversion = yes

	trigger = {
		has_reform = to_native_reform_stratified
		has_reform = to_native_reform_kingdom
	}

	modifiers = {
		governing_capacity = 200
		global_manpower_modifier = 0.1
		nobles_influence_modifier = 0.1
		accept_vassalization_reasons = 15
	}

	custom_attributes = {
		enables_aristocratic_idea_group = yes
	}
}

to_native_promote_the_council_reform = {
	icon = "native_advisor"
	allow_normal_conversion = yes

	trigger = {
		OR = {
			has_reform = to_native_reform_grand_chiefdom
			has_reform = to_native_reform_kingdom
		}
	}

	modifiers = {
		administrative_efficiency = 0.05
		advisor_cost = -0.25
		advisor_pool = 1
		max_absolutism = -5
	}
}

to_native_reform_ruling_dynasties = {
	icon = "chief_and_family"
	allow_normal_conversion = yes
	republic = no
	monarchy = yes
	has_term_election = yes
	duration = 40

	trigger = {
		has_reform = to_native_reform_grand_chiefdom
	}

	modifiers = {
		legitimacy = 0.5
		candidate_random_bonus = 1
	}

	effect = {
		to_enables_or_switches_native_estates = { FROM_ESTATE = estate_clans TO_ESTATE = estate_nobles }
		# if = {
		# 	limit = {
		# 		NOT = { government = monarchy }
		# 	}
		# 	custom_tooltip = to_ruling_dynasties_yearly_legitimacy_tt
		# }
		# custom_tooltip = to_ruling_dynasties_elections_tt
	}
}

# to_native_absolute_rule_reform = {
# 	icon = "queen"
# 	allow_normal_conversion = yes

# 	trigger = {
# 		has_reform = to_native_reform_stratified
# 		has_reform = to_native_reform_kingdom
# 	}

# 	modifiers = {
# 		republican_tradition = -0.5
# 		yearly_absolutism = 1
# 		max_absolutism = 20
# 	}
# }

to_native_reform_military_rule = {
	icon = "axes"
	allow_normal_conversion = yes

	trigger = {
		OR = {
			has_reform = to_native_reform_grand_chiefdom
			has_reform = to_native_reform_kingdom
		}
		OR = {
		 	has_reform = martial_society_reform
			has_reform = to_native_reform_government_power
		}
	}

	modifiers = {
		monarch_diplomatic_power = -1
		monarch_military_power = 2
		army_tradition = 0.5
		governing_capacity_modifier = -0.5
	}

	conditional = {
		allow = { has_dlc = "Rights of Man" }
		militarised_society = yes
	}
}

# to_native_later_parliament_reform = {
# 	icon = "three_classes_reform"
# 	allow_normal_conversion = yes

# 	trigger = {
# 		OR = {
# 			government = monarchy
# 			government = theocracy
# 		}
# 	}

# 	modifiers = {
# 		free_adm_policy = 1
# 		possible_adm_policy = 1
# 	}

# 	conditional = {
#         allow = {
#             has_dlc = "Common Sense"
#         }
#         has_parliament = yes

# 		custom_attributes = {
# 			blocked_call_diet = yes
# 		}
#     }

# 	ai = {
# 		factor = 1
# 		modifier = {
# 			NOT = { has_dlc = "Common Sense" }
# 			factor = 0
# 		}
# 	}
# }

# to_native_separation_of_power_reform = {
# 	icon = "monks"
# 	allow_normal_conversion = yes

# 	trigger = {
# 		has_reform = to_native_reform_theocracy
#         OR = {
#             has_reform = to_native_reform_grand_chiefdom
#             has_reform = to_native_reform_consensus_government
#         }
# 	}

# 	modifiers = {
# 		diplomatic_upkeep = 1
# 		yearly_corruption = -0.05
# 	}
# }

to_native_reform_divine_dinasty = {
	icon = "divine_guidance_reform"
	allow_normal_conversion = yes
	has_devotion = yes
	maintain_dynasty = yes

	different_religion_acceptance = -20
	different_religion_group_acceptance = -50

	trigger = {
		has_reform = to_native_reform_kingdom
		has_reform = to_native_reform_higher_powers

		# has_reform = to_native_reform_theocracy
		# NOT = { has_reform = to_native_reform_consensus_government }
		# NOT = { has_reform = to_native_reform_law_of_peace }
	}

	modifiers = {
		devotion = 1
		tolerance_own = 2
		global_manpower_modifier = -0.2
		manpower_in_true_faith_provinces = 0.4
		max_absolutism = 50
	}
}

# TIER VI

to_native_placeholder_reform = {
	icon = "tribal_council"
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	modifiers = {
		global_manpower_modifier = 0.2
	}
}

to_native_placeholder2_reform = {
	icon = "tribal_council"
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 20
	modifiers = {
		global_manpower_modifier = 0.2
	}
}

# to_native_promote_aristocracy_reform = {
# 	icon = "queen"
# 	allow_normal_conversion = yes

# 	trigger = {
# 		has_reform = to_native_reform_stratified
# 	}

# 	modifiers = {
# 		army_tradition_decay = -0.03
# 		nobles_loyalty_modifier = 0.1
# 		nobles_influence_modifier = 0.05
# 	}

# 	conditional = {
#         allow = {
#             has_dlc = "Common Sense"
#         }
#         has_parliament = yes
#     }
# }