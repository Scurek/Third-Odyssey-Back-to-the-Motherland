#	Example:
# 
#	example_effect = {
#		treasury = 100
#		add_adm_power = 50
#	}
#
#
#	In a script file:
#
#	effect = {
#		example_effect = yes
#	}
#

nhs_unitus_deletus = {
	while = {
		limit = {
			any_owned_province = {
				OR = {
					infantry_in_province = ROOT
					cavalry_in_province = ROOT
					artillery_in_province = ROOT
					transports_in_province = ROOT
					galleys_in_province = ROOT
					light_ships_in_province = ROOT
					heavy_ships_in_province = ROOT
				}
			}
		}
		random_owned_province = {
			limit = {
				OR = {
					infantry_in_province = ROOT
					cavalry_in_province = ROOT
					artillery_in_province = ROOT
					transports_in_province = ROOT
					galleys_in_province = ROOT
					light_ships_in_province = ROOT
					heavy_ships_in_province = ROOT
				}
			}
			kill_units = {
				who = ROOT
				amount = 1
			}
		}
	}
	while = {
		limit = {
			any_province = {
				sea_zone = {
					OR = {
						transports_in_province = ROOT
						galleys_in_province = ROOT
						light_ships_in_province = ROOT
						heavy_ships_in_province = ROOT
					}
				}
			}
		}
		random_province = {
			limit = {
				sea_zone = {
					OR = {
						transports_in_province = ROOT
						galleys_in_province = ROOT
						light_ships_in_province = ROOT
						heavy_ships_in_province = ROOT
					}
				}
			}
			sea_zone = {
				kill_units = {
					who = ROOT
					amount = 1
				}
			}
		}
	}
}
nhs_low_supply_warning = {
	# if = {
		# limit = {
			# NOT = {
				# check_variable = {
					# which = nhs_new_flight_food_status
					# value = 1
				# }
			# }
		# }
		# custom_tooltip = nhs_low_supply_warning_tt
		# custom_tooltip = nhs_new_line_tt
	# }
}

nhs_switch_starting_event = {
	if = {
		limit = {
			is_year = 1445
			is_month = 2
		}
		custom_tooltip = nhs_enough_delay_flight_tt
		hidden_effect = {
			country_event = { id = nhs_new_flightevents.8 days = 7 }
		}
	}
	if = {
		limit = {
			NOT = {
				AND = {
					is_year = 1445
					is_month = 2
				}
			}
		}
		hidden_effect = {
			country_event = { id = nhs_new_flightevents.6 }
		}
	}
}

nhs_switch_starting_event_2 = {
	if = {
		limit = {
			is_year = 1445
			is_month = 2
		}
		custom_tooltip = nhs_enough_delay_flight_tt
		hidden_effect = {
			country_event = { id = nhs_new_flightevents.8 days = 7 }
		}
	}
	if = {
		limit = {
			NOT = {
				AND = {
					is_year = 1445
					is_month = 2
				}
			}
		}
		hidden_effect = {
			country_event = { id = nhs_new_flightevents.5 }
		}
	}
}

nhs_spawn_starting_flagship = {
	if = {
		limit = {
			has_dlc = "Golden Century"
		}
		custom_tooltip = nhs_starting_flagship_tt
		set_country_flag = nhs_first_flagship
		953 = {
			create_flagship = {	
				name = "Aghia Theotoke"
				type = heavy_ship
			}
		}
		clr_country_flag = nhs_first_flagship
	}
}

nhs_reduce_skoros_silk_price = {
	if = {
		limit = {
			any_province = {
				trade_goods = skoros_silk
			}
			NOT = { has_global_flag = nhs_skoros_silk_falls }
		}
		change_price = {
			trade_goods = skoros_silk
			key = NHS_SKOROS_FALLS
			value = -0.5
			duration = -1
		}
	}
	else_if = {
		limit = {
			NOT = { has_global_flag = nhs_skoros_silk_falls }
		}
		hidden_effect = {
			change_price = {
				trade_goods = skoros_silk
				key = NHS_SKOROS_FALLS
				value = -0.5
				duration = -1
			}
		}
	}
	set_global_flag = nhs_skoros_silk_falls
}

nhs_increase_skoros_silk_price = {
	if = {
		limit = {
			has_global_flag = nhs_skoros_silk_falls
			any_province = {
				trade_goods = skoros_silk
			}
		}
		change_price = {
			trade_goods = skoros_silk
			key = NHS_SKOROS_ISOLATIONISM
			value = 0.5
			duration = -1
		}
	}
	else_if = {
		limit = {
			has_global_flag = nhs_skoros_silk_falls
		}
		hidden_effect = {
			change_price = {
				trade_goods = skoros_silk
				key = NHS_SKOROS_ISOLATIONISM
				value = 0.5
				duration = -1
			}
		}
	}
}

vov_varangian_heir_ruler_general = {
	[[HEIR_FEMALE]
		custom_tooltip = vov_heir_to_general
	]
	[[HEIR_MALE]
		custom_tooltip = vov_heir_to_general
	]
	[[RULER_MALE]
		custom_tooltip = vov_ruler_to_general
	]
	[[RULER_FEMALE]
		custom_tooltip = vov_ruler_to_general
	]
	hidden_effect = {
		if = {
			limit = {
				NOT = { army_tradition = 75 }
			}
			add_army_tradition = 25
			[[HEIR_FEMALE]
				convert_female_heir_to_general = yes
			]
			[[HEIR_MALE]
				convert_heir_to_general = yes
			]
			[[RULER_MALE]
				convert_ruler_to_general = yes
			]
			[[RULER_FEMALE]
				convert_female_ruler_to_general = yes
			]
			add_army_tradition = -25
		}
		else = {
			set_variable = {
				which = vov_trad_var
				value = 0
			}
			while = {
				limit = {
					NOT = { army_tradition = 100 }
				}
				change_variable = {
					which = vov_trad_var
					value = 1
				}
				add_army_tradition = 1
			}
			[[HEIR_FEMALE]
				convert_female_heir_to_general = yes
			]
			[[HEIR_MALE]
				convert_heir_to_general = yes
			]
			[[RULER_MALE]
				convert_ruler_to_general = yes
			]
			[[RULER_FEMALE]
				convert_female_ruler_to_general = yes
			]
			while = {
				limit = {
					check_variable = {
						which = vov_trad_var
						value = 1
					}
				}
				change_variable = {
					which = vov_trad_var
					value = -1
				}
				add_army_tradition = -1
			}
		}
	}
}

nhs_change_to_proper_orthodox_religion = {
	if = {
		limit = {
			OR = {
				ROOT = {
					religion = orthodox
				}
				NOT = { has_global_flag = nhs2_patriarchate_established }
			}
		}
		change_religion = orthodox
	}
	else = {
		change_religion = elysian_orthodoxy
	}
}

nhs_squips_integration_exist = {
	SHQ = {
		change_primary_culture = shqipproi
		change_religion = ROOT
		add_opinion = {
			who = ROOT
			modifier = nhs_forced_culture_change
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_albanian_majority_tm
					culture = shqiperi
				}
			}
			change_culture = shqipproi
			if = {
				limit = {
					has_province_modifier = nhs2_albanian_majority_tm
				}
				custom_tooltip = nhs_update_albanian_majority_tt
				custom_tooltip = nhs_self_governance_tt
				hidden_effect = {
					remove_province_triggered_modifier = nhs2_albanian_majority_tm
					add_province_triggered_modifier = nhs2_albanian_majority2_tm
				}
			}
		}
	}
	every_province = {
		limit = {
			OR = {
				has_province_modifier = nhs2_albanian_majority_tm
				culture = shqiperi
			}
			NOT = { owned_by = SHQ }
		}
		change_culture = shqipproi
		if = {
			limit = {
				has_province_modifier = nhs2_albanian_majority_tm
			}
			custom_tooltip = nhs_update_albanian_majority_tt
			hidden_effect = {
				remove_province_triggered_modifier = nhs2_albanian_majority_tm
				add_province_triggered_modifier = nhs2_albanian_majority2_tm
			}
		}
	}
	set_global_flag = nhs_shqiperi_into_elysian
	clr_country_flag = nhs_ingrate40
	clr_country_flag = nhs_ingrate30
	clr_country_flag = nhs_ingrate20
	clr_country_flag = nhs_ingrate10
}

nhs_squips_integration_not_exists = {
	every_province = {
		limit = {
			OR = {
				has_province_modifier = nhs2_albanian_majority_tm
				culture = shqiperi
			}
		}
		change_culture = shqipproi
		if = {
			limit = {
				has_province_modifier = nhs2_albanian_majority_tm
			}
			custom_tooltip = nhs_update_albanian_majority_tt
			hidden_effect = {
				remove_province_triggered_modifier = nhs2_albanian_majority_tm
				add_province_triggered_modifier = nhs2_albanian_majority2_tm
			}
		}
	}
	hidden_effect = {
		SHQ = {
			change_primary_culture = shqipproi
			change_religion = ROOT
		}
	}
	set_global_flag = nhs_shqiperi_into_elysian
	clr_country_flag = nhs_ingrate40
	clr_country_flag = nhs_ingrate30
	clr_country_flag = nhs_ingrate20
	clr_country_flag = nhs_ingrate10
}

nhs_increase_variable = {
	change_variable = {
		which = $VARIABLE$
		value = $VAL$
	}
	if = {
		limit = {
			check_variable = {
				which = $VARIABLE$
				value = $MAX$
			}
		}
		set_variable = {
			which = $VARIABLE$
			value = $MAX$
		}
	}
}

nhs_release_elysian_splinter = {
	if = {
		limit = {
			any_owned_province = {
				culture = $CULTURE$
			}
		}
		every_owned_province = {
			limit = {
				culture = $CULTURE$
				NOT = { is_core = $TAG$ }
			}
			add_core = $TAG$
		}
		if = {
			limit = {
				NOT = { exists = $TAG$ }
			}
			release = $TAG$
			$TAG$ = {
				change_religion = ROOT
			}
		}
		else = {
			every_owned_province = {
				limit = {
					culture = $CULTURE$
				}
				cede_province = $TAG$
			}
		}
	}
}

nhs_decrease_variable = {
	subtract_variable = {
		which = $VARIABLE$
		value = $VAL$
	}
	if = {
		limit = {
			NOT = {
				check_variable = {
					which = $VARIABLE$
					value = $MIN$
				}
			}
		}
		set_variable = {
			which = $VARIABLE$
			value = $MIN$
		}
	}
}

nhs_building_counter_clear_flag = {
	set_country_flag = $FLAG$_$BUILDING$
}
nhs_building_counter_set_flag = {
	clr_country_flag = $FLAG$_$BUILDING$
}
nhs_building_counter_effect_add = {
	if = {
		limit = {
			owner = {
				has_country_flag = $FLAG$ # nhs_high_tier_building_counter
			}
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $BUILDING$ 
				}
			}
			[[ADDITIONAL_TRIGGER]
				$ADDITIONAL_TRIGGER$ = yes
			]
		}
		nhs_building_counter_set_flag = { 
			FLAG = $FLAG$ 
			BUILDING = $BUILDING$ 
		}
		owner = {
			change_variable = {
				which = $VAR$ # nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
}
nhs_building_counter_effect_sub = {
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = $FLAG$ 
				BUILDING = $BUILDING$ 
			}
			owner = {
				has_country_flag = $FLAG$ # nhs_high_tier_building_counter
			}
		}
		nhs_building_counter_clear_flag = { 
			FLAG = $FLAG$ 
			BUILDING = $BUILDING$ 
		}
		owner = {
			subtract_variable = {
				which = $VAR$ # nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
}
nhs_building_counter_effect_add_with_obsolete = {
	if = {
		limit = {
			owner = {
				has_country_flag = $FLAG$ # nhs_high_tier_building_counter
			}
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $BUILDING$ 
				}
			}
			[[ADDITIONAL_TRIGGER]
				$ADDITIONAL_TRIGGER$ = yes
			]
		}
		if = {
			limit = {
				NOT = {
					nhs_building_counter_had_building = { 
						FLAG = $FLAG$ 
						BUILDING = $OLD_BUILDING$ 
					}
				}
			}
			nhs_building_counter_set_flag = { 
				FLAG = $FLAG$ 
				BUILDING = $BUILDING$ 
			}
			owner = {
				change_variable = {
					which = $VAR$ # nhs_HighTierBuildingCount
					value = 1
				}
			}
		}
		else = {
			nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = $OLD_BUILDING$ }
			nhs_building_counter_set_flag = { FLAG = $FLAG$ BUILDING = $BUILDING$ }
		}
	}
}
nhs_building_counter_effect_add_with_two_obsolete = {
	if = {
		limit = {
			owner = {
				has_country_flag = $FLAG$
			}
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $BUILDING$ 
				}
			}
			[[ADDITIONAL_TRIGGER]
				$ADDITIONAL_TRIGGER$ = yes
			]
		}
		if = {
			limit = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $OLD_BUILDING$ 
				}
			}
			nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = $OLD_BUILDING$ }
			nhs_building_counter_set_flag = { FLAG = $FLAG$ BUILDING = $BUILDING$ }
		}
		else_if = {
			limit = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $OLD_BUILDING_2$ 
				}
			}
			nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = $OLD_BUILDING_2$ }
			nhs_building_counter_set_flag = { FLAG = $FLAG$ BUILDING = $BUILDING$ }
		}
		else = {
			nhs_building_counter_set_flag = { 
				FLAG = $FLAG$ 
				BUILDING = $BUILDING$ 
			}
			owner = {
				change_variable = {
					which = $VAR$
					value = 1
				}
			}
		}
	}
}
nhs_building_counter_effect_add_with_three_obsolete = {
	if = {
		limit = {
			owner = {
				has_country_flag = $FLAG$
			}
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $BUILDING$ 
				}
			}
			[[ADDITIONAL_TRIGGER]
				$ADDITIONAL_TRIGGER$ = yes
			]
		}
		if = {
			limit = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $OLD_BUILDING$ 
				}
			}
			nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = $OLD_BUILDING$ }
			nhs_building_counter_set_flag = { FLAG = $FLAG$ BUILDING = $BUILDING$ }
		}
		else_if = {
			limit = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $OLD_BUILDING_2$ 
				}
			}
			nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = $OLD_BUILDING_2$ }
			nhs_building_counter_set_flag = { FLAG = $FLAG$ BUILDING = $BUILDING$ }
		}
		else_if = {
			limit = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $OLD_BUILDING_3$ 
				}
			}
			nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = $OLD_BUILDING_3$ }
			nhs_building_counter_set_flag = { FLAG = $FLAG$ BUILDING = $BUILDING$ }
		}
		else = {
			nhs_building_counter_set_flag = { 
				FLAG = $FLAG$ 
				BUILDING = $BUILDING$ 
			}
			owner = {
				change_variable = {
					which = $VAR$
					value = 1
				}
			}
		}
	}
}

nhs_building_counter_local_province_check_building = {
	if = {
		limit = {
			has_building = $BUILDING$
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = $FLAG$ 
					BUILDING = $BUILDING$ 
				} 
			}
		}
		nhs_building_counter_set_flag = {
			FLAG = $FLAG$ 
			BUILDING = $BUILDING$ 
		}
		owner = {
			change_variable = {
				which = $VAR$
				value = 1
			}
		}
	}
}
nhs_building_counter_former_province_check_building = {
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = $FLAG$  
				BUILDING = $BUILDING$ 
			} 
		}
		nhs_building_counter_clear_flag = {
			FLAG = $FLAG$  
			BUILDING = $BUILDING$  
		}
		FROM = {
			subtract_variable = {
				which = $VAR$
				value = 1
			}
		}
	}
}
nhs_building_counter_clear_flags = {
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = marketplace }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = workshop }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = temple }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = barracks }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = shipyard }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = fort_15th }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = coastal_defence }

	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = courthouse }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = dock }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = regimental_camp }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = fort_16th }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = naval_battery }

	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = cathedral }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = university }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = trade_depot }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = grand_shipyard }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = training_fields }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = fort_17th }

	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = stock_exchange }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = counting_house }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = town_hall }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = drydock }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = conscription_center }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = fort_18th }

	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = wharf }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = weapons }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = textile }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = plantations }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = tradecompany }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = farm_estate }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = mills }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = furnace }

	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = ramparts }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = soldier_households }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = impressment_offices }
	nhs_building_counter_clear_flag = { FLAG = $FLAG$ BUILDING = state_house }
}

nhs_initiate_homelands_building_counter = {
	set_variable = {
		which = nhs_HomelandsBuildingCount
		value = 0
	}
	set_country_flag = nhs_homelands_build_counter
	every_owned_province = {
		limit = {
			nhs_homelands_building_counter_trigger = yes
		}
		nhs_homelands_building_counter_eval_local_province = yes
	}
}

nhs_end_homelands_building_counter = {
	set_variable = {
		which = nhs_HomelandsBuildingCount
		value = 0
	}
	clr_country_flag = nhs_homelands_build_counter
	every_owned_province = {
		limit = {
			nhs_homelands_building_counter_trigger = yes
		}
		nhs_building_counter_clear_flags = { FLAG = nhs_homelands_build_counter }
	}
}

nhs_homelands_building_counter_eval_local_province = {
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = marketplace }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = workshop }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = temple }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = barracks }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = shipyard }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = fort_15th }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = coastal_defence }

	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = courthouse }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = dock }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = regimental_camp }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = fort_16th }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = naval_battery }

	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = cathedral }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = university }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = trade_depot }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = grand_shipyard }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = training_fields }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = fort_17th }

	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = stock_exchange }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = counting_house }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = town_hall }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = drydock }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = conscription_center }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = fort_18th }

	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = wharf }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = weapons }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = textile }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = plantations }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = tradecompany }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = farm_estate }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = mills }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = furnace }

	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = ramparts }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = soldier_households }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = impressment_offices }
	nhs_building_counter_local_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = state_house }
}
nhs_homelands_building_counter_eval_former_province = {
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = marketplace }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = workshop }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = temple }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = barracks }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = shipyard }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = fort_15th }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = coastal_defence }

	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = courthouse }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = dock }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = regimental_camp }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = fort_16th }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = naval_battery }

	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = cathedral }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = university }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = trade_depot }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = grand_shipyard }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = training_fields }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = fort_17th }

	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = stock_exchange }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = counting_house }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = town_hall }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = drydock }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = conscription_center }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = fort_18th }

	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = wharf }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = weapons }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = textile }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = plantations }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = tradecompany }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = farm_estate }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = mills }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = furnace }

	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = ramparts }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = soldier_households }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = impressment_offices }
	nhs_building_counter_former_province_check_building = { FLAG = nhs_homelands_build_counter VAR = nhs_HomelandsBuildingCount BUILDING = state_house }
}

nhs_initiate_hightier_building_counter = {
	set_variable = {
		which = nhs_HighTierBuildingCount
		value = 0
	}
	set_country_flag = nhs_high_tier_building_counter
	every_owned_province = {
		limit = {
			nhs_hightier_building_counter_trigger = yes
		}
		nhs_hightier_building_counter_eval_local_province = yes
	}
}
nhs_end_hightier_building_counter = {
	set_variable = {
		which = nhs_HighTierBuildingCount
		value = 0
	}
	clr_country_flag = nhs_high_tier_building_counter
	every_owned_province = {
		limit = {
			nhs_hightier_building_counter_trigger = yes
		}
		nhs_building_counter_clear_flags = { FLAG = nhs_high_tier_building_counter }
	}
}
nhs_hightier_building_counter_eval_local_province = {
	if = {
		limit = {
			has_building = town_hall
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = town_hall 
				} 
			}
		}
		nhs_building_counter_set_flag = {
			FLAG = nhs_high_tier_building_counter 
			BUILDING = town_hall 
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = counting_house
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = counting_house 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = counting_house 
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = cathedral
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = cathedral 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = cathedral 
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = university
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = university 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = university 
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = grand_shipyard
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = grand_shipyard 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = grand_shipyard 
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = drydock
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = drydock 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = drydock 
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = stock_exchange
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = stock_exchange 
				} 
			}
		}
		if = {
			limit = {
				NOT = {
					nhs_building_counter_had_building = { FLAG = nhs_high_tier_building_counter BUILDING = trade_depot }
				}
			}
			nhs_building_counter_set_flag = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = stock_exchange
			}
		}
		else = {
			nhs_building_counter_clear_flag = { FLAG = nhs_high_tier_building_counter BUILDING = trade_depot }
			nhs_building_counter_set_flag = { FLAG = nhs_high_tier_building_counter BUILDING = stock_exchange }
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = training_fields
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = training_fields 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = training_fields
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = trade_depot
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = trade_depot 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = trade_depot
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = conscription_center
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = conscription_center 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = conscription_center
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			OR = {
				has_building = mills
				has_building = farm_estate
				has_building = tradecompany
				has_building = plantations
				has_building = textile
				has_building = weapons
				has_building = wharf
				has_building = furnace
			}
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = manufactory 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = manufactory
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = ramparts
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = ramparts 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = ramparts
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = soldier_households
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = soldier_households 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = soldier_households
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = impressment_offices
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = impressment_offices 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = impressment_offices
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			has_building = state_house
			NOT = {
				nhs_building_counter_had_building = { 
					FLAG = nhs_high_tier_building_counter 
					BUILDING = state_house 
				} 
			}
		}
		nhs_building_counter_set_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = state_house
		}
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
}
# province
# FROM = old owner
nhs_hightier_building_counter_eval_former_province = {
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = town_hall
			} 
		}
		nhs_building_counter_clear_flag = {
			FLAG = nhs_high_tier_building_counter 
			BUILDING = town_hall 
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = counting_house 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = counting_house 
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = cathedral 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = cathedral 
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = university 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = university 
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = grand_shipyard 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = grand_shipyard 
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = drydock 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = drydock 
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = stock_exchange 
			}
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = stock_exchange
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = training_fields 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = training_fields
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = trade_depot 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = trade_depot
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = conscription_center 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = conscription_center
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = manufactory 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = manufactory
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = ramparts 
			}
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = ramparts
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = soldier_households 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = soldier_households
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = impressment_offices 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = impressment_offices
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	if = {
		limit = {
			nhs_building_counter_had_building = { 
				FLAG = nhs_high_tier_building_counter 
				BUILDING = state_house 
			} 
		}
		nhs_building_counter_clear_flag = { 
			FLAG = nhs_high_tier_building_counter 
			BUILDING = state_house
		}
		FROM = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
}


nhs_display_rel_center = {
	tooltip = {
		add_permanent_province_modifier = {
			name = religious_center
			duration = -1
		}
	}
}
nhs_assign_provinces_to_marches = {
	if = {
		limit = {
			any_owned_province = {
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
			
		}
		random_owned_province = {
			limit = {
				religion = ROOT
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { has_province_modifier = nhs2_supply_lines }
				religion = ROOT
			}
		}
		random_owned_province = {
			limit = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { has_province_modifier = nhs2_supply_lines }
				religion = ROOT
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
		}
		random_owned_province = {
			limit = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				religion = ROOT
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				religion = ROOT
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
		}
		random_owned_province = {
			limit = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	create_subject = {
		subject_type = elysian_subject
		subject = $TAGG$
	}
	if = {
		limit = {
			any_province = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { is_core = ROOT }
				AND = {
					owned_by = ROOT
					owner = {
						tag = ELG
						is_subject_of = ROOT
					}
				}
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
		}
		every_province = {
			limit = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { is_core = ROOT }
				AND = {
					owned_by = ROOT
					owner = {
						tag = ELG
						is_subject_of = ROOT
					}
				}
				NOT = { has_province_modifier = nhs2_supply_lines }
			}
			cede_province = $TAGG$
		}
	}
}


nhs_elg_gets_province_effect = {
	if = {
		limit = {
			nhs_greek_areas = yes
		}
		add_core = ELG
		if = {
			limit = {
				owner = {
					religion = pantheon_worship
				}
				NOT = { has_province_flag = nhs_got_question_of_religion }
			}
			set_province_flag = nhs_got_question_of_religion
			random_list = {
				40 = {
					add_province_modifier = {
					name = "nhs2_greek_deny_religion"
						duration = 7300
					}
				}
				40 = {
					add_province_modifier = {
						name = "nhs2_greek_accept_religion"
						duration = 7300
					}
				}
				10 = { change_religion = ROOT }
				10 = { 
					add_province_modifier = {
						name = "missionary_failure"
						duration = 7300
					}
				}
			}
		}
	}
}

# nhs_find_most_conversion_years_remaining = {
# 	set_variable = {
# 		which = most_conversion_years_remaining
# 		value = 0
# 	}
# 	every_owned_province = {
# 		limit = {
# 			has_province_modifer = $MODIFIER$
# 		}
# 		set_variable = {
# 			which = most_conversion_years_remaining
# 			which = PREV
# 		}
# 		export_to_variable = {
# 			which = current_year
# 			value = trigger_value:is_year
# 		}
# 		# if = {
# 		# 	limit = {

# 		# 	}
# 		# }
# 	}
# }


nhs_handle_spartan_integration = {
	# if = {
	# 	limit = {
	# 		any_owned_province = {
	# 			has_province_modifer = nhs_mesoamerican_integration_mod
	# 		}
	# 	}
	# }

	# add_province_modifier = {
	# 	name = nhs_mesoamerican_integration_mod
	# 	duration = 4380
	# }


	if = {
		limit = {
			province_group = mesoamerica_pgroup
			OR = {
				has_province_flag = nhs_mesoamerican_integration2920
				has_province_flag = nhs_mesoamerican_integration3650
				has_province_flag = nhs_mesoamerican_integration4380
			}
			NOT = {
				owner = {
					OR = {
						NOT = { culture_group = ROOT }
						ROOT = { has_province_modifier = nhs2_spartan_independence }
					}
					nhs_condition_all_ely = { KOMANDA = tag }
					has_country_flag = nhs_expanding_south_complete
				}
			}
		}
		clr_province_flag = nhs_mesoamerican_integration2920
		clr_province_flag = nhs_mesoamerican_integration3650
		clr_province_flag = nhs_mesoamerican_integration4380
		if = {
			limit = {
				has_province_modifier = nhs_mesoamerican_integration_mod
			}
			remove_province_modifier = nhs_mesoamerican_integration_mod
		}
	}
	else_if = {
		limit = {
			province_group = mesoamerica_pgroup
			NOT = { has_province_flag = nhs_mesoamerican_integration2920 }
			NOT = { has_province_flag = nhs_mesoamerican_integration3650 }
			NOT = { has_province_flag = nhs_mesoamerican_integration4380 }
			owner = {
				OR = {
					NOT = { culture_group = ROOT }
					ROOT = { has_province_modifier = nhs2_spartan_independence }
				}
				nhs_condition_all_ely = { KOMANDA = tag }
				has_country_flag = nhs_expanding_south_complete
			}
		}
		random_list = {
			33 = {
				set_province_flag = nhs_mesoamerican_integration2920
				add_province_modifier = {
					name = nhs_mesoamerican_integration_mod
					duration = 2920
				}
			}
			33 = {
				set_province_flag = nhs_mesoamerican_integration3650
				add_province_modifier = {
					name = nhs_mesoamerican_integration_mod
					duration = 3650
				}
				
			}
			33 = {
				set_province_flag = nhs_mesoamerican_integration4380
				add_province_modifier = {
					name = nhs_mesoamerican_integration_mod
					duration = 4380
				}
			}
		}
	}
}
nhs_set_unit_type = {
	if = {
		limit = {
			technology_group = western
		}
		change_unit_type = western
	}
	if = {
		limit = {
			technology_group = eastern
		}
		change_unit_type = eastern
	}
	if = {
		limit = {
			technology_group = ottoman
		}
		change_unit_type = ottoman
	}
	if = {
		limit = {
			technology_group = muslim
		}
		change_unit_type = muslim
	}
}
nhs_remove_reforms = {
	if = {
		limit = {
			has_country_modifier = nhs2_native_army_reform
		}
		remove_country_modifier = nhs2_native_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_traditional_army_reform
		}
		remove_country_modifier = nhs2_traditional_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_janissary_army_reform
		}
		remove_country_modifier = nhs2_janissary_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_byz
		}
		remove_country_modifier = nhs2_army_reform_byz
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_euro
		}
		remove_country_modifier = nhs2_army_reform_euro
	}
	if = {
		limit = {
			has_country_modifier = nhs2_fire_army_reform
		}
		remove_country_modifier = nhs2_fire_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_no
		}
		remove_country_modifier = nhs2_army_reform_no
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_pas
		}
		remove_country_modifier = nhs2_army_reform_pas
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_cavalry
		}
		remove_country_modifier = nhs2_army_reform_cavalry
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_xbow
		}
		remove_country_modifier = nhs2_army_reform_xbow
	}
	if = {
		limit = {
			has_country_modifier = nhs2_fire_army_reform2
		}
		remove_country_modifier = nhs2_fire_army_reform2
	}
	if = {
		limit = {
			has_country_modifier = nhs2_amry_reform_mm
		}
		remove_country_modifier = nhs2_amry_reform_mm
	}
	if = {
		limit = {
			has_country_modifier = nhs2_amry_reform_nma
		}
		remove_country_modifier = nhs2_amry_reform_nma
	}
	if = {
		limit = {
			has_country_modifier = nhs2_amry_reform_ga
		}
		remove_country_modifier = nhs2_amry_reform_ga
	}
	if = {
		limit = {
			has_country_modifier = nhs2_fire_army_reform3
		}
		remove_country_modifier = nhs2_fire_army_reform3
	}
	if = {
		limit = {
			has_country_modifier = nhs2_disgruntled_nobles
		}
		remove_country_modifier = nhs2_disgruntled_nobles
	}
}
nhs_set_the_fire_on = {
	if = {
		limit = {
			NOT = { has_country_flag = nhs_updated_fire }
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire_w
			}
			remove_country_modifier = nhs_secrets_greekfire_w
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update_w
			}
			remove_country_modifier = nhs_greekfire_update_w
		}
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_secrets_greekfire }
			}
			add_country_modifier = {
				name = nhs_secrets_greekfire
				duration = -1
			}
		}
	}
	if = {
		limit = {
			has_country_flag = nhs_updated_fire
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire_w
			}
			remove_country_modifier = nhs_secrets_greekfire_w
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update_w
			}
			remove_country_modifier = nhs_greekfire_update_w
		}
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_greekfire_update }
			}
			add_country_modifier = {
				name = nhs_greekfire_update
				duration = -1
			}
		}
	}
	if = {
		limit = {
			has_country_flag = nhs_fire_reform
		}
		if = {
			limit = {
				has_country_modifier = nhs_fire_reform_w
			}
			remove_country_modifier = nhs_fire_reform_w
		}
		if = {
			limit = {
				has_country_modifier = nhs_fire_reform_w_update
			}
			remove_country_modifier = nhs_fire_reform_w_update
		}
		if = {
			limit = {
				has_country_flag = nhs_second_a_reform
			}
			add_country_modifier = {
				name = nhs2_fire_army_reform
				duration = -1
			}
		}
		if = {
			limit = {
				has_country_flag = nhs_third_a_reform
			}
			add_country_modifier = {
				name = nhs2_fire_army_reform2
				duration = -1
			}
		}
		if = {
			limit = {
				has_country_flag = nhs_fourth_a_reform
			}
			add_country_modifier = {
				name = nhs2_fire_army_reform3
				duration = -1
			}
		}
	}
}
nhs_set_the_fire_off = {
	if = {
		limit = {
			OR = {
				NOT = { has_country_flag = nhs_updated_fire }
				has_country_modifier = nhs_secrets_greekfire
			}
			NOT = { has_country_modifier = nhs2_fire_army_reform }
			NOT = { has_country_modifier = nhs2_fire_army_reform2 }
			NOT = { has_country_modifier = nhs2_fire_army_reform3 }
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire
			}
			remove_country_modifier = nhs_secrets_greekfire
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update
			}
			remove_country_modifier = nhs_greekfire_update
		}
		add_country_modifier = {
			name = nhs_secrets_greekfire_w
			duration = 14600
		}
	}
	if = {
		limit = {
			OR = {
				has_country_flag = nhs_updated_fire
				has_country_modifier = nhs_greekfire_update
			}
			NOT = { has_country_modifier = nhs2_fire_army_reform }
			NOT = { has_country_modifier = nhs2_fire_army_reform2 }
			NOT = { has_country_modifier = nhs2_fire_army_reform3 }
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire
			}
			remove_country_modifier = nhs_secrets_greekfire
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update
			}
			remove_country_modifier = nhs_greekfire_update
		}
		add_country_modifier = {
			name = nhs_greekfire_update_w
			duration = 14600
		}
	}
	if = {
		limit = {
			OR = {
				has_country_modifier = nhs2_fire_army_reform
				has_country_modifier = nhs2_fire_army_reform2
				has_country_modifier = nhs2_fire_army_reform3
			}
			OR = {
				NOT = { has_country_flag = nhs_updated_fire }
				has_country_modifier = nhs_secrets_greekfire
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform
			}
			remove_country_modifier = nhs2_fire_army_reform
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform2
			}
			remove_country_modifier = nhs2_fire_army_reform2
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform3
			}
			remove_country_modifier = nhs2_fire_army_reform3
		}
		add_country_modifier = {
			name = nhs_fire_reform_w
			duration = 14600
		}
	}
	if = {
		limit = {
			OR = {
				has_country_modifier = nhs2_fire_army_reform
				has_country_modifier = nhs2_fire_army_reform2
				has_country_modifier = nhs2_fire_army_reform3
			}
			OR = {
				has_country_flag = nhs_updated_fire
				has_country_modifier = nhs_greekfire_update
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform
			}
			remove_country_modifier = nhs2_fire_army_reform
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform2
			}
			remove_country_modifier = nhs2_fire_army_reform2
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform3
			}
			remove_country_modifier = nhs2_fire_army_reform3
		}
		add_country_modifier = {
			name = nhs_fire_reform_w_update
			duration = 14600
		}
	}
}
nhs_embrace_neighbor_institutions = {
	if = {
		limit = {
			any_owned_province = {
				NOT = { renaissance = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = renaissance
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { renaissance = 100 }
				}
				add_institution_embracement = {
					which = "renaissance"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_rene
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { feudalism = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = feudalism
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { feudalism = 100 }
				}
				add_institution_embracement = {
					which = "feudalism"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_feud
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { new_world_i = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = new_world_i
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { new_world_i = 100 }
				}
				add_institution_embracement = {
					which = "new_world_i"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_neww
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { printing_press = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = printing_press
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { printing_press = 100 }
				}
				add_institution_embracement = {
					which = "printing_press"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_print
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { global_trade = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = global_trade
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { global_trade = 100 }
				}
				add_institution_embracement = {
					which = "global_trade"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_global
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { manufactories = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = manufactories
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { manufactories = 100 }
				}
				add_institution_embracement = {
					which = "manufactories"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_manuf
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { enlightenment = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = enlightenment
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { enlightenment = 100 }
				}
				add_institution_embracement = {
					which = "enlightenment"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_engligh
		}
	}
}
viking_discovery = {
	discover_province = 980
	discover_province = 981
	discover_province = 2573
	discover_province = 997
	discover_province = 2575
	discover_province = 2574
	discover_province = 996
	discover_province = 2576
	discover_province = 2577
	discover_province = 2578
	discover_province = 995
	discover_province = 994
	discover_province = 2583
	discover_province = 2582
	discover_province = 986
	discover_province = 2572
	discover_province = 985
	discover_province = 2571
	discover_province = 2570
	discover_province = 2566
	discover_province = 983
	discover_province = 984
	discover_province = 2569
	discover_province = 2568
	discover_province = 982
	discover_province = 1104
	discover_province = 1105
	discover_province = 1482
	discover_province = 1483
	discover_province = 1493
	discover_province = 1490
	discover_province = 1495
	discover_province = 1494
	discover_province = 1491
	discover_province = 1492

}
thorfinn_bay_discovery = {
	discover_province = 998
	discover_province = 999
	discover_province = 1000
	discover_province = 1003
	discover_province = 1004
	discover_province = 1005
	discover_province = 1006
	discover_province = 2592
}
great_lakes_discovery = {
	discover_province = 989
	discover_province = 961
	discover_province = 960 
	discover_province = 959 
	discover_province = 958 
	discover_province = 2670 
	discover_province = 987 
	discover_province = 954 
	discover_province = 947 
	discover_province = 946 
	discover_province = 944 
	discover_province = 2521 
	discover_province = 2587 
	discover_province = 2586 
	discover_province = 988 
	discover_province = 2671 
	discover_province = 1001 
	discover_province = 945 
	discover_province = 911 
	discover_province = 914 
	discover_province = 915 
	discover_province = 942 
	discover_province = 2522 
	discover_province = 2518 
	discover_province = 2517 
	discover_province = 910 
	discover_province = 1007 
	discover_province = 2015
}

erikson_river_discovery = {
	discover_province = 994 
	discover_province = 2583 
	discover_province = 990 
	discover_province = 993 
	discover_province = 2584 
	discover_province = 2585 
	discover_province = 2559 
	discover_province = 989 
	discover_province = 961 
	erikson_river_area = {
		ROOT = {
			discover_province = PREV
		}
	}
}

disputed_lands_coast_discovery = {
	discover_province = 2570 
	discover_province = 2566 
	discover_province = 2013 
	discover_province = 970 
	discover_province = 971 
	discover_province = 968 
	discover_province = 2561 
	discover_province = 967 
}

elysian_coast_discovery = {
	discover_province = 2010 
	discover_province = 2560 
	discover_province = 965 
	discover_province = 2639 
	discover_province = 962 
	discover_province = 957 
	discover_province = 2554 
	discover_province = 953 
	discover_province = 2550 
	discover_province = 952 
	discover_province = 950 
	discover_province = 2547 
	discover_province = 938 
	discover_province = 2546  
}
erikson_gulf_discovery = {
	discover_province = 980 
	discover_province = 981 
	discover_province = 981 
	discover_province = 982 
	discover_province = 983 
	discover_province = 984 
	discover_province = 985 
	discover_province = 986 
	discover_province = 994 
	discover_province = 995 
	discover_province = 996 
	discover_province = 997 
	discover_province = 2568 
	discover_province = 2569 
	discover_province = 2572 
	discover_province = 2573 
	discover_province = 2574 
	discover_province = 2575 
	discover_province = 2576 
	discover_province = 2577 
	discover_province = 2578 
	discover_province = 2582 
	discover_province = 2583
}

north_elysian_sea_discovery = {
	discover_province = 1501 
	discover_province = 1500 
	discover_province = 1499 
	discover_province = 1492 
}

south_elysian_sea_discovery = {
	discover_province = 1501 
	discover_province = 1502 
	discover_province = 1503 
}

vinlandic_sea_discovery = {
	discover_province = 1483 
	discover_province = 1490 
	discover_province = 1491 
	discover_province = 1493 
	discover_province = 1494 
	discover_province = 1495
}

thorfinn_sea_discovery = {
	discover_province = 1485
	discover_province = 1488 
	discover_province = 1486 
	discover_province = 1487 
	discover_province = 1484
	discover_province = 1489
}

great_lakes_sea_discovery = {
	discover_province = 1659
	discover_province = 1660
	discover_province = 1661
	discover_province = 1662
	discover_province = 1663
}

# greenland_discovery = {


# }

# north_sea_discovery = {


# }

nhs_set_herald_preach = {
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_heralds1 }
			}
			add_country_modifier = {
				name = nhs_heralds1
				duration = 1825
				hidden = yes
			}
		}
		else_if = {
			limit = {
				has_country_modifier = nhs_heralds1
				NOT = { has_country_modifier = nhs_heralds2 }
			}
			add_country_modifier = {
				name = nhs_heralds2
				duration = 1825
				hidden = yes
			}
		}
		else_if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				NOT = { has_country_modifier = nhs_heralds3 }
			}
			add_country_modifier = {
				name = nhs_heralds3
				duration = 1825
				hidden = yes
			}
		}
		else_if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				has_country_modifier = nhs_heralds3
				NOT = { has_country_modifier = nhs_heralds4 }
			}
			add_country_modifier = {
				name = nhs_heralds4
				duration = 1825
				hidden = yes
			}
		}
	}
}

nhs_set_herald_7300 = {
	hidden_effect = {
		if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				has_country_modifier = nhs_heralds3
				NOT = { has_country_modifier = nhs_heralds4 }
			}
			add_country_modifier = {
				name = nhs_heralds4
				duration = 7300
				hidden = yes
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				NOT = { has_country_modifier = nhs_heralds3 }
			}
			add_country_modifier = {
				name = nhs_heralds3
				duration = 7300
				hidden = yes
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_heralds1
				NOT = { has_country_modifier = nhs_heralds2 }
			}
			add_country_modifier = {
				name = nhs_heralds2
				duration = 7300
				hidden = yes
			}
		}
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_heralds1 }
			}
			add_country_modifier = {
				name = nhs_heralds1
				duration = 7300
				hidden = yes
			}
		}
	}
}

nhs_give_province = {
	if = {
		limit = {
			has_province_flag = nhs_p2
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p1
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}
		## END
		country_event = { id = nhs2_p.3 }			
	}
	if = {
		limit = {
			has_province_flag = nhs_p3
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p2
				any_neighbor_province = {
					has_province_flag = nhs_p1
				}
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}		
	}
	if = {
		limit = {
			has_province_flag = nhs_p4
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p3
				any_neighbor_province = {
					has_province_flag = nhs_p2
					any_neighbor_province = {
						has_province_flag = nhs_p1
					}
				}
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}		
	}
	if = {
		limit = {
			has_province_flag = nhs_p5
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p4
				any_neighbor_province = {
					has_province_flag = nhs_p3
					any_neighbor_province = {
						has_province_flag = nhs_p2
						any_neighbor_province = {
							has_province_flag = nhs_p1
						}
					}
				}
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}		
	}
}

nhs_patriarch_switch_off = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
			remove_province_modifier = nhs2_orthodox_patriarchate
			remove_province_modifier = nhs2_orthodox_patriarchate_for
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_west
			remove_province_modifier = patriarchate_of_the_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
			remove_province_modifier = patriarchate_of_the_south
			remove_province_modifier = patriarchate_of_the_south_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_far_west
			remove_province_modifier = patriarchate_of_the_far_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
			remove_province_modifier = patriarchate_of_the_north
			remove_province_modifier = patriarchate_of_the_north_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
			remove_province_modifier = ecumenical_patriarch_modifier
			remove_province_modifier = ecumenical_patriarch_modifier_for
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier_off
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_custody = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
			remove_province_modifier = nhs2_orthodox_patriarchate
			remove_province_modifier = nhs2_orthodox_patriarchate_for
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_west
			remove_province_modifier = patriarchate_of_the_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
			remove_province_modifier = patriarchate_of_the_south
			remove_province_modifier = patriarchate_of_the_south_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_far_west
			remove_province_modifier = patriarchate_of_the_far_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
			remove_province_modifier = patriarchate_of_the_north
			remove_province_modifier = patriarchate_of_the_north_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
			remove_province_modifier = ecumenical_patriarch_modifier
			remove_province_modifier = ecumenical_patriarch_modifier_for
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier_cus
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_back = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate_cus
					has_province_modifier = nhs2_orthodox_patriarchate_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate_cus
					has_province_modifier = nhs2_orthodox_patriarchate_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = nhs2_orthodox_patriarchate_cus
			remove_province_modifier = nhs2_orthodox_patriarchate_off
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west_cus
					has_province_modifier = patriarchate_of_the_west_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west_cus
					has_province_modifier = patriarchate_of_the_west_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_west_cus
			remove_province_modifier = patriarchate_of_the_west_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south_cus
					has_province_modifier = patriarchate_of_the_south_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south_cus
					has_province_modifier = patriarchate_of_the_south_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_south_cus
			remove_province_modifier = patriarchate_of_the_south_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west_cus
					has_province_modifier = patriarchate_of_the_far_west_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west_cus
					has_province_modifier = patriarchate_of_the_far_west_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_far_west_cus
			remove_province_modifier = patriarchate_of_the_far_west_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north_cus
					has_province_modifier = patriarchate_of_the_north_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north_cus
					has_province_modifier = patriarchate_of_the_north_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_north_cus
			remove_province_modifier = patriarchate_of_the_north_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier_cus
					has_province_modifier = ecumenical_patriarch_modifier_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier_cus
					has_province_modifier = ecumenical_patriarch_modifier_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = ecumenical_patriarch_modifier_cus
			remove_province_modifier = ecumenical_patriarch_modifier_off
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_for = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_cus
					has_province_modifier = nhs2_orthodox_patriarchate_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_cus
					has_province_modifier = nhs2_orthodox_patriarchate_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = nhs2_orthodox_patriarchate
			remove_province_modifier = nhs2_orthodox_patriarchate_cus
			remove_province_modifier = nhs2_orthodox_patriarchate_off
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_cus
					has_province_modifier = patriarchate_of_the_west_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_cus
					has_province_modifier = patriarchate_of_the_west_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_west
			remove_province_modifier = patriarchate_of_the_west_cus
			remove_province_modifier = patriarchate_of_the_west_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_cus
					has_province_modifier = patriarchate_of_the_south_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_cus
					has_province_modifier = patriarchate_of_the_south_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_south
			remove_province_modifier = patriarchate_of_the_south_cus
			remove_province_modifier = patriarchate_of_the_south_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_cus
					has_province_modifier = patriarchate_of_the_far_west_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_cus
					has_province_modifier = patriarchate_of_the_far_west_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_far_west
			remove_province_modifier = patriarchate_of_the_far_west_cus
			remove_province_modifier = patriarchate_of_the_far_west_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_cus
					has_province_modifier = patriarchate_of_the_north_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_cus
					has_province_modifier = patriarchate_of_the_north_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_north
			remove_province_modifier = patriarchate_of_the_north_cus
			remove_province_modifier = patriarchate_of_the_north_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_cus
					has_province_modifier = ecumenical_patriarch_modifier_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_cus
					has_province_modifier = ecumenical_patriarch_modifier_off
				}
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = ecumenical_patriarch_modifier
			remove_province_modifier = ecumenical_patriarch_modifier_cus
			remove_province_modifier = ecumenical_patriarch_modifier_off
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier_for
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_for_back = {
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = nhs2_orthodox_patriarchate_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_orthodox_patriarchate_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = nhs2_orthodox_patriarchate_for
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_west_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_west_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_south_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_south_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_south_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_far_west_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_far_west_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_far_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_north_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_north_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_north_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = ecumenical_patriarch_modifier_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = ecumenical_patriarch_modifier_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = ecumenical_patriarch_modifier_for
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier
				duration = -1
			}
		}
	}
}

nhs_anti_patriarch = {
	if = {
		limit = {
			patriarch_authority = 0.9
		}
		custom_tooltip = nhs_high_patriarch_authority_90
		add_dip_power = -75
	}
	if = {
		limit = {
			patriarch_authority = 0.80
			NOT = { patriarch_authority = 0.9 }
		}
		custom_tooltip = nhs_high_patriarch_authority_80
		add_dip_power = -50
	}
	if = {
		limit = {
			patriarch_authority = 0.25
			OR = {
				patriarch_authority = 0.6
				NOT = { patriarch_authority = 0.4 }
			}
		}
		custom_tooltip = nhs_high_patriarch_authority_25
		add_dip_power = -30
	}
	if = {
		limit = {
			patriarch_authority = 0.10
			NOT = { patriarch_authority = 0.25 }
		}
		custom_tooltip = nhs_high_patriarch_authority_10
		add_dip_power = -15
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.75 }
		}
		custom_tooltip = nhs_high_patriarch_authority_75_below
		add_prestige = 10
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.06 }
		}
		custom_tooltip = nhs_high_patriarch_authority_5_below
		add_dip_power = 50
		add_legitimacy = -5
	}
}

nhs_for_patriarch = {
	if = {
		limit = {
			patriarch_authority = 0.95
		}
		custom_tooltip = nhs_high_patriarch_authority_95
		add_adm_power = 25
		add_corruption = 1
	}
	if = {
		limit = {
			patriarch_authority = 0.3
		}
		custom_tooltip = nhs_high_patriarch_authority_30
		add_legitimacy = 5
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.95 }
			patriarch_authority = 0.80
		}
		custom_tooltip = nhs_high_patriarch_authority_95_below
		add_adm_power = -15
		add_prestige = -5
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.80 }
			OR = {
				patriarch_authority = 0.6
				NOT = { patriarch_authority = 0.4 }
			}
		}
		custom_tooltip = nhs_high_patriarch_authority_80_below
		add_adm_power = -30
		add_prestige = -5
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.2 }
		}
		custom_tooltip = nhs_high_patriarch_authority_20_below
		add_adm_power = -50
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.1 }
		}
		custom_tooltip = nhs_high_patriarch_authority_10_below
		add_adm_power = -75
	}
}

nhs_roll_the_next_battle = {
	if = {
		limit = {
			OR = {
				MK1 = { NOT = { num_of_cities = 2 } }
				HLL = { NOT = { num_of_cities = 2 } }
			}
		}
		country_event = { id = nhs_vov_civil_war.9 days = 25 }
	}
	if = {
		limit = {
			any_province = {
				OR = {
					owned_by = MK1
					owned_by = HLL
				}
				NOT = { region = canada_region }
			}
			NOT = {
				OR = {
					MK1 = { NOT = { num_of_cities = 2 } }
					HLL = { NOT = { num_of_cities = 2 } }
				}
			}
		}
		if = {
			limit = {
				OR = {
					AND = {
						OR = {
							any_province = {
								owned_by = MK1
								any_neighbor_province = {
									owned_by = HLL
									is_capital = yes
								}
							}
							HLL = { NOT = { num_of_cities = 2 } }
						}
						HLL = { NOT = { num_of_cities = 10 } }
						NOT = {
							trading_with_helluland = yes
						}
					}
					AND = {
						OR = {
							any_province = {
								owned_by = HLL
								any_neighbor_province = {
									owned_by = MK1
									is_capital = yes
								}
							}
							MK1 = { NOT = { num_of_cities = 2 } }
						}
						MK1 = { NOT = { num_of_cities = 10 } }
						NOT = {
							trading_with_markland = yes
						}
					}
				}
			}
			random_list = {
				70 = {
					country_event = { id = nhs_vov_civil_war.10 days = 50 }
				}
				30 = {
					country_event = { id = nhs_vov_civil_war.9 days = 50 }
				}
			}
		}
		if = {
			limit = {
				NOT = {
					OR = {
						AND = {
							OR = {
								any_province = {
									owned_by = MK1
									any_neighbor_province = {
										owned_by = HLL
										is_capital = yes
									}
								}
								HLL = { NOT = { num_of_cities = 2 } }
							}
							HLL = { NOT = { num_of_cities = 10 } }
							NOT = {
								trading_with_helluland = yes
							}
						}
						AND = {
							OR = {
								any_province = {
									owned_by = HLL
									any_neighbor_province = {
										owned_by = MK1
										is_capital = yes
									}
								}
								MK1 = { NOT = { num_of_cities = 2 } }
							}
							MK1 = { NOT = { num_of_cities = 10 } }
							NOT = { 
								trading_with_markland = yes
							}
						}
					}
				}
			}
			random_list = {
				70 = {
					country_event = { id = nhs_vov_civil_war.9 days = 50 }
				}
				30 = {
					country_event = { id = nhs_vov_civil_war.5 days = 50 }
				}
			}
		}
	}
	###
	if = {
		limit = {
			NOT = {
				any_province = {
					OR = {
						owned_by = MK1
						owned_by = HLL
					}
					NOT = { region = canada_region }
				}
			}
			NOT = {
				OR = {
					MK1 = { NOT = { num_of_cities = 2 } }
					HLL = { NOT = { num_of_cities = 2 } }
				}
			}
		}
		if = {
			limit = {
				OR = {
					AND = {
						OR = {
							any_province = {
								owned_by = MK1
								any_neighbor_province = {
									owned_by = HLL
									is_capital = yes
								}
							}
							HLL = { NOT = { num_of_cities = 2 } }
						}
						HLL = { NOT = { num_of_cities = 10 } }
						NOT = {
							trading_with_helluland = yes
						}
					}
					AND = {
						OR = {
							any_province = {
								owned_by = HLL
								any_neighbor_province = {
									owned_by = MK1
									is_capital = yes
								}
							}
							MK1 = { NOT = { num_of_cities = 2 } }
						}
						MK1 = { NOT = { num_of_cities = 10 } }
						NOT = { 
							trading_with_markland = yes
						}
					}
				}	
			}
			random_list = {
				70 = {
					country_event = { id = nhs_vov_civil_war.9 days = 50 }
				}
				30 = {
					country_event = { id = nhs_vov_civil_war.5 days = 50 }
				}
			}
		}
		if = {
			limit = {
				NOT = {
					OR = {
						AND = {
							OR = {
								any_province = {
									owned_by = MK1
									any_neighbor_province = {
										owned_by = HLL
										is_capital = yes
									}
								}
								HLL = { NOT = { num_of_cities = 2 } }
							}
							HLL = { NOT = { num_of_cities = 10 } }
							NOT = {
								trading_with_helluland = yes
							}
						}
						AND = {
							OR = {
								any_province = {
									owned_by = HLL
									any_neighbor_province = {
										owned_by = MK1
										is_capital = yes
									}
								}
								MK1 = { NOT = { num_of_cities = 2 } }
							}
							MK1 = { NOT = { num_of_cities = 10 } }
							NOT = { 
								trading_with_markland = yes
							}
						}
					}
				}
			}
			country_event = { id = nhs_vov_civil_war.5 days = 50 }
		}
	}
}

nhs_move_por_settlements = {
	while = {
		limit = {
			any_province = {
				continent = north_america
				OR = {
					owned_by = POR
					owner = {
						AND = {
							is_colonial_nation = yes
							colonial_parent = {
								tag = POR
							}
						}
					}
				}
			}
		}
		random_province = {
			limit = {
				continent = north_america
				OR = {
					owned_by = POR
					owner = {
						AND = {
							is_colonial_nation = yes
							colonial_parent = {
								tag = POR
							}
						}
					}
				}
			}
			add_colonysize = -1000
			cede_province = ---
			change_trade_goods = unknown
		}
		if = {
			limit = {
				any_province = {
					is_empty = yes
					region = brazil_region
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
			}
			random_province = {
				limit = {
					region = brazil_region
					is_empty = yes
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		else_if = {
			limit = {
				any_province = {
					continent = south_america
					is_empty = yes
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
			}
			random_province = {
				limit = {
					continent = south_america
					is_empty = yes
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		else_if = {
			limit = {
				any_province = {
					region = brazil_region
					is_empty = yes
				}
			}
			random_province = {
				limit = {
					region = brazil_region
					is_empty = yes
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		else_if = {
			limit = {
				any_province = {
					continent = south_america
					is_empty = yes
				}
			}
			random_province = {
				limit = {
					continent = south_america
					is_empty = yes
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
	}
}

nhs_break_por_deal = {
	clr_country_flag = nhs_has_por_enclave
	clr_country_flag = nhs_has_large_por_enclave
	clr_country_flag = nhs_has_small_por_enclave
	clr_global_flag = nhs_treaty_of_lantanopolis
	set_global_flag = nhs_broke_deals_with_por
	if = {
		limit = {
			has_country_modifier = nhs2_ely_por_trade
		}
		remove_country_modifier = nhs2_ely_por_trade
	}
	add_country_modifier = {
		name = nhs2_elysian_isolationism
		duration = -1
	}
	add_opinion = {
		who = POR
		modifier = nhs_broke_the_deals
	}
	remove_opinion = {
		who = POR
		modifier = nhs_por_trade_deal
	}
	POR = {
		if = {
			limit = {
				has_country_modifier = nhs2_treaty_of_lantanopolis_por
			}
			remove_country_modifier = nhs2_treaty_of_lantanopolis_por
		}
		if = {
			limit = {
				has_country_modifier = nhs2_por_ely_trade
			}
			remove_country_modifier = nhs2_por_ely_trade
		}
		
		add_trust = { who = ROOT value = -40 mutual = yes }
		add_opinion = {
			who = ROOT
			modifier = nhs_broke_the_deals
		}
		remove_opinion = {
			who = ROOT
			modifier = nhs2_por_ely_trade
		}
		remove_opinion = {
			who = ROOT
			modifier = nhs_unchecked_expansion
		}
	}
	if = {
		limit = {
			any_province = {
				has_province_modifier = nhs2_small_por_enclave
			}
		}
		every_province = {
			limit = {
				has_province_modifier = nhs2_small_por_enclave
			}
			remove_province_modifier = nhs2_small_por_enclave
		}
	}
	if = {
		limit = {
			any_province = {
				has_province_modifier = nhs2_por_enclave
			}
		}
		every_province = {
			limit = {
				has_province_modifier = nhs2_por_enclave
			}
			remove_province_modifier = nhs2_por_enclave
		}
	}
	if = {
		limit = {
			any_province = {
				has_province_modifier = nhs2_large_por_enclave
			}
		}
		every_province = {
			limit = {
				has_province_modifier = nhs2_large_por_enclave
			}
			remove_province_modifier = nhs2_large_por_enclave
		}
	}
}

nhs_add_proper_enclave = {
	owner = { clr_country_flag = nhs_enclave_pending }
	if = {
		limit = {
			owner = { has_country_flag = nhs_has_small_por_enclave }
		}
		add_province_modifier = {
			name = nhs2_small_por_enclave
			duration = -1
		}
	}
	if = {
		limit = {
			owner = { has_country_flag = nhs_has_por_enclave }
		}
		add_province_modifier = {
			name = nhs2_por_enclave
			duration = -1
		}
	}
	if = {
		limit = {
			owner = { has_country_flag = nhs_has_large_por_enclave }
		}
		add_province_modifier = {
			name = nhs2_large_por_enclave
			duration = -1
		}
	}
	if = {
		limit = {
			owner = { has_country_flag = nhs_has_eu_enclave }
		}
		add_province_modifier = {
			name = nhs2_european_enclave
			duration = -1
		}
	}
}

nhs_move_t_post = {
	if = {
		limit = {
			has_province_modifier = nhs2_european_enclave
		}
		remove_province_modifier = nhs2_european_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
						NOT = { nhs_homelands = yes }
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
						NOT = { nhs_homelands = yes }
					}
					add_province_modifier = {
						name = nhs2_european_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_european_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					nhs_eligible_for_enclave_with_canada = yes
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave_with_canada = yes
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_albanian_majority_modifier = yes
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_european_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
	if = {
		limit = {
			has_province_modifier = nhs2_small_por_enclave
		}
		remove_province_modifier = nhs2_small_por_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
						NOT = { nhs_homelands = yes }
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
						NOT = { nhs_homelands = yes }
					}
					add_province_modifier = {
						name = nhs2_small_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_small_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave_with_canada = yes
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave_with_canada = yes
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_albanian_majority_modifier = yes
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_small_por_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
	if = {
		limit = {
			has_province_modifier = nhs2_por_enclave
		}
		remove_province_modifier = nhs2_por_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
						NOT = { nhs_homelands = yes }
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
						NOT = { nhs_homelands = yes }
					}
					add_province_modifier = {
						name = nhs2_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave_with_canada = yes
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave_with_canada = yes
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_albanian_majority_modifier = yes
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_por_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
	if = {
		limit = {
			has_province_modifier = nhs2_large_por_enclave
		}
		remove_province_modifier = nhs2_large_por_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
						NOT = { nhs_homelands = yes }
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
						NOT = { nhs_homelands = yes }
					}
					add_province_modifier = {
						name = nhs2_large_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						culture_group = ROOT
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_large_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave_with_canada = yes
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave_with_canada = yes
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_albanian_majority_modifier = yes
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_large_por_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
}

nhs_heir_age_mm_10_pregen = {
	clr_country_flag = nhs_heir_age_choice_$HT$_1
	clr_country_flag = nhs_heir_age_choice_$HT$_2
	clr_country_flag = nhs_heir_age_choice_$HT$_3
	clr_country_flag = nhs_heir_age_choice_$HT$_4
	clr_country_flag = nhs_heir_age_choice_$HT$_5
	clr_country_flag = nhs_heir_age_choice_$HT$_6
	clr_country_flag = nhs_heir_age_choice_$HT$_7
	clr_country_flag = nhs_heir_age_choice_$HT$_8
	clr_country_flag = nhs_heir_age_choice_$HT$_9
	clr_country_flag = nhs_heir_age_choice_$HT$_10
	random_list = {
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_1
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_2
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_3
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_4
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_5
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_6
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_7
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_8
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_9
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_10
		}
	}
}

nhs_heir_age_mm_10 = {
	trigger_switch = {
		on_trigger = has_country_flag 
		nhs_heir_age_choice_$HT$_1 = {
			#add_treasury = $AGE1$0
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$0
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_2 = {
			#add_treasury = $AGE1$1
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$1
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_3 = {
			#add_treasury = $AGE1$2
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$2
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_4 = {
			#add_treasury = $AGE1$3
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$3
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_5 = {
			#add_treasury = $AGE1$4
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$4
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_6 = {
			#add_treasury = $AGE1$5
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$5
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_7 = {
			#add_treasury = $AGE1$6
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$6
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_8 = {
			#add_treasury = $AGE1$7
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$7
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_9 = {
			#add_treasury = $AGE1$8
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$8
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_10 = {
			#add_treasury = $AGE1$9
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$9
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
	}
}

nhs_heir_age_mm_20_pregen = {
	clr_country_flag = nhs_heir_age_choice_$HT$_1
	clr_country_flag = nhs_heir_age_choice_$HT$_2
	clr_country_flag = nhs_heir_age_choice_$HT$_3
	clr_country_flag = nhs_heir_age_choice_$HT$_4
	clr_country_flag = nhs_heir_age_choice_$HT$_5
	clr_country_flag = nhs_heir_age_choice_$HT$_6
	clr_country_flag = nhs_heir_age_choice_$HT$_7
	clr_country_flag = nhs_heir_age_choice_$HT$_8
	clr_country_flag = nhs_heir_age_choice_$HT$_9
	clr_country_flag = nhs_heir_age_choice_$HT$_10
	clr_country_flag = nhs_heir_age_choice_$HT$_11
	clr_country_flag = nhs_heir_age_choice_$HT$_12
	clr_country_flag = nhs_heir_age_choice_$HT$_13
	clr_country_flag = nhs_heir_age_choice_$HT$_14
	clr_country_flag = nhs_heir_age_choice_$HT$_15
	clr_country_flag = nhs_heir_age_choice_$HT$_16
	clr_country_flag = nhs_heir_age_choice_$HT$_17
	clr_country_flag = nhs_heir_age_choice_$HT$_18
	clr_country_flag = nhs_heir_age_choice_$HT$_19
	clr_country_flag = nhs_heir_age_choice_$HT$_20
	random_list = {
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_1
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_2
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_3
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_4
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_5
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_6
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_7
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_8
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_9
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_10
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_11
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_12
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_13
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_14
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_15
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_16
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_17
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_18
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_19
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_20
		}
	}
}

nhs_heir_age_mm_20 = {
	trigger_switch = {
		on_trigger = has_country_flag 
		nhs_heir_age_choice_$HT$_1 = {
			#add_treasury = $AGE1$0
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$0
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_2 = {
			#add_treasury = $AGE1$1
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$1
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_3 = {
			#add_treasury = $AGE1$2
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$2
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_4 = {
			#add_treasury = $AGE1$3
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$3
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_5 = {
			#add_treasury = $AGE1$4
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$4
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_6 = {
			#add_treasury = $AGE1$5
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$5
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_7 = {
			#add_treasury = $AGE1$6
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$6
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		5nhs_heir_age_choice_$HT$_8 = {
			#add_treasury = $AGE1$7
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$7
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_9 = {
			#add_treasury = $AGE1$8
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$8
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_10 = {
			#add_treasury = $AGE1$9
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$9
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_11 = {
			#add_treasury = $AGE2$0
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$0
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_12 = {
			#add_treasury = $AGE2$1
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$1
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_13 = {
			#add_treasury = $AGE2$2
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$2
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_14 = {
			#add_treasury = $AGE2$3
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$3
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_15 = {
			#add_treasury = $AGE2$4
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$4
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_16 = {
			#add_treasury = $AGE2$5
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$5
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_17 = {
			#add_treasury = $AGE2$6
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$6
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_18 = {
			#add_treasury = $AGE2$7
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$7
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_19 = {
			#add_treasury = $AGE2$8
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$8
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_20 = {
			#add_treasury = $AGE2$9
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$9
				[[MIN_R_ADM]
					change_adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					change_dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					change_mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
	}
}

#nhs_heir_age_mm_20 = {
#	random_list = {
#		5 = {
#			#add_treasury = $AGE1$0
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$0
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$1
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$1
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$2
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$2
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$3
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$3
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$4
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$4
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$5
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$5
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$6
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$6
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$7
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$7
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$8
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$8
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$9
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$9
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$0
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$0
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$1
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$1
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$2
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$2
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$3
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$3
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$4
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$4
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$5
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$5
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$6
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$6
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$7
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$7
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$8
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$8
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$9
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$9
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#	}
#}
#nhs_heir_age_mm_10 = {
#	random_list = {
#		5 = {
#			add_treasury = $AGE1$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$
#				[[MIN_R_ADM]
#					change_adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE2$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$
#				[[MIN_R_ADM]
#					change_adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE3$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE3$
#				[[MIN_R_ADM]
#					change_adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE4$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE4$
#				[[MIN_R_ADM]
#					change_adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE5$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE5$
#				[[MIN_R_ADM]
#					change_adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE6$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE6$
#				[[MIN_R_ADM]
#					change_adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE7$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE7$
#				[[MIN_R_ADM]
#					change_adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE8$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE8$
#				[[MIN_R_ADM]
#					change_adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE9$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE9$
#				[[MIN_R_ADM]
#					change_adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE10$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE10$
#				[[MIN_R_ADM]
#					change_adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					change_dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					change_mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#	}
#}

nhs_restore_ruler = {
	ELF = {
		#limit = {
			#ai = yes
			#is_subject = no
			#NOT = {
			##	num_of_unions = 1
			#}
			#NOT = { tag = PAP }
			
		#}
		#exile_ruler_as = nhs_temp_ruler
		if = {
			limit = {
				has_global_flag = $HEIR_FLAG$
				has_global_flag = $RULER_FLAG$
			}
			set_ruler = $RULER_EXILE$
			set_heir = $HEIR_EXILE$
			#log = "RULER AND HEIR"
			if = {
				limit = {
					ruler_age = 70
				}
				#log = "RULER TOO OLD"
				if = {
					limit = {
						heir_age = 80
					}
					#log = "HEIR TOO OLD"
					ROOT = {
						define_ruler = {
							dynasty = PREV
							claim = 50
							#age = 20
							min_age = 30
							max_age = 40
						}
						if = {
							limit = {
								ruler_age = 60
								has_heir = no
							}
							kill_ruler = yes
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
				else = {
					#log = "Ruler 1: [ELF.Monarch.GetName]"
					#log = "Heir 1: [ELF.Heir.GetName]"
					#exile_ruler_as = nhs_temp_exile
					#log = "Ruler 2: [ELF.Monarch.GetName]"
					#exile_ruler_as = $RULER_EXILE$
					exile_heir_as = $HEIR_EXILE$
					#log = "Ruler 3: [ELF.Monarch.GetName]"
					#log = "Heir 3: [ELF.Heir.GetName]"
					ROOT = {
						define_ruler = {
							name = "(Interregnum)"
							adm = 3
							dip = 3
							mil = 1
							regency = yes
						}
						set_heir = $HEIR_EXILE$
						add_legitimacy = 100
						add_legitimacy = -20
						if = {
							limit = {
								heir_age = 60
							}
							kill_ruler = yes
							if = {
								limit = {
									has_heir = no
								}
								define_heir = {
									dynasty = PREV
									claim = 50
									age = 15
								}
							}
						}
					}
				}
			}
			else = {
				if = {
					limit = {
						heir_age = 70
					}
					#log = "HEIR TOO OLD"
					exile_ruler_as = $RULER_EXILE$
					ROOT = {
						set_ruler = $RULER_EXILE$
						if = {
							limit = {
								ruler_age = 50
								has_heir = no
							}
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
				else = {
					exile_heir_as = $HEIR_EXILE$
					exile_ruler_as = $RULER_EXILE$
					ROOT = {
						set_heir = $HEIR_EXILE$
						set_ruler = $RULER_EXILE$
						add_legitimacy = 100
						add_legitimacy = -20
					}
				}
			}
		}
		else_if = {
			limit = {
				has_global_flag = $HEIR_FLAG$
				NOT = { has_global_flag = $RULER_FLAG$ }
			}
			#log = "HEIR"
			set_heir = $HEIR_EXILE$
			#log = "Ruler 1: [ELF.Monarch.GetName]"
			#log = "Heir 1: [ELF.Heir.GetName]"
			#kill_ruler = yes
			#log = "Ruler 1: [ELF.Monarch.GetName]"
			#log = "Heir 1: [ELF.Heir.GetName]"
			if = {
				limit = {
					heir_age = 80
				}
				#log = "RULER TOO OLD"
				ROOT = {
					define_ruler = {
						dynasty = PREV
						claim = 50
						age = 21
					}
				}
			}
			else = {
				exile_heir_as = $HEIR_EXILE$
				ROOT = {
					define_ruler = {
						name = "(Interregnum)"
						adm = 3
						dip = 3
						mil = 1
						regency = yes
					}
					set_heir = $HEIR_EXILE$
					add_legitimacy = 100
					add_legitimacy = -20
					if = {
						limit = {
							heir_age = 60
						}
						kill_ruler = yes
						if = {
							limit = {
								has_heir = no
							}
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				NOT = { has_global_flag = $HEIR_FLAG$ }
				has_global_flag = $RULER_FLAG$
			}
			#log = "RULER"
			set_ruler = $RULER_EXILE$
			if = {
				limit = {
					ruler_age = 80
				}
				log = "RULER TOO OLD"
				ROOT = {
					define_ruler = {
						dynasty = PREV
						claim = 50
						age = 21
					}
				}
			}
			else = {
				exile_ruler_as = $RULER_EXILE$
				ROOT = {
					set_ruler = $RULER_EXILE$
					if = {
						limit = {
							ruler_age = 50
							has_heir = no
						}
						define_heir = {
							dynasty = PREV
							claim = 50
							age = 15
						}
					}
				}
			}
		}
		else = {
			ROOT = {
				define_ruler = {
					dynasty = "historic_dynasty"
					claim = 40
					age = 21
				}
			}
		}
		clr_global_flag = $HEIR_FLAG$
		clr_global_flag = $RULER_FLAG$
	}
}

nhs_assign_names_ely = {
	trigger_switch = {
		on_trigger = province_id
		968 = { rename_capital = "Maiandros"  }
		970 = { rename_capital = "Phokaia"  }
		2013 = { rename_capital = "Kourion"  }
		2561 = { rename_capital = "Polychna"  }
		966 = { rename_capital = "Makistos"  }
		967 = { rename_capital = "Halaitos"  }
		2010 = { rename_capital = "Senithyre"  }
		2560 = { rename_capital = "Tanais"  }
		2562 = { rename_capital = "Amphissa"  }
		963 = { rename_capital = "Gordion"  }
		965 = { rename_capital = "Kalydon"  }
		2558 = { rename_capital = "Tomis"  }
		2639 = { rename_capital = "Chryse"  }
		956 = { rename_capital = "Labinion"  }
		962 = { rename_capital = "Atlapolis"  }
		2023 = { rename_capital = "Rhodan"  }
		960 = { rename_capital = "Dyvela"  }
		961 = { rename_capital = "Korydalla"  }
		964 = { rename_capital = "Klazomenai"  }
		2559 = { rename_capital = "Leuktra"  }
		954 = { rename_capital = "Thespiai"  }
		958 = { rename_capital = "Hykara"  }
		959 = { rename_capital = "Ethyphleia"  }
		955 = { rename_capital = "Kydonia"  }
		2555 = { rename_capital = "Epeion"  }
		2556 = { rename_capital = "Agathe"  }
		2557 = { rename_capital = "Teichos"  }
		949 = { rename_capital = "Aeolis"  }
		2011 = { rename_capital = "Pyrgos"  }
		2552 = { rename_capital = "Siphai"  }
		2553 = { rename_capital = "Doriskos"  }
		2549 = { rename_capital = "Alexandroupolis"  }
		933 = { rename_capital = "Ambrakia"  }
		937 = { rename_capital = "Aperlai"  }
		2541 = { rename_capital = "Istros"  }
		2545 = { rename_capital = "Kelainai"  }
		2544 = { rename_capital = "Argos"  }
		938 = { rename_capital = "Tyros"  }
		2546 = { rename_capital = "Neauios"  }
		2547 = { rename_capital = "Mykene"  }
		932 = { rename_capital = "Tiveris"  }
		2542 = { rename_capital = "Ephesos"  }
		2543 = { rename_capital = "Khlorion"  }
		929 = { rename_capital = "Phaleron"  }
		2537 = { rename_capital = "Perrhaibia"  }
		2539 = { rename_capital = "Kyzikos"  }
		930 = { rename_capital = "Lydeia"  }
		2538 = { rename_capital = "Limnaia"  }
		2540 = { rename_capital = "Vreithon"  }
		926 = { rename_capital = "Maionion"  }
		2535 = { rename_capital = "Kyaneai"  }
		2536 = { rename_capital = "Akatos"  }
		4626 = { rename_capital = "Loryma"  }
		927 = { rename_capital = "Mara"  }
		928 = { rename_capital = "Kestros"  }
		2534 = { rename_capital = "Kynares"  }
		4625 = { rename_capital = "Pagasa "  }
		951 = { rename_capital = "Amelas"  }
		2548 = { rename_capital = "Nysreia"  }
		2551 = { rename_capital = "Nea Amorion"  }
		931 = { rename_capital = "Keryneia"  }
		935 = { rename_capital = "Potidaia"  }
		936 = { rename_capital = "Perinthos"  }
		921 = { rename_capital = "Klousion"  }
		922 = { rename_capital = "Stageira"  }
		923 = { rename_capital = "Boion"  }
		2530 = { rename_capital = "Daskyleion"  }
		2533 = { rename_capital = "Limyra"  }
		918 = { rename_capital = "Lepreon"  }
		919 = { rename_capital = "Myrkinos"  }
		939 = { rename_capital = "Soreos"  }
		920 = { rename_capital = "Koroneia"  }
		2528 = { rename_capital = "Kyme"  }
		2529 = { rename_capital = "Nea Dyrrakhion"  }
		924 = { rename_capital = "Ioulianos"  }
		925 = { rename_capital = "Azoros"  }
		2531 = { rename_capital = "Phaselis"  }
		2532 = { rename_capital = "Chrysaoris"  }
		2527 = { rename_capital = "Medeon"  }
		934 = { rename_capital = "Oropos"  }
		940 = { rename_capital = "Sardeis"  }
		941 = { rename_capital = "Erytheia"  }
		2526 = { rename_capital = "Maiotis"  }
		946 = { rename_capital = "Astraios"  }
		947 = { rename_capital = "Phanagoria"  }
		948 = { rename_capital = "Thyateira"  }
		2525 = { rename_capital = "Orchomenos"  }
		943 = { rename_capital = "Sarachyl"  }
		2523 = { rename_capital = "Stratonikeia"  }
		2524 = { rename_capital = "Teos"  }
		915 = { rename_capital = "Thymbre"  }
		942 = { rename_capital = "Sounion"  }
		2519 = { rename_capital = "Olynthos"  }
		916 = { rename_capital = "Orestias"  }
		917 = { rename_capital = "Andronikopolis"  }
		2513 = { rename_capital = "Myrina"  }
		2520 = { rename_capital = "Himera"  }
		944 = { rename_capital = "Anaia"  }
		945 = { rename_capital = "Aisymi"  }
		2521 = { rename_capital = "Sigeion"  }
		2522 = { rename_capital = "Rhosos"  }
		910 = { rename_capital = "Mekone"  }
		2517 = { rename_capital = "Neokastro"  }
		2518 = { rename_capital = "Mendai"  }
		911 = { rename_capital = "Pitane"  }
		912 = { rename_capital = "Triphylia"  }
		913 = { rename_capital = "Philomelion"  }
		914 = { rename_capital = "Doliche"  }
		894 = { rename_capital = "Metauros"  }
		895 = { rename_capital = "Andriake"  }
		2014 = { rename_capital = "Atarneus"  }
		2516 = { rename_capital = "Stauroupolis"  }
		900 = { rename_capital = "Temnos"  }
		902 = { rename_capital = "Eirenoupolis"  }
		2514 = { rename_capital = "Kolossai"  }
		897 = { rename_capital = "Nemea"  }
		899 = { rename_capital = "Emathia"  }
		2515 = { rename_capital = "Galepsos"  }
		890 = { rename_capital = "Mainolos"  }
		891 = { rename_capital = "Skamandria"  }
		892 = { rename_capital = "Hyele"  }
		896 = { rename_capital = "Laodikeia"  }
		2509 = { rename_capital = "Tiryns"  }
		898 = { rename_capital = "Rhyendre"  }
		901 = { rename_capital = "Skotoussa"  }
		903 = { rename_capital = "Phthia"  }
		2508 = { rename_capital = "Prasia"  }
		2672 = { rename_capital = "Kleonai"  }
		906 = { rename_capital = "Veronikeia"  }
		908 = { rename_capital = "Stente"  }
		909 = { rename_capital = "Sagalassos"  }
		2007 = { rename_capital = "Demetrias"  }
		2512 = { rename_capital = "Thurioi"  }
		904 = { rename_capital = "Kolophon"  }
		905 = { rename_capital = "Akanthos"  }
		907 = { rename_capital = "Phleious"  }
		2502 = { rename_capital = "Aulai"  }
		2503 = { rename_capital = "Pythion"  }
		2510 = { rename_capital = "Tymphaia"  }
		2501 = { rename_capital = "Pallantion"  }
		1809 = { rename_capital = "Karia"  }
		2008 = { rename_capital = "Helike"  }
		2009 = { rename_capital = "Eryx"  }
		2505 = { rename_capital = "Knidos"  }
		882 = { rename_capital = "Heraia"  }
		885 = { rename_capital = "Sarpeidion"  }
		2496 = { rename_capital = "Antheia"  }
		2497 = { rename_capital = "Molossia"  }
		4630 = { rename_capital = "Oiniadai"  }
		884 = { rename_capital = "Karallia"  }
		887 = { rename_capital = "Idrias"  }
		888 = { rename_capital = "Phalkon"  }
		2665 = { rename_capital = "Miletos"  }
		2669 = { rename_capital = "Pella"  }
		883 = { rename_capital = "Pergamon"  }
		886 = { rename_capital = "Kopais"  }
		2500 = { rename_capital = "Sestos"  }
		4627 = { rename_capital = "Sylleion"  }
		987 = { rename_capital = "Sikyon"  }
		989 = { rename_capital = "Blachernai"  }
		2585 = { rename_capital = "Cheldia"  }
		2670 = { rename_capital = "Myndos"  }
		991 = { rename_capital = "Kaikos"  }
		1001 = { rename_capital = "Abdera"  }
		1007 = { rename_capital = "Melia"  }
		2015 = { rename_capital = "Argyre"  }
		2593 = { rename_capital = "Kadmeis"  }
		988 = { rename_capital = "Gerakioupolis"  }
		2586 = { rename_capital = "Nisaia"  }
		2587 = { rename_capital = "Azanoi"  }
		2671 = { rename_capital = "Rhamnos"  }
		1008 = { rename_capital = "Aphidnai"  }
		1010 = { rename_capital = "Priene"  }
		2016 = { rename_capital = "Pellene"  }
		2511 = { rename_capital = "Neo Chalkedon"  }
		2596 = { rename_capital = "Daphnai"  }
		2597 = { rename_capital = "Okaleia"  }
		2598 = { rename_capital = "Dekeleia"  }
		2005 = { rename_capital = "Phaistos"  }
		861 = { rename_capital = "Rhegion"  }
		2619 = { rename_capital = "Kremna"  }
		2666 = { rename_capital = "Pessinos"  }
		2667 = { rename_capital = "Magydos"  }
		4606 = { rename_capital = "Phaiakia"  }
		863 = { rename_capital = "Apollonia"  }
		864 = { rename_capital = "Ainis"  }
		2618 = { rename_capital = "Epiphania"  }
		4644 = { rename_capital = "Machara"  }
		2498 = { rename_capital = "Dikella"  }
		4628 = { rename_capital = "Akraiphia"  }
		4629 = { rename_capital = "Parauaia"  }
		858 = { rename_capital = "Amyklai"  }
		2499 = { rename_capital = "Hysia"  }
		2614 = { rename_capital = "Plataia"  }
		2668 = { rename_capital = "Troas"  }
		484 = { rename_capital = "Tousklon"  }
		485 = { rename_capital = "Geilyn"  }
		4622 = { rename_capital = "Teukos"  }
		4623 = { rename_capital = "Aigiroessa"  }
		4624 = { rename_capital = "Kibyra"  }
		486 = { rename_capital = "Tartessos"  }
		2654 = { rename_capital = "Graivion"  }
		2655 = { rename_capital = "Ivros"  }
		2656 = { rename_capital = "Messapia"  }
		488 = { rename_capital = "Brauron"  }
		489 = { rename_capital = "Thyreai"  }
		4618 = { rename_capital = "Iapygia"  }
		4619 = { rename_capital = "Oisyme"  }
		490 = { rename_capital = "Pherai"  }
		2658 = { rename_capital = "Megaria"  }
		2659 = { rename_capital = "Vetriakon"  }
		4620 = { rename_capital = "Scheria"  }
		4621 = { rename_capital = "Issos"  }
		487 = { rename_capital = "Lerna"  }
		491 = { rename_capital = "Xanthos"  }
		492 = { rename_capital = "Iolkos"  }
		482 = { rename_capital = "Brasiai"  }
		483 = { rename_capital = "Antigoneia"  }
		493 = { rename_capital = "Skillous"  }
		494 = { rename_capital = "Chiloune"  }
		495 = { rename_capital = "Pteleon"  }
		496 = { rename_capital = "Vareine"  }
		1881 = { rename_capital = "Nyssa"  }
		497 = { rename_capital = "Diaskourios"  }
		498 = { rename_capital = "Ophrynion"  }
		499 = { rename_capital = "Anthele"  }
		500 = { rename_capital = "Thapsakos"  }
		501 = { rename_capital = "Stymphalos"  }
		1011 = { rename_capital = "Skala"  }
		1009 = { rename_capital = "Askalon"  }
		1813 = { rename_capital = "Traianoupolis"  }
		2595 = { rename_capital = "Selymbria"  }
		889 = { rename_capital = "Kroton"  }
		2507 = { rename_capital = "Olpai"  }
		2625 = { rename_capital = "Levedos"  }
		2600 = { rename_capital = "Euromos"  }
		2599 = { rename_capital = "Tauris"  }
		2601 = { rename_capital = "Orikon"  }
		2004 = { rename_capital = "Borysthenes"  }
		2602 = { rename_capital = "Hybla"  }
		969 = { rename_capital = "Beryna" }
	}
}


nhs_assign_names_effect = {
	if = {
		limit = {
			is_empty = no
			NOT = { province_id = 953 }
		}
		if = {
			limit = {
				NOT = { has_province_flag = nhs_prevent_changing_province_capital }
				culture_group = owner
				# owner =	{
					# culture_group = PREV
				# }
				OR = {
					is_colony = yes
					owner = {
						OR = {
							culture_group = elysian_group
							primary_culture = apogonoi
							AND = {
								culture_group = byzantine
								NOT = { primary_culture = turkish }
							}
						}
					}
				}
			}
			nhs_assign_names_ely = yes
		}
	}
}

nhs_ai_picks_secrets = {
	random_list = {
		10 = {
			set_variable = {
				which = nhs_new_flight_food_status
				value = 4
			}
		}
		30 = {
			set_variable = {
				which = nhs_new_flight_food_status
				value = 3
			}
			random_list = {
				50 = {
					set_country_flag = nhs_new_flight_taken_books
					add_country_modifier = {
						name = "nhs_secrets_books"
						duration = -1
					}
				}
				30 = {
					set_country_flag = nhs_new_flight_taken_silk
					add_country_modifier = {
						name = "nhs_secrets_silk"
						duration = -1
					}
				}
				20 = {
					set_country_flag = nhs_new_flight_taken_venetians
					set_global_flag = nhs_enable_venetian_merchant_estate_g
				}
			}
		}
		50 = {
			set_variable = {
				which = nhs_new_flight_food_status
				value = 2
			}
			random_list = {
				33 = {
					set_country_flag = nhs_new_flight_taken_books
					add_country_modifier = {
						name = "nhs_secrets_books"
						duration = -1
					}
					set_country_flag = nhs_new_flight_taken_silk
					add_country_modifier = {
						name = "nhs_secrets_silk"
						duration = -1
					}
				}
				33 = {
					set_country_flag = nhs_new_flight_taken_books
					add_country_modifier = {
						name = "nhs_secrets_books"
						duration = -1
					}
					set_country_flag = nhs_new_flight_taken_venetians
					set_global_flag = nhs_enable_venetian_merchant_estate_g
				}
				33 = {
					set_country_flag = nhs_new_flight_taken_silk
					add_country_modifier = {
						name = "nhs_secrets_silk"
						duration = -1
					}
					set_country_flag = nhs_new_flight_taken_venetians
					set_global_flag = nhs_enable_venetian_merchant_estate_g
				}
			}
		}
		10 = {
			set_variable = {
				which = nhs_new_flight_food_status
				value = 1
			}
			set_country_flag = nhs_new_flight_taken_books
			add_country_modifier = {
				name = "nhs_secrets_books"
				duration = -1
			}
			set_country_flag = nhs_new_flight_taken_silk
			add_country_modifier = {
				name = "nhs_secrets_silk"
				duration = -1
			}
			set_country_flag = nhs_new_flight_taken_venetians
			set_global_flag = nhs_enable_venetian_merchant_estate_g
		}
	}
}

nhs_settler_boost_on_colony_created = {
	if = {
		limit = {
			owner = {
				has_idea = colonial_administration
			}
			NOT = { has_province_flag = nhs_got_boost }
			NOT = { colonysize = 200 }
			continent = north_america
		}
		set_province_flag = nhs_got_boost
		add_colonysize = 200
	}
}

nhs_remove_fort = {
	if = {
		limit = {
			has_building = fort_15th
		}
		remove_building = fort_15th
	}
	else_if = {
		limit = {
			has_building = fort_16th
		}
		remove_building = fort_16th
	}
	else_if = {
		limit = {
			has_building = fort_17th
		}
		remove_building = fort_17th
	}
	else_if = {
		limit = {
			has_building = fort_18th
		}
		remove_building = fort_18th
	}
}

nhs_highest_dev_province = {
	set_variable = {
		which = nhs_highest_province_dev
		value = 0
	}
	every_owned_province = {
		limit = {
			$PROVINCE_CONDITION$ = yes
		}
		ROOT = {
			export_to_variable = {
				which = nhs_local_dev
				value = development
				who = PREV
			}
		}
		
		[[TRADE_CENTER_BONUS]
			if = {
				limit = {
					province_has_center_of_trade_of_level = 1
				}
				ROOT = {
					change_variable = {            
						which = nhs_local_dev
						value = $TRADE_CENTER_BONUS$
					}
				}
			}
		]
		ROOT = {
			if = {
				limit = {
					check_variable = { 
						which = nhs_local_dev 
						which = nhs_highest_province_dev 
					}
				}
				set_variable = {
					which = nhs_highest_province_dev 
					which = nhs_local_dev 
				}
				PREV = {
					save_event_target_as = $EVENT_TARGET$
				}
			}
		}
	}
}

# PROVINCE - target province, TAG - owner tag
remove_shipyards_in_province = {
	$PROVINCE$ = {
		if = {
			limit = {
				has_building = shipyard
			}
			remove_building = shipyard
		}
		if = {
			limit = {
				has_building = grand_shipyard
			}
			remove_building = grand_shipyard
		}
	}
}

nhs_settled_mission_effect = {
	# change_tag = ELY
	add_government_reform = senatorial_empire
	custom_tooltip = nhs_new_line_tt
	remove_country_modifier = newnhs_chose_supplies
	if = {
		limit = {
			has_country_flag = nhs_start_with_two
		}
		custom_tooltip = nhs_settler_heritage_0_2_tt
		hidden_effect = {
			remove_country_modifier = nhs_handicap_settlers
			add_country_modifier = {
				name = nhs_settler_heritage_two
				duration = -1
			}
		}
	}
	else = {
		custom_tooltip = nhs_settler_heritage_0_1_tt
		#add_country_modifier = {
		#	name = nhs_settler_heritage
		#	duration = 21900
		#}
		hidden_effect = {
			remove_country_modifier = nhs_handicap_settlers
			add_country_modifier = {
				name = nhs_settler_heritage
				duration = -1
			}
		}
	}
	if = {
		limit = {
			owns = 953
		}
		953 = {
			nhs_set_center_of_trade_2 = yes
		}
	}
	else = {
		capital_scope = {
			nhs_set_center_of_trade_2 = yes
		}
	}
}

to_ely_province_culture_check = {
	if = {
		limit = {
			# owner = {
			# 	culture_group = elysian_group
			# }
			culture_group = elysian_group
			NOT = { culture = elysameric }
			NOT = { culture = shqipproi }
			NOT = { has_albanian_majority_modifier = yes }
		}
		if = {
			limit = {
				has_global_flag = nhs_borealians_appeared
				nhs_borealian_province = yes
				NOT = { culture = borealian }
			}
			change_culture = borealian
			# if = {
			# 	limit = {
			# 		is_colony = no
			# 		NOT = { has_province_flag = nhs_got_autonomy }
			# 		owner = { to_gets_autonomy_borealian = yes }
			# 	}
			# 	set_province_flag = nhs_got_autonomy
			# 	add_local_autonomy = 20
			# }
		}
		else_if = {
			limit = {
				has_global_flag = nhs_hyperborealians_appeared
				nhs_hyperborealian_province = yes
				NOT = { culture = hyperborealian }
			}
			change_culture = hyperborealian
			# if = {
			# 	limit = {
			# 		is_colony = no
			# 		NOT = { has_province_flag = nhs_got_autonomy }
			# 		owner = { to_gets_autonomy_hyperborealian = yes }
			# 	}
			# 	set_province_flag = nhs_got_autonomy
			# 	add_local_autonomy = 20
			# }
		}
		else_if = {
			limit = {
				has_global_flag = nhs_hesperidians_appeared
				nhs_hesperidian_province = yes
				NOT = { culture = hesperidian }
			}
			change_culture = hesperidian
			# if = {
			# 	limit = {
			# 		is_colony = no
			# 		NOT = { has_province_flag = nhs_got_autonomy }
			# 		owner = { to_gets_autonomy_hesperidian = yes }
			# 	}
			# 	set_province_flag = nhs_got_autonomy
			# 	add_local_autonomy = 20
			# }
		}
		else_if = {
			limit = {
				has_global_flag = nhs_kykladian_appeared
				nhs_kykladian_province = yes
				NOT = { culture = kykladian }
			}
			change_culture = kykladian
			# if = {
			# 	limit = {
			# 		is_colony = no
			# 		NOT = { has_province_flag = nhs_got_autonomy }
			# 		owner = { to_gets_autonomy_kykladian = yes }
			# 	}
			# 	set_province_flag = nhs_got_autonomy
			# 	add_local_autonomy = 20
			# }
		}
		else_if = {
			limit = {
				has_global_flag = nhs_elyric_appeared
				nhs_elyric_province = yes
				NOT = { culture = elyric }
			}
			change_culture = elyric
		}
		else_if = {
			limit = {
				has_global_flag = nhs_arkadians_appeared
				nhs_arkadian_province = yes
				NOT = { culture = arkadian }
			}
			change_culture = arkadian
		}
		else_if = {
			limit = {
				has_global_flag = nhs_eleutheroi_appeared
				nhs_eleutheroi_province = yes
				NOT = { culture = eleutheroi }
			}
			change_culture = eleutheroi
		}
		else_if = {
			limit = {
				NOT = {
					OR = {
						region = northeast_america_region
						region = southeast_america_region
					}
				}
				any_neighbor_province = {
					culture_group = elysian_group
				}
			}
			random_neighbor_province = {
				limit = {
					culture_group = elysian_group
				}
				PREV = {
					change_culture = PREV
				}
			}
		}
	}
}

to_ely_province_culture_add_autonomy = {
	if = {
		limit = {
			culture_group = elysian_group
			NOT = { culture = elysameric }
			NOT = { culture = shqipproi }
			NOT = { has_province_flag = nhs_got_autonomy }
			NOT = { has_albanian_majority_modifier = yes }
		}
		if = {
			limit = {
				culture = borealian
				nhs_borealian_province = yes
				owner = { to_gets_autonomy_borealian = yes }
			}
			set_province_flag = nhs_got_autonomy
			add_local_autonomy = 20
		}
		else_if = {
			limit = {
				culture = hyperborealian
				nhs_hyperborealian_province = yes
				owner = { to_gets_autonomy_hyperborealian = yes }
			}
			set_province_flag = nhs_got_autonomy
			add_local_autonomy = 20
		}
		else_if = {
			limit = {
				culture = hesperidian
				nhs_hesperidian_province = yes
				owner = { to_gets_autonomy_hesperidian = yes }
			}
			set_province_flag = nhs_got_autonomy
			add_local_autonomy = 20
		}
		else_if = {
			limit = {
				culture = kykladian
				nhs_kykladian_province = yes
				owner = { to_gets_autonomy_kykladian = yes }
			}
			set_province_flag = nhs_got_autonomy
			add_local_autonomy = 20
		}
	}
}

# nhs_discover_adjacent = {
# 	if = {
# 		limit = {
# 			owner = {
# 				has_idea_group = new_hellas_ideas
# 			}
# 		}
# 		every_neighbor_province = {
# 			every_country = {
# 				limit = { tag = ROOT }
# 				discover_province = PREV
# 			}
# 		}
# 		every_empty_neighbor_province = {
# 			every_country = {
# 				limit = { tag = ROOT }
# 				discover_province = PREV
# 			}
# 		}
# 	}
# }

nhs_handle_fort_manpower = {
	if = {
		limit = {
			owner = {
				has_country_flag = nhs_completed_nhs_build_army_mission
			}
		}
		if = {
			limit = {
				has_building = fort_15th
			}
			add_province_modifier = {
				name = nhs_fort_manpower_2
				duration = -1
				hidden = yes
			}
			remove_province_modifier = nhs_fort_manpower_4
			remove_province_modifier = nhs_fort_manpower_6
			remove_province_modifier = nhs_fort_manpower_8
		}
		else_if = {
			limit = {
				has_building = fort_16th
			}
			remove_province_modifier = nhs_fort_manpower_2
			add_province_modifier = {
				name = nhs_fort_manpower_4
				duration = -1
				hidden = yes
			}
			remove_province_modifier = nhs_fort_manpower_6
			remove_province_modifier = nhs_fort_manpower_8
		}
		else_if = {
			limit = {
				has_building = fort_17th
			}
			remove_province_modifier = nhs_fort_manpower_2
			remove_province_modifier = nhs_fort_manpower_4
			add_province_modifier = {
				name = nhs_fort_manpower_6
				duration = -1
				hidden = yes
			}
			remove_province_modifier = nhs_fort_manpower_8
		}
		else_if = {
			limit = {
				has_building = fort_18th
			}
			remove_province_modifier = nhs_fort_manpower_2
			remove_province_modifier = nhs_fort_manpower_4
			remove_province_modifier = nhs_fort_manpower_6
			add_province_modifier = {
				name = nhs_fort_manpower_8
				duration = -1
				hidden = yes
			}
		}
	}
}

# FORT_LEVEL - level of the modifier
nhs_fort_manpower_add_modifier = {
	if = {
		limit = {
			owner = {
				has_country_flag = nhs_completed_nhs_build_army_mission
			}
		}
		add_province_modifier = {
			name = nhs_fort_manpower_$FORT_LEVEL$
			duration = -1
			hidden = yes
		}
	}
}

nhs_fort_manpower_remove_all_modifiers = {
	remove_province_modifier = nhs_fort_manpower_2
	remove_province_modifier = nhs_fort_manpower_4
	remove_province_modifier = nhs_fort_manpower_6
	remove_province_modifier = nhs_fort_manpower_8
}

to_ely_true_nation_mission_trigger_reduce = {
	custom_tooltip = nhs_true_nation_mission_trigger_reduce_tt
	hidden_effect = {
		change_variable = {
			which = nhs_early_missions_completed
			value = 1
		}
	}
}