vov_handle_coastal_bonus = {
	if = {
		limit = {
			has_province_modifier = vov_coastal_bonus_tm
		}
		if = {
			limit = {
				is_empty = no
				NOT = { has_active_triggered_province_modifier = vov_coastal_bonus_tm }
				NOT = { has_province_flag = vov_coastal_bonus_settled }
			}
			set_province_flag = vov_coastal_bonus_settled
			if = {
				limit = {
					owner = {
						culture_group = norse_g
					}
				}
				add_province_modifier = {
					name = vov_coastal_bonus_norse
					duration = -1
				}
			}
			else = {
				add_province_modifier = {
					name = vov_coastal_bonus
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				is_empty = yes
			}
			remove_province_modifier = vov_coastal_bonus_norse
			add_province_modifier = {
				name = vov_coastal_bonus
				duration = -1
			}
			# clr_province_flag = vov_coastal_bonus_settled
		}
	}
}

vov_handle_grand_forestries = {
	if = {
		limit = {
			has_province_modifier = nhs_grand_forestries_modifier
			OR = {
				NOT = { owner = { has_idea = grand_forestries } }
				NOT = { trade_goods = naval_supplies }
			}
		}
		remove_province_modifier = nhs_grand_forestries_modifier
	}
	else_if = {
		limit = {
			trade_goods = naval_supplies
			NOT = { has_province_modifier = nhs_grand_forestries_modifier }
			owner = { has_idea = grand_forestries }
		}
		add_province_modifier = { 
			name = nhs_grand_forestries_modifier
			duration = -1
			hidden = yes
		}
	}
}

vov_setup_coastal_bonus = {
	every_province = {
		limit = {
			region = canada_region
			has_port = yes
			NOT = { has_province_modifier = vov_coastal_bonus_tm }
		}
		if = {
			limit = {
				is_empty = yes
			}
			add_province_modifier = {
				name = vov_coastal_bonus
				duration = -1
			}
		}
		else = {
			set_province_flag = vov_coastal_bonus_settled
		}
		add_province_triggered_modifier = vov_coastal_bonus_tm
	}
}

vov_handle_brave_the_elements = {
	if = {
		limit = {
			owner = { has_idea = brave_the_elements }
			OR = {
				has_climate = tropical
				has_climate = arid
				has_climate = arctic
			}
			NOT = { has_province_modifier = nhs_brave_the_elements_modifier1 }
			NOT = { has_province_modifier = nhs_brave_the_elements_modifier2 }
		}
		if = {
			limit = {
				OR = {
					has_climate = tropical
					has_climate = arid
				}
			}
			add_province_modifier = {
				name = nhs_brave_the_elements_modifier1
				duration = -1
			}
		}
		if = {
			limit = {
				has_climate = arctic
			}
			add_province_modifier = {
				name = nhs_brave_the_elements_modifier2
				duration = -1
			}
		}
	}
	else_if = {
		limit = {
			OR = {
				has_province_modifier = nhs_brave_the_elements_modifier1
				has_province_modifier = nhs_brave_the_elements_modifier2
			}
			NOT = { owner = { has_idea = grand_forestries } }
		}
		remove_province_modifier = nhs_brave_the_elements_modifier1
		remove_province_modifier = nhs_brave_the_elements_modifier2
	}
}