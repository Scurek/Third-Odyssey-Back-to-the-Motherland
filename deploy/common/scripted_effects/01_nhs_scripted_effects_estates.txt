nhs_buybacks_landshare_nobles_church = {
	if = {
		limit = {
			estate_territory = {
				estate = $estate_noble$
				territory = 8
			}
		}
		change_estate_land_share = {
			estate = $estate_noble$
			share = -8
		}
		if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 2
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -2
			}
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate_noble$
				territory = 5
			}
		}
		change_estate_land_share = {
			estate = $estate_noble$
			share = -5
		}
		if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 5
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -5
			}
		}
		else_if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 3
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -3
			}
		}
		else_if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 1
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -1
			}
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate_noble$
				territory = 3
			}
		}
		change_estate_land_share = {
			estate = $estate_noble$
			share = -3
		}
		if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 7
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -7
			}
		}
		else_if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 5
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -5
			}
		}
		else_if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 3
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -3
			}
		}
		else_if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 1
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -1
			}
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate_noble$
				territory = 1
			}
		}
		change_estate_land_share = {
			estate = $estate_noble$
			share = -1
		}
		if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 9
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -9
			}
		}
		else_if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 7
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -7
			}
		}
		else_if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 5
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -5
			}
		}
		else_if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 3
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -3
			}
		}
		else_if = {
			limit = {
				estate_territory = {
					estate = $estate_church$
					territory = 1
				}
			}
			change_estate_land_share = {
				estate = $estate_church$
				share = -1
			}
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate_church$
				territory = 10
			}
		}
		change_estate_land_share = {
			estate = $estate_church$
			share = -10
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate_church$
				territory = 8
			}
		}
		change_estate_land_share = {
			estate = $estate_church$
			share = -8
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate_church$
				territory = 6
			}
		}
		change_estate_land_share = {
			estate = $estate_church$
			share = -6
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate_church$
				territory = 4
			}
		}
		change_estate_land_share = {
			estate = $estate_church$
			share = -4
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate_church$
				territory = 2
			}
		}
		change_estate_land_share = {
			estate = $estate_church$
			share = -2
		}
	}
}

nhs_buybacks_landshare = {
	if = {
		limit = {
			estate_territory = {
				estate = $estate$
				territory = 10
			}
		}
		change_estate_land_share = {
			estate = $estate$
			share = -10
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate$
				territory = 8
			}
		}
		change_estate_land_share = {
			estate = $estate$
			share = -8
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate$
				territory = 6
			}
		}
		change_estate_land_share = {
			estate = $estate$
			share = -6
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate$
				territory = 4
			}
		}
		change_estate_land_share = {
			estate = $estate$
			share = -4
		}
	}
	else_if = {
		limit = {
			estate_territory = {
				estate = $estate$
				territory = 2
			}
		}
		change_estate_land_share = {
			estate = $estate$
			share = -2
		}
	}
}

# Create an independent nation from any existing native estate
# Use: nhs_create_independent_estate_any_native = {}
nhs_create_independent_estate_any_native = {
	if = {
		limit = {
			has_estate = estate_all_natives_early
		}
		create_independent_estate = {
			estate = estate_all_natives_early
			government = republic
			#government_reform = cossacks_reform
			play_as = no
		}
	}
	else_if = {
		limit = {
			has_estate = estate_all_natives_mid
		}
		create_independent_estate = {
			estate = estate_all_natives_mid
			government = republic
			#government_reform = cossacks_reform
			play_as = no
		}
	}
	else_if = {
		limit = {
			has_estate = estate_all_natives_late
		}
		create_independent_estate = {
			estate = estate_all_natives_late
			government = republic
			#government_reform = cossacks_reform
			play_as = no
		}
	}
}

# Add influence modifier to any existing native estate with amount QUANTITY, description DESC and duration DURATION
# Use: nhs_add_any_native_estate_influence_modifier = { QUANTITY = -15 DESC = EST_NHS_REVOKED_PRIVILEGES DURATION = 7300 }
nhs_add_any_native_estate_influence_modifier = {
	if = {
		limit = {
			has_estate = estate_all_natives_early
		}
		add_estate_influence_modifier = {
			estate = estate_all_natives_early
			desc = $DESC$
			influence = $QUANTITY$
			duration = $DURATION$
		}
	}
	else_if = {
		limit = {
			has_estate = estate_all_natives_mid
		}
		add_estate_influence_modifier = {
			estate = estate_all_natives_mid
			desc = $DESC$
			influence = $QUANTITY$
			duration = $DURATION$
		}
	}
	else_if = {
		limit = {
			has_estate = estate_all_natives_late
		}
		add_estate_influence_modifier = {
			estate = estate_all_natives_late
			desc = $DESC$
			influence = $QUANTITY$
			duration = $DURATION$
		}
	}
}

# Add loyalty to any existing native estate with amount QUANTITY
# Use: nhs_add_any_native_estate_loyalty { QUANTITY = -40 }
nhs_add_any_native_estate_loyalty = {
	if = {
		limit = {
			has_estate = estate_all_natives_early
		}
		add_estate_loyalty = {
			estate = estate_all_natives_early
			loyalty = $QUANTITY$
		}
	}
	else_if = {
		limit = {
			has_estate = estate_all_natives_mid
		}
		add_estate_loyalty = {
			estate = estate_all_natives_mid
			loyalty = $QUANTITY$
		}
	}
	else_if = {
		limit = {
			has_estate = estate_all_natives_late
		}
		add_estate_loyalty = {
			estate = estate_all_natives_late
			loyalty = $QUANTITY$
		}
	}
}