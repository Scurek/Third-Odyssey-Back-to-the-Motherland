# Start effect, level is indicated using LEVEL = replace
# Example: to_cultureshock_start = { LEVEL = vbad }
# Levels are vbad, bad, medium, light, vlight.
to_cultureshock_on_province_owner_change = {
	if = {
		limit = {
			OR = {
				region = anatolia_region
				region = balkan_region
			}
			owner = {
				nhs_is_elysian_tag_or_subject = yes
			}
			NOT = {
				has_country_flag = to_integrated_greeks
			}
		}
		if = {
			limit = {
				owner = {
					to_has_cultureshock_country = yes
				}
			}
			to_add_current_cultureshock = yes
		}
		else = {
			country_event = {
				id = nhs2_shock_events.1
				days = 30
				random = 15
			}
		}
	}
}

to_cultureshock_start = {
	every_owned_province = {
		limit = {
			OR = {
				region = anatolia_region
				region = balkan_region
			}
			to_eligible_for_cultureshock = yes
		}
		add_province_modifier = {
			name = to_cultureshock_$LEVEL$
			duration = -1
		}
		set_country_flag = has_cultureshock_$LEVEL$
	}
}

to_add_current_cultureshock = {
	if = {
		limit = {
			has_country_flag = has_cultureshock_vbad
		}
		add_province_modifier = {
			name = to_cultureshock_vbad
			duration = -1
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_bad
		}
		add_province_modifier = {
			name = to_cultureshock_bad
			duration = -1
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_medium
		}
		add_province_modifier = {
			name = to_cultureshock_medium
			duration = -1
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_light
		}
		add_province_modifier = {
			name = to_cultureshock_light
			duration = -1
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_vlight
		}
		add_province_modifier = {
			name = to_cultureshock_vlight
			duration = -1
		}
	}
}

to_cultureshock_decrease = {
	if = {
		limit = {
			has_country_flag = has_cultureshock_vbad
		}
		custom_tooltip = nhs2_cultureshock_decrease.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_vbad
				}
				remove_province_modifier = to_cultureshock_vbad
				add_province_modifier = {
					name = to_cultureshock_bad
					duration = -1
				}
			}
		}
		clr_country_flag = has_cultureshock_vbad
		set_country_flag = has_cultureshock_bad
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_bad
		}
		custom_tooltip = nhs2_cultureshock_decrease.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_bad
				}
				remove_province_modifier = to_cultureshock_bad
				add_province_modifier = {
					name = to_cultureshock_medium
					duration = -1
				}
			}
		}
		clr_country_flag = has_cultureshock_bad
		set_country_flag = has_cultureshock_medium
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_medium
		}
		custom_tooltip = nhs2_cultureshock_decrease.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_medium
				}
				remove_province_modifier = to_cultureshock_medium
				add_province_modifier = {
					name = to_cultureshock_light
					duration = -1
				}
			}
		}
		clr_country_flag = has_cultureshock_medium
		set_country_flag = has_cultureshock_light
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_light
		}
		custom_tooltip = nhs2_cultureshock_decrease.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_light
				}
				remove_province_modifier = to_cultureshock_light
				add_province_modifier = {
					name = to_cultureshock_vlight
					duration = -1
				}
			}
		}
		clr_country_flag = has_culturshock_light
		set_country_flag = has_cultureshock_vlight
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_vlight
		}
		custom_tooltip = nhs2_cultureshock_solved.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_vlight
				}
				# REPLACEME
			}
		}
		clr_country_flag = has_cultureshock_vlight
	}
}

to_cultureshock_increase = {
	if = {
		limit = {
			has_country_flag = has_cultureshock_vbad
			# REPLACE ME
			# Should increase revolution disaster counter
		}
		add_disaster_progress = {
			disaster = to_greek_revolt_disaster
			value = 20
		}
		# custom_tooltip = nhs2_cultureshock_critical.tt
		# hidden_effect = {
		# 	# REPLACE ME
		# }
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_bad
		}
		custom_tooltip = nhs2_cultureshock_increase.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_bad
				}
				remove_province_modifier = to_cultureshock_bad
				add_province_modifier = {
					name = to_cultureshock_vbad
					duration = -1
				}
			}
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_medium
		}
		custom_tooltip = nhs2_cultureshock_increase.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_medium
				}
				remove_province_modifier = to_cultureshock_medium
				add_province_modifier = {
					name = to_cultureshock_bad
					duration = -1
				}
			}
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_light
		}
		custom_tooltip = nhs2_cultureshock_increase.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_light
				}
				remove_province_modifier = to_cultureshock_light
				add_province_modifier = {
					name = to_cultureshock_medium
					duration = -1
				}
			}
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_vlight
		}
		custom_tooltip = nhs2_cultureshock_increase.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_vlight
				}
				remove_province_modifier = to_cultureshock_vlight
				add_province_modifier = {
					name = to_cultureshock_light
					duration = -1
				}
			}
		}
	}
}

to_cultureshock_big_increase = {
	if = {
		limit = {
			has_country_flag = has_cultureshock_vbad
			# REPLACE ME
			# Should increase revolution disaster counter
		}
		add_disaster_progress = {
			disaster = to_greek_revolt_disaster
			value = 40
		}
		# custom_tooltip = nhs2_cultureshock_critical.tt
		# hidden_effect = {
		# 	# REPLACE ME
		# }
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_bad
		}
		add_disaster_progress = {
			disaster = to_greek_revolt_disaster
			value = 20
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_medium
		}
		custom_tooltip = nhs2_cultureshock_increase.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_bad
				}
				remove_province_modifier = to_cultureshock_bad
				add_province_modifier = {
					name = to_cultureshock_vbad
					duration = -1
				}
			}
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_light
		}
		custom_tooltip = nhs2_cultureshock_increase.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_medium
				}
				remove_province_modifier = to_cultureshock_medium
				add_province_modifier = {
					name = to_cultureshock_bad
					duration = -1
				}
			}
		}
	}
	else_if = {
		limit = {
			has_country_flag = has_cultureshock_vlight
		}
		custom_tooltip = nhs2_cultureshock_increase.tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = to_cultureshock_light
				}
				remove_province_modifier = to_cultureshock_light
				add_province_modifier = {
					name = to_cultureshock_medium
					duration = -1
				}
			}
		}
	}
}