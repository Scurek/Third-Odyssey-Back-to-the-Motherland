to_ongoing_fixes = {
    if = {
        limit = {
            NOT = { has_country_flag = vov_no_raiding_ideas }
            has_estate_privilege = to_vov_native_priv_benevolent_conquerors
        }
		set_country_flag = vov_no_raiding_ideas
		swap_free_idea_group = yes
    }
	else_if = {
		limit = {
			has_country_flag = vov_no_raiding_ideas
			NOT = { has_estate_privilege = to_vov_native_priv_benevolent_conquerors }
		}
		clr_country_flag = vov_no_raiding_ideas
		swap_free_idea_group = yes
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
			# NOT = { has_country_flag = nhs_high_tier_building_counter }
		}
		nhs_initiate_hightier_building_counter = yes
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
			# NOT = { has_country_flag = nhs_homelands_build_counter }
		}
		nhs_initiate_homelands_building_counter = yes
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
			has_country_flag = nhs_completed_nhs_hercules_gates
			226 = {
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		226 = {
			nhs_set_center_of_trade_1 = yes
		}
	}

	if = {
		limit = {
			146 = {
				NOT = { has_province_modifier = nhs_conquest_of_athens }
			}
		}
		146 = {
			add_province_triggered_modifier = nhs_conquest_of_athens
		}
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
			OR = {
				has_idea_group = greek_ideas
				has_idea_group = default_ideas
			}
		}
		swap_free_idea_group = yes
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
			any_country = {
				OR = {
					tag = CM1
					was_tag = CM1
				}
				NOT = { historical_friend_with = ROOT }
				has_country_flag = cm1_elysia_made_its_decision
				NOT = { has_country_flag = nhs_hadevent_othersevents53 }
			}
		}
		random_country = {
			limit = {
				OR = {
					tag = CM1
					was_tag = CM1
				}
				NOT = { historical_friend_with = ROOT }
				has_country_flag = cm1_elysia_made_its_decision
				NOT = { has_country_flag = nhs_hadevent_othersevents53 }
			}
			add_historical_friend = ROOT
			ROOT = {
				add_historical_friend = PREV
			}
		}
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
			NOT = { has_disaster = nhs_hcd_hellenic_crisis }
			is_year = 1480
		}
		if = {
			limit = {
				has_country_modifier = nhs_hcd_tolerant_approach
			}
			remove_country_modifier = nhs_hcd_tolerant_approach
		}
		if = {
			limit = {
				has_country_modifier = nhs_hcd_pagan_loyalty
			}
			remove_country_modifier = nhs_hcd_pagan_loyalty
		}
		if = {
			limit = {
				has_country_modifier = nhs_hcd_church_loyalty
			}
			remove_country_modifier = nhs_hcd_church_loyalty
		}
	}

	if = {
		limit = {
			is_colonial_nation = yes
			NOT = { has_country_flag = to_colony_culture_corrected }
		}
		set_country_flag = to_colony_culture_corrected
		if = {
			limit = {
				native_culture_primary = yes
				overlord = {
					NOT = { primary_culture = PREV }
					OR = {
						NOT = { culture_group = byzantine }
						PREV = {
							NOT = { culture_group = byzantine }
						}
						PREV = {
							NOT = { to_nhs_has_dynamic_elysian_primary_culture = yes }
						}
					}
				}
			}
			overlord = {
				if = {
					limit = {
						culture_group = byzantine
					}
					PREV = {
						to_ely_country_culture_check = { 
							FLAG_SCOPE = PREV 
							FLAG_SCOPE_BACKUP = yes
						}
					}
				}
				else = {
					PREV = {
						change_primary_culture = PREV
					}
				}
			}
		}
		if = {
			limit = {
				OR = {
					religion = animism
					religion = shamanism
					religion = totemism
					religion = inti
					religion = nahuatl
					religion = mesoamerican_religion
				}
				overlord = {
					NOT = { religion = PREV }
				}
			}
			overlord = {
				PREV = {
					change_religion = PREV
				}
			}
		}
	}

	if = {
		limit = {
			culture_group = byzantine
			any_owned_province = {
				OR = {
					to_nhs_has_dynamic_elysian_culture = yes
					culture = cretan_e
				}
				culture_group = byzantine
				NOT = {
					OR = {
						region = northeast_america_region
						region = southeast_america_region
					}
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					to_nhs_has_dynamic_elysian_culture = yes
					culture = cretan_e
				}
				NOT = {
					OR = {
						region = northeast_america_region
						region = southeast_america_region
					}
				}
			}
			if = {
				limit = {
					owner = {
						has_country_flag = nhs_borealians_appeared_country
					}
					nhs_borealian_province = yes
					NOT = { culture = cretan_e }
				}
				if = {
					limit = {
						NOT = { culture = borealian }
					}
					change_culture = borealian
				}
			}
			else_if = {
				limit = {
					owner = {
						has_country_flag = nhs_hyperborealians_appeared_country
					}
					nhs_hyperborealian_province = yes
					NOT = { culture = cretan_e }
				}
				if = {
					limit = {
						NOT = { culture = hyperborealian }
					}
					change_culture = hyperborealian
				}
			}
			else_if = {
				limit = {
					owner = {
						has_country_flag = nhs_hesperidians_appeared_country
					}
					nhs_hesperidian_province = yes
					NOT = { culture = cretan_e }
				}
				if = {
					limit = {
						NOT = { culture = hesperidian }
					}
					change_culture = hesperidian
				}
			}
			else_if = {
				limit = {
					owner = {
						has_country_flag = nhs_kykladian_appeared_country
					}
					nhs_kykladian_province = yes
				}
				if = {
					limit = {
						NOT = { culture = kykladian }
					}
					change_culture = kykladian
				}
			}
			else_if = {
				limit = {
					owner = {
						has_country_flag = nhs_elyric_appeared_country
					}
					nhs_elyric_province = yes
					NOT = { culture = cretan_e }
				}
				if = {
					limit = {
						NOT = { culture = elyric }
					}
					change_culture = elyric
				}
			}
			else_if = {
				limit = {
					owner = {
						has_country_flag = nhs_arkadians_appeared_country
					}
					nhs_arkadian_province = yes
					NOT = { culture = cretan_e }
				}
				if = {
					limit = {
						NOT = { culture = arkadian }
					}
					change_culture = arkadian
				}
			}
			else_if = {
				limit = {
					owner = {
						has_country_flag = nhs_eleutheroi_appeared_country
					}
					nhs_eleutheroi_province = yes
					NOT = { culture = cretan_e }
				}
				if = {
					limit = {
						NOT = { culture = eleutheroi }
					}
					change_culture = eleutheroi
				}
			}
		}
	}
	if = {
		limit = {
			950 = {
				has_province_modifier = nhs_seagate_guardians_tm
			}
		}
		950 = {
			show_ambient_object = wonder_statue
			show_ambient_object = wonder_statue_2
		}
	}
	if = {
		limit = {
			is_subject = yes
			NOT = { nhs_condition_all_ely = { KOMANDA = tag } }
			nhs_condition_all_ely = { KOMANDA = is_subject_of }
			has_country_modifier = nhs_settler_heritage_two
		}
		remove_country_modifier = nhs_settler_heritage_two
	}

	if = {
		limit = {
			NOT = { has_global_flag = nhs_portugese_secret_global }
			has_country_flag = nhs_portugese_secret
		}
		set_global_flag = nhs_portugese_secret_global
	}

	if = {
		limit = {
			953 = {
				trade_goods = grain
			}
			has_country_flag = nhs_completed_inward_focus
		}
		953 = {
			change_trade_goods = cloth
		}
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
		}
		every_subject_country = {
			limit = {
				is_subject_of_type = elysian_subject
			}
			save_event_target_as = nhs_current_elysian_subject
			to_check_exarch_claims_check_all_provinces = { EXARCH_TAG = event_target:nhs_current_elysian_subject }
		}
	}

	if = {
		limit = {
			has_country_flag = nhs_completed_nhs_back_to_the_motherland
			NOT = { has_country_flag = nhs_completed_nhs_hercules_gates }
		}
		add_permanent_claim = 226
	}

	if = {
		limit = {
			has_country_modifier = shame_pole
			NOT = {
				AND = {
					has_native_government = yes
					OR = {
						primary_culture = athabascan
						primary_culture = chinook
						primary_culture = haida
						primary_culture = salish
					}
				}	
			}
		}
		remove_country_modifier = shame_pole
	}

	if = {
		limit = {
			OR = {
				nhs_condition_all_ely = { KOMANDA = tag }
				nhs_check_all_spartan = { CONDITION = tag }
				tag = VGD
				is_subject_of_type = elysian_subject
				is_subject_of_type = elysian_subject_varangian
			}
			any_owned_province = {
				OR = {
					is_center_of_revolution = yes
					has_revolution_in_province = yes
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					is_center_of_revolution = yes
					has_revolution_in_province = yes
				}
			}
			set_revolution_in_province = no
			remove_center_of_revolution = yes
		}
	}

	if = {
		limit = {
			tag = VGD
			is_revolutionary = yes
		}
		if = {
			limit = { is_revolution_target = yes }
			set_revolution_target = ---
		}
		add_government_reform = varangian_guard
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
			has_country_modifier = nhs2_ely_por_trade
			any_country = {
				has_country_flag = nhs_portugese_secret
				NOT = { historical_friend_with = ROOT }
			}
		}
		random_country = {
			limit = {
				has_country_flag = nhs_portugese_secret
			}
			add_historical_friend = ROOT
			ROOT = {
				add_historical_friend = PREV
			}
		}
	}

	if = {
		limit = {
			has_global_flag = nhs_shqiperi_into_elysian
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_albanian_majority_tm
					culture = shqiperi
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_albanian_majority_tm
					culture = shqiperi
				}
			}
			change_culture = shqipproi
			if = {
				limit = {
					has_province_modifier = nhs2_albanian_majority_tm
				}
				custom_tooltip = nhs_update_albanian_majority_tt
				hidden_effect = {
					remove_province_triggered_modifier = nhs2_albanian_majority_tm
					add_province_triggered_modifier = nhs2_albanian_majority2_tm
				}
			}
			if = {
				limit = {
					OR = {
						religion = orthodox
						religion = elysian_orthodoxy
					}
				}
				to_nhs_handle_post_disaster_tolerance_modifier_albanians = { COUNTRY_SCOPE = owner }
			}
			hidden_effect = {
				nhs_on_province_culture_converted_general = yes
			}
		}
	}

	if = {
		limit = {
			NOT = { nhs_condition_all_ely = { KOMANDA = tag } }
			has_country_flag = nhs_europe_discovered_got
		}
		if = {
			limit = {
				has_country_modifier = nhs_constrained_resources
			}
			custom_tooltip = nhs_new_line_tt
			remove_country_modifier = nhs_constrained_resources
		}
		if = {
			limit = {
				has_country_modifier = nhs_constrained_resources_cm1
			}
			custom_tooltip = nhs_new_line_tt
			remove_country_modifier = nhs_constrained_resources_cm1
		}
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
			has_country_flag = nhs_fourth_a_reform
			NOT = {
				OR = {
					has_country_modifier = nhs2_amry_reform_mm
					has_country_modifier = nhs2_amry_reform_nma
					has_country_modifier = nhs2_amry_reform_ga
					has_country_modifier = nhs2_army_reform_cavalry2
					has_country_modifier = nhs2_fire_army_reform3
				}
			}
		}
		add_country_modifier = {
			name = nhs2_army_reform_cavalry2
			duration = -1
		}
	}

	if = {
		limit = {
			nhs_condition_all_ely = { KOMANDA = tag }
		}
		if = {
			limit = {
				trading_with_markland = yes
				exists = MK1
				NOT = { historical_friend_with = MK1 }
			}
			add_historical_friend = MK1
			MK1 = {
				add_historical_friend = ROOT
			}
		}
		if = {
			limit = {
				trading_with_helluland = yes
				exists = HLL
				NOT = { historical_friend_with = HLL }
			}
			add_historical_friend = HLL
			HLL = {
				add_historical_friend = ROOT
			}
		}
		if = {
			limit = {
				trading_with_vinland = yes
				exists = VIN
				NOT = { historical_friend_with = VIN }
			}
			add_historical_friend = VIN
			VIN = {
				add_historical_friend = ROOT
			}
		}
	}

	if = {
		limit = {
			has_native_government = yes
			has_regency = yes
			OR = {
				has_ruler = "Native Council"
				has_ruler = "Native Council (Interregnum)"
			}
		}
		define_ruler = {
			culture = ROOT
			religion = ROOT
		}
	}

	if = {
		limit = {
			has_native_government = yes
			OR = {
				has_reform = to_native_reform_consensus_government
				has_reform = to_native_reform_law_of_peace
			}
			OR = {
				has_ruler = "Council of Cities"
				has_ruler = "Council of Chiefs"
				has_ruler = "Council of Elders"
			}
		}
		to_assign_native_council = yes
	}

	if = {
		limit = {
			exists = MS1
			exists = MSN
		}
		MSN = {
			inherit = MS1
		}
	}

	if = {
		limit = {
			NOT = { tag = MS1 }
			NOT = { tag = MSN }
			government = spartan_monarchy
			NOT = { has_native_government = yes }
			NOT = { is_tribal = yes }
			NOT = { government = republic }
			NOT = { reform_level = 1 }
		}
		change_government = monarchy
	}

	if = {
		limit = {
			owns_or_subject_of = 151
			mission_completed = nhs_back_to_the_motherland
			OR = {
				mission_completed = nhs_elysian_silk_with_secret
				mission_completed = nhs_elysian_silk_with_secret
			}
			151 = {
				NOT = { trade_goods = elysian_silk }
			}
		}
		151 = {
			change_trade_goods = elysian_silk
		}
	}

	if = {
		limit = {
			917 = {
				NOT = { has_province_modifier = to_nat_cahokia_tm }
			}
		}
		917 = {
			add_province_triggered_modifier = to_nat_cahokia_tm
		}
	}
}