# Events for the Hellenic conversion and disaster setup
# Written by TheWerelizard

namespace = nhs_hellenicconversion

##################
# Starting event #
##################

# Sets up the frame, custom variable and flag

country_event = {
    id = nhs_hellenicconversion.1
    title = nhs_hellenicconversion1.t 
    desc = nhs_hellenicconversion1.d
    picture = OLYMPIANS_eventPicture

    fire_only_once = yes

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
        }
        is_year = 1447  
    }

    mean_time_to_happen = {
        months = 2
    }

    immediate = {
        hidden_effect = {
            set_variable = {
                which = HellenicUprising
                value = 0
            }
            set_variable = {
                which = OrthodoxUprising
                value = 0
            }
        }
    }

    option = {
        name = nhs_hellenicconversion.1.a
        set_country_flag = hellenic_conversion_preacher
        set_country_flag = nhs_hcd_can_have_religious_disaster
        add_country_modifier = {
            name = nhs_hcd_hellenic_struggles
            duration = -1
        }
        custom_tooltip = hellenicconversion_preacher.tt
    }
}

#########################
# Pre-Disaster Events   #
#########################

#Recurring events

province_event = { #Pagans refuse to pay taxes
	id = nhs_hellenicconversion.101
	title = nhs_hellenicconversion101.t 
	desc = nhs_hellenicconversion101.d
	picture = ANGRY_MOB_eventPicture

	trigger = {
		owner = {
			   OR = {
                    tag = NHS
                    was_tag = NHS
                }
			has_country_flag = hellenic_conversion_preacher
            num_of_cities = 4
	    	}
		NOT = { has_province_modifier = nhs_hcd_Pagan_taxes }
	}

	is_mtth_scaled_to_size = 1
	
	mean_time_to_happen = {
		months = 12
	}

	option = {
		name = nhs_hellenicconversion.101.a		# Increase tax collection efforts and drive them out
			spawn_rebels = {
				type = particularist_rebels
				size = 1
		    	}
            add_province_modifier = {
			    name = nhs_hcd_Pagan_taxes
			    duration = 730
	        	}  

    owner = {  
            add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
            }      
            hidden_effect = {        
            change_variable = {
                which = HellenicUprising
                value = 2
                }
            subtract_variable = {
                which = OrthodoxUprising
                value = 1
                }
            } 
    }

        custom_tooltip = hellenicconversion_appease_Orthodox.tt
    }

    option = {
		name = nhs_hellenicconversion.101.b		# Increase tax collection efforts
        add_province_modifier = {
			    name = nhs_hcd_Pagan_taxes
			    duration = 365
	        	}  

        owner = {
            hidden_effect = {
                change_variable = {
                which = HellenicUprising
                value = 1
                }
            }
        }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = {
		name = nhs_hellenicconversion.101.c	# Tax the church
        owner = {
        add_estate_loyalty = {
                estate = estate_church
                loyalty = -10
            } 

        hidden_effect = {
            change_variable = {
            which = OrthodoxUprising
            value = 1
            }
        } 
    }

        custom_tooltip = hellenicconversion_appease_Pagans.tt
    }

    option = {
		name = nhs_hellenicconversion.101.d		# Forfeit taxes
        owner ={
            add_years_of_income = -1
        }

        custom_tooltip = hellenicconversion_favour_neither.tt
    } 

}

province_event = { #Zealots attack Pagans
	id = nhs_hellenicconversion.102
	title = nhs_hellenicconversion102.t 
	desc = nhs_hellenicconversion102.d
	picture = RELIGIOUS_TURMOIL_eventPicture

	trigger = {
		owner = {
			   OR = {
                    tag = NHS
                    was_tag = NHS
                }
			has_country_flag = hellenic_conversion_preacher
            num_of_cities = 4
	    	}
		NOT = { has_province_modifier = nhs_hcd_hellenic_conversion_strife }
	}

	is_mtth_scaled_to_size = 1
	
	mean_time_to_happen = {
		months = 12
	}

	option = {
		name = nhs_hellenicconversion.102.a		# Burn more Pagans

        owner = {  
            add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
            }      
            hidden_effect = {        
            change_variable = {
                which = HellenicUprising
                value = 2
                }
            subtract_variable = {
                which = OrthodoxUprising
                value = 1
                }
            } 
    }

        custom_tooltip = hellenicconversion_appease_Orthodox.tt
    }

    option = {
		name = nhs_hellenicconversion.102.b		# Let the zealots do their thing
        add_province_modifier = {
			    name = nhs_hcd_hellenic_conversion_strife
			    duration = 365
	        	}  

        owner = {
            hidden_effect = {
                change_variable = {
                which = HellenicUprising
                value = 1
                }
            }
        }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = {
		name = nhs_hellenicconversion.102.c	# Stop the zealots
        spawn_rebels = {
		    type = Orthodox_rebels
		    size = 1
		}
        owner = {
        add_estate_loyalty = {
                estate = estate_church
                loyalty = -10
            } 

        hidden_effect = {
            change_variable = {
            which = OrthodoxUprising
            value = 1
            }
        } 
    }

        custom_tooltip = hellenicconversion_appease_Pagans.tt
    }

    option = {
		name = nhs_hellenicconversion.102.d		# Restore order
        owner ={
            add_mil_power = -75
        }

        add_province_modifier = {
		name = nhs_hcd_hellenic_conversion_strife
		duration = 180
	    }  

        custom_tooltip = hellenicconversion_favour_neither.tt
    } 

}

province_event = { #Priest killed
	id = nhs_hellenicconversion.103
	title = nhs_hellenicconversion103.t 
	desc = nhs_hellenicconversion103.d
	picture = RELIGIOUS_TURMOIL_eventPicture

	trigger = {
		owner = {
			   OR = {
                    tag = NHS
                    was_tag = NHS
                }
			has_country_flag = hellenic_conversion_preacher
            num_of_cities = 4
	    	}
	}

	is_mtth_scaled_to_size = 1
	
	mean_time_to_happen = {
		months = 12
	}

	option = {
		name = nhs_hellenicconversion.103.a		# Accuse the Pagans

        owner = {  
            add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
            }      
        hidden_effect = {        
        change_variable = {
            which = HellenicUprising
            value = 1
            }
        } 
    }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = {
		name = nhs_hellenicconversion.103.b		# Accuse natives

        owner = {
            hidden_effect = {
                change_variable = {
                which = OrthodoxUprising
                value = 1
                }
            }
            add_estate_loyalty = {
                estate = estate_church
                loyalty = -10
                }   
        }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

    option = {
		name = nhs_hellenicconversion.103.c	# Let the matter drop

        owner = {
            add_estate_loyalty = {
                estate = estate_church
                loyalty = -5
                } 
            add_legitimacy = -20
    }

        custom_tooltip = hellenicconversion_favour_neither.tt
    }

}

country_event = { #Angered church
	id = nhs_hellenicconversion.104
	title = nhs_hellenicconversion104.t 
	desc = nhs_hellenicconversion104.d
	picture = RELIGION_eventPicture

	trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
            }
		has_country_flag = hellenic_conversion_preacher
        num_of_cities = 4
	    }
	
	mean_time_to_happen = {
		months = 12
	    }

    option = { #Issue a public condemenation of Pagans
    name = nhs_hellenicconversion.104.a

        add_estate_loyalty = {
        estate = estate_church
        loyalty = 5
        }

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 1
                }
            }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = { #Refuse to hear the priest out
    name = nhs_hellenicconversion.104.b

        add_estate_loyalty = {
        estate = estate_church
        loyalty = -5
        }

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 1
                }
            }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

    option = { #Make vague statements of supports to the church
        name = nhs_hellenicconversion.104.c

        add_patriarch_authority = -0.25
        add_adm_power = -50

        custom_tooltip = hellenicconversion_favour_neither.tt
    }

}

province_event = { #Pagan settlers
	id = nhs_hellenicconversion.105
	title = nhs_hellenicconversion105.t 
	desc = nhs_hellenicconversion105.d
	picture = COLONIZATION_eventPicture

	trigger = {
		owner = {
			   OR = {
                    tag = NHS
                    was_tag = NHS
                }
			has_country_flag = hellenic_conversion_preacher
            num_of_cities = 4
            is_colony = yes
            NOT = { has_province_modifier = nhs_hcd_land_dispute }
            NOT = { has_province_modifier = nhs_hcd_colonial_tensions }
	    	}
	}

	is_mtth_scaled_to_size = 1
	
	mean_time_to_happen = {
		months = 10
	}

	option = {
		name = nhs_hellenicconversion.105.a		# Conversion or death

        add_colonysize = -500
        add_province_modifier = {
            name = nhs_hcd_land_dispute
            duration = 90
    }
        owner = {  
            add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
            }      
        hidden_effect = {        
        change_variable = {
            which = HellenicUprising
            value = 1
            }
        } 
    }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

	option = {
		name = nhs_hellenicconversion.105.b		# Let them settle

        add_colonysize = 100
        add_province_modifier = {
            name = nhs_hcd_land_dispute
            duration = 60
    }
        owner = {  
            add_estate_loyalty = {
            estate = estate_church
            loyalty = -10
            }      
        hidden_effect = {        
        change_variable = {
            which = OrthodoxUprising
            value = 1
            }
        } 
    }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

	option = {
		name = nhs_hellenicconversion.105.c		# Protect the settlers

        add_colonysize = 200
        add_province_modifier = {
            name = nhs_hcd_land_dispute
            duration = 30
    }
        owner = {  
            add_estate_loyalty = {
            estate = estate_church
            loyalty = -15
            }      
        hidden_effect = {        
        change_variable = {
            which = OrthodoxUprising
            value = 2
            }
        subtract_variable = {
            which = HellenicUprising
            value = 1
            }
        } 
    }

        custom_tooltip = hellenicconversion_appease_Pagans.tt
    }

}

province_event = { #Pagans Flee
	id = nhs_hellenicconversion.106
	title = nhs_hellenicconversion106.t 
	desc = nhs_hellenicconversion106.d
	picture = BORDER_TENSION_eventPicture

	trigger = {
		owner = {
			   OR = {
                    tag = NHS
                    was_tag = NHS
                }
			has_country_flag = hellenic_conversion_preacher
            num_of_cities = 4
            is_colony = yes
            NOT = { has_province_modifier = nhs_hcd_land_dispute }
            NOT = { has_province_modifier = nhs_hcd_colonial_tensions }
	    	}
	}

	is_mtth_scaled_to_size = 1
	
	mean_time_to_happen = {
		months = 10
	}

	option = {
		name = nhs_hellenicconversion.106.a	# Stop them

        add_colonysize = -100
        owner = {  
            add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
            }      
        hidden_effect = {        
        change_variable = {
            which = HellenicUprising
            value = 2
            }
        subtract_variable = {
            which = OrthodoxUprising
            value = 1
            }
        } 
    }

        custom_tooltip = hellenicconversion_appease_Orthodox.tt
    }

	option = {
		name = nhs_hellenicconversion.106.b		# Let them go but seize their land

        add_colonysize = -200
        add_province_modifier = {
            name = nhs_hcd_colonial_tensions
            duration = 90
    }
        owner = {  
        add_years_of_income = 0.25    
        hidden_effect = {        
        change_variable = {
            which = HellenicUprising
            value = 1
            }
        } 
    }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

	option = {
		name = nhs_hellenicconversion.106.c	# Let them go

        add_colonysize = -200
        add_province_modifier = {
            name = nhs_hcd_colonial_tensions
            duration = 90
    }
        owner = {  
            add_estate_loyalty = {
            estate = estate_church
            loyalty = -10
            }      
        hidden_effect = {        
        change_variable = {
            which = OrthodoxUprising
            value = 1
            }
        } 
    }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

	option = {
		name = nhs_hellenicconversion.106.d		# Send in new settlers

        owner = {
            add_years_of_income = -0.25
    }
        add_colonysize = -100
        add_province_modifier = {
            name = nhs_hcd_colonial_tensions
            duration = 30
    }  

        
        custom_tooltip = hellenicconversion_favour_neither.tt      
    }

}

country_event = { #Pagan advisor
	id = nhs_hellenicconversion.107
	title = nhs_hellenicconversion107.t 
	desc = nhs_hellenicconversion107.d
	picture = ACCUSATION_eventPicture

	trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
            }
		has_country_flag = hellenic_conversion_preacher
        has_advisor = yes
	    }
	
	mean_time_to_happen = {
		months = 12
	    }

    immediate = {
		hidden_effect = {
			random_list = {
				1 = {
					trigger = {
						employed_advisor = {
							category = ADM
						}
					}
					set_country_flag = nhs_hcd_advisor_events_adm
				}
				1 = {
					trigger = {
						employed_advisor = {
							category = DIP
						}
					}
					set_country_flag = nhs_hcd_advisor_events_dip
				}
				1 = {
					trigger = {
						employed_advisor = {
							category = MIL
				    		}
				    	}
					set_country_flag = nhs_hcd_advisor_events_mil
			    	}
		    	}
		}
	}

    option = { #Fire the advisor
        name = nhs_hellenicconversion.107.a

        add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
        }

		trigger_switch = {
			on_trigger = has_country_flag
			nhs_hcd_advisor_events_adm = { kill_advisor_by_category_effect = { ADM = yes } }
			nhs_hcd_advisor_events_dip = { kill_advisor_by_category_effect = { DIP = yes } }
			nhs_hcd_advisor_events_mil = { kill_advisor_by_category_effect = { MIL = yes } }
		}

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 2
                }
            subtract_variable = {
                which = OrthodoxUprising
                value = 1
                }
            }

        custom_tooltip = hellenicconversion_appease_Orthodox.tt
    }

    option = { #Fair trial
        name = nhs_hellenicconversion.107.b

		trigger_switch = {
			on_trigger = has_country_flag
			nhs_hcd_advisor_events_adm = { kill_advisor_by_category_effect = { ADM = yes } }
			nhs_hcd_advisor_events_dip = { kill_advisor_by_category_effect = { DIP = yes } }
			nhs_hcd_advisor_events_mil = { kill_advisor_by_category_effect = { MIL = yes } }
		}

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 1
                }
            }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = { #Stand by the advisor
        name = nhs_hellenicconversion.107.c

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -10
        }

		hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 1
                }
            }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

    option = { #Pay retirement
        name = nhs_hellenicconversion.107.d

        add_years_of_income = -1

		trigger_switch = {
			on_trigger = has_country_flag
			nhs_hcd_advisor_events_adm = { kill_advisor_by_category_effect = { ADM = yes } }
			nhs_hcd_advisor_events_dip = { kill_advisor_by_category_effect = { DIP = yes } }
			nhs_hcd_advisor_events_mil = { kill_advisor_by_category_effect = { MIL = yes } }
		}

        custom_tooltip = hellenicconversion_favour_neither.tt
    }

    after = {
	    	hidden_effect = {
		    	trigger_switch = {
		    		on_trigger = has_country_flag
		    		nhs_hcd_advisor_events_adm = { clr_country_flag = nhs_hcd_advisor_events_adm }
		    		nhs_hcd_advisor_events_dip = { clr_country_flag = nhs_hcd_advisor_events_dip }
		    		nhs_hcd_advisor_events_mil = { clr_country_flag = nhs_hcd_advisor_events_mil }
		    	}
		    }
	}

}

#Unique events

###################### Funeral of Georgios

country_event = { #Death of Georgios
    id = nhs_hellenicconversion.2
    title = nhs_hellenicconversion2.t 
    desc = nhs_hellenicconversion2.d
    picture = REFORM_eventPicture
    
    fire_only_once = yes

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
            }
		has_country_flag = hellenic_conversion_preacher
        NOT = { has_country_flag = georgios_dead }
        NOT = { has_country_flag = hellenic_conversion_major_event }
        is_year = 1452  
	}

    mean_time_to_happen = {
        months = 2
    }

    immediate = {
        hidden_effect = {
            set_country_flag = georgios_dead
            set_country_flag = hellenic_conversion_major_event
    }
    }

    option = { #Organise an offical funeral 
        name = nhs_hellenicconversion.2.a

        add_years_of_income = -0.75
        
        hidden_effect = {
        random_list = {
            10 = {
                country_event = { id = nhs_hellenicconversion.21 days = 5 } #Emperor dies
        }
            90 = {
                country_event = { id = nhs_hellenicconversion.22 days = 5 } #Backlash from church
        }
    }
    }

        custom_tooltip = nhs_hellenicconversion.2.a.tt
    }

    option = { #Covertly fund a funeral
        name = nhs_hellenicconversion.2.b

        add_years_of_income = -0.75

        hidden_effect = {
        random_list = {
            30 = {
                country_event = { id = nhs_hellenicconversion.23 days = 5 } #Corruption discovered
        }
            70 = {
                country_event = { id = nhs_hellenicconversion.24 days = 5 } #Funeral goes as planned
        }
    }
    }

        custom_tooltip = nhs_hellenicconversion.2.b.tt
    }

    option = { #Let the Pagans organise their own event
        name = nhs_hellenicconversion.2.c

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -5
        }

        hidden_effect = {
        random_list = {
            60 = {
                country_event = { id = nhs_hellenicconversion.25 days = 5 } #Violent clashes
        }
            40 = {
                country_event = { id = nhs_hellenicconversion.26 days = 5 } #Peaceful vigil
        }
    }
    }

        custom_tooltip = nhs_hellenicconversion.2.c.tt
    }

    option = { #Condemn the man
        name = nhs_hellenicconversion.2.d

        add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
        }

        hidden_effect = {
        random_list = {
            40 = {
                country_event = { id = nhs_hellenicconversion.27 days = 5 } #Pagans outraged
        }
            30 = {
                country_event = { id = nhs_hellenicconversion.28 days = 5 } #Pagans rise up in violence
        }
            30 = {
                country_event = { id = nhs_hellenicconversion.29 days = 5 } #Orthodox violence
        }
    }
    }

        custom_tooltip = nhs_hellenicconversion.2.d.tt
    }

}

country_event = { # Ruler assassinated during funeral
    id = nhs_hellenicconversion.21
    title = nhs_hellenicconversion21.t
    desc = nhs_hellenicconversion21.d
    picture = DEATH_OF_HEIR_eventPicture

    is_triggered_only = yes 

    immediate = {
        hidden_effect = {
            kill_ruler = yes
        }
    }

    option = { #Round up the Pagan leaders
        
        name = nhs_hellenicconversion.21.a 

        add_country_modifier = {
            name = nhs_hcd_hellenic_coup
            duration = 365
    }
        
        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 2
                }
            clr_country_flag = hellenic_conversion_major_event
            }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = { #Accuse the church of plotting against the emperor
        
        name = nhs_hellenicconversion.21.b 

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -30
        }
        
        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 2
                }
            clr_country_flag = hellenic_conversion_major_event
            }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

    option = { #Accuse no one
        
        name = nhs_hellenicconversion.21.c 

        add_stability = -1
        
        hidden_effect = {
            clr_country_flag = hellenic_conversion_major_event
            }

        custom_tooltip = hellenicconversion_favour_neither.tt
    }

}

country_event = { #Church angered by funeral
    id = nhs_hellenicconversion.22
    title = nhs_hellenicconversion22.t
    desc = nhs_hellenicconversion22.d
    picture = STREET_SPEECH_eventPicture

    is_triggered_only = yes

    option = { #The church can eat it
        name = nhs_hellenicconversion.22.a

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 2
                }
            subtract_variable = {
                which = HellenicUprising
                value = 1
        }            
            clr_country_flag = hellenic_conversion_major_event
            }

        random_list = {
            50 = {
                add_estate_loyalty = {
                    estate = estate_church
                    loyalty = -30
                        }
            }
            50 = {
                add_estate_loyalty = {
                    estate = estate_church
                    loyalty = -30
                         }
                random_owned_province = {
                    limit = {
                        is_city = yes
                   }
                    spawn_rebels = {
                        type = Orthodox_rebels
                        size = 2
                    }
                }
            }
        }

        custom_tooltip = hellenicconversion_appease_Pagans.tt
    }

    option = { #Make sure the church stays quiet
        name = nhs_hellenicconversion.22.b

        hidden_effect = {
            clr_country_flag = hellenic_conversion_major_event
            change_variable = {
                which = OrthodoxUprising
                value = 1
                    }
        }

        add_years_of_income = -0.5

        random_list = {
            50 = {
                add_corruption = 2
                custom_tooltip = nhs_hellenicconversion.22.b.1
            }
            50 = {
                add_legitimacy = -20
                add_estate_loyalty = {
                    estate = estate_church
                    loyalty = -5
                }
                custom_tooltip = nhs_hellenicconversion.22.b.2
            }
        }
    
        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

}

country_event = { #Corruption discovered
    id = nhs_hellenicconversion.23
    title = nhs_hellenicconversion23.t
    desc = nhs_hellenicconversion23.d
    picture = PROTESTANT_CATHOLIC_DEBATE_eventPicture

    is_triggered_only = yes

    option = {
        name = nhs_hellenicconversion.23.a

        add_legitimacy = -15

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -10
        }

        hidden_effect = {
            clr_country_flag = hellenic_conversion_major_event
            change_variable = {
                which = OrthodoxUprising
                value = 1
                }
    }
        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }
}

country_event = { #Funeral goes as planned
    id = nhs_hellenicconversion.24
    title = nhs_hellenicconversion24.t
    desc = nhs_hellenicconversion24.d
    picture = CATHOLIC_RULERS_PRAYING_eventPicture

    is_triggered_only = yes

    option = {
        name = nhs_hellenicconversion.24.a

        add_prestige = 10

        hidden_effect = {
            clr_country_flag = hellenic_conversion_major_event
    }
    }
}

country_event = { #Violent clashes
    id = nhs_hellenicconversion.25
    title = nhs_hellenicconversion25.t
    desc = nhs_hellenicconversion25.d
    picture = SIEGE_PRAGUE_CASTLE_eventPicture

    is_triggered_only = yes

    option = { #Call down the guard
        name = nhs_hellenicconversion.25.a

        add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
    }

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 2
            }
            clr_country_flag = hellenic_conversion_major_event
        }

        random_owned_province = {
                limit = {
                    is_capital = yes
            }
                spawn_rebels = {
                    type = particularist_rebels
                    size = 1
        }
    }
            random_owned_province = {
                limit = {
                    is_capital = no
            }
                spawn_rebels = {
                    type = particularist_rebels
                    size = 1
        }
    }

        custom_tooltip = hellenicconversion_appease_Orthodox.tt
    }

    option = { #Attempt to talk them down
        name = nhs_hellenicconversion.25.b

        hidden_effect = {
            clr_country_flag = hellenic_conversion_major_event
    }

        add_dip_power = -100

        random_list = {
            50 = {
                add_legitimacy = 5
        }
            50 = {
            random_owned_province = {
                    limit = {
                        is_capital = yes
                    }
                    spawn_rebels = {
                        type = particularist_rebels
                        size = 1
                }
            }
                random_owned_province = {
                    limit = {
                        is_capital = no
                    }
                    spawn_rebels = {
                    type = particularist_rebels
                    size = 1
                }
            }                
                }
        }

        custom_tooltip = hellenicconversion_favour_neither.tt
    }
    
}

country_event = { #Peaceful vigil
    id = nhs_hellenicconversion.26
    title = nhs_hellenicconversion26.t
    desc = nhs_hellenicconversion26.d
    picture = CITY_VIEW_eventPicture

    is_triggered_only = yes

    option = {
        name = nhs_hellenicconversion.26.a
        hidden_effect = {
            clr_country_flag = hellenic_conversion_major_event
    }

        add_prestige = 10
    }
}

country_event = { #pagans outraged
    id = nhs_hellenicconversion.27
    title = nhs_hellenicconversion27.t
    desc = nhs_hellenicconversion27.d
    picture = DEBATE_REPUBLICAN_eventPicture

    is_triggered_only = yes

    option = { #Too bad
        name = nhs_hellenicconversion.27.a

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 2
            }
            subtract_variable = {
                which = OrthodoxUprising
                value = 1
            }
        clr_country_flag = hellenic_conversion_major_event
        }
        custom_tooltip = hellenicconversion_appease_Orthodox.tt
    }
}

country_event = { #pagans rise up
    id = nhs_hellenicconversion.28
    title = nhs_hellenicconversion28.t
    desc = nhs_hellenicconversion28.d
    picture = ANGRY_MOB_eventPicture

    is_triggered_only = yes 

    option = { #Stop them
        name = nhs_hellenicconversion.28.a
        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 2
            }
            clr_country_flag = hellenic_conversion_major_event
        }
        random_owned_province = {
            limit = {
                is_capital = yes
            }
            spawn_rebels = {
                type = particularist_rebels
                size = 1
            }
        }
        random_owned_province = {
            limit = {
                is_capital = no
                is_city = yes
            }
            spawn_rebels = {
                type = particularist_rebels
                size = 2
            }
        }
        
        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = {#Do not intervene
        name = nhs_hellenicconversion.28.b

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 2
            }
            clr_country_flag = hellenic_conversion_major_event
        }

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -15
        }

        random_owned_province = {
            limit = {
                is_capital = yes
            }
            add_base_tax = -2
        }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }
}

country_event = { #Orthodox violence
    id = nhs_hellenicconversion.29 
    title = nhs_hellenicconversion29.t 
    desc = nhs_hellenicconversion29.d
    picture = VILLAGE_RAIDED_eventPicture

    is_triggered_only = yes 

    option = { #Brutal
        name = nhs_hellenicconversion.29.a

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 2
            }
            subtract_variable = {
                which = OrthodoxUprising
                value = 1
            }
            clr_country_flag = hellenic_conversion_major_event
        }

        every_owned_province = {
            limit = {
                has_owner_religion = no
        }
            add_province_modifier = {
                name = nhs_hcd_Pagan_persecution
                duration = 1825
        }
            change_religion = ROOT
    }

        random_owned_province = {
            limit = {
                is_city = yes
        }
            spawn_rebels = {
                type = particularist_rebels
                size = 2
        }
    }
        random_owned_province = {
            limit = {
                is_city = yes
        }
            spawn_rebels = {
                type = particularist_rebels
                size = 2
        }
    }

        custom_tooltip = hellenicconversion_appease_Orthodox.tt
    }

    option = { #Let them fight
        name = nhs_hellenicconversion.29.b
      
        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 1
            }
            clr_country_flag = hellenic_conversion_major_event
        }

        random_owned_province = {
           limit = {
               is_capital = yes
           }
           add_base_tax = -2 
        }
        random_owned_province = {
           limit = {
               is_capital = no
           }
           add_base_tax = -2 
        }
        random_owned_province = {
           limit = {
               is_capital = no
           }
           add_base_tax = -1 
        }


        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = {
        name = nhs_hellenicconversion.29.c

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 1
            }
            clr_country_flag = hellenic_conversion_major_event
        }
        
        add_estate_loyalty = {
            estate = estate_church
            loyalty = -10
    }

        random_owned_province = {
            limit = {
                is_capital = yes
        }
            spawn_rebels = {
                type = orthodox_rebels
                size = 2
        }
    }
        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

}

country_event = { #Death of Georgios but Pagan revolt quelled
    id = nhs_hellenicconversion.201
    title = nhs_hellenicconversion201.t 
    desc = nhs_hellenicconversion201.d
    picture = REFORM_eventPicture
    
    fire_only_once = yes

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
            }
		NOT = { has_country_flag = hellenic_conversion_preacher }
        is_year = 1452
        NOT = { has_country_flag = georgios_dead }  
	}

    immediate = {
        hidden_effect = {
            set_country_flag = georgios_dead 
        }
    }

    mean_time_to_happen = {
        months = 2
    }

    option = { #Attend the funeral
        name = nhs_hellenicconversion.201.a
        
        add_adm_power = -50
    }

    option = { #Make it an elaborate funeral
        name = nhs_hellenicconversion.202.b
        
        add_adm_power = -50
        add_prestige = 15
        add_years_of_income = -0.25
    }

}

###################### Royal Heresy

country_event = { #Heir accused of being a heretic
    id = nhs_hellenicconversion.3
    title = nhs_hellenicconversion3.t
    desc = nhs_hellenicconversion3.d
    picture = orthodox_court_eventPicture

    fire_only_once = yes

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
                }

        has_heir = yes
        heir_age = 13
        government = monarchy

		has_country_flag = hellenic_conversion_preacher
        NOT = { has_country_flag = hellenic_conversion_major_event }
	    }

    mean_time_to_happen = {
        months = 24
    }

    immediate = {
        hidden_effect = {
            set_country_flag = hellenic_conversion_major_event
        }
    }

    option = { #Denounce the heir
        name = nhs_hellenicconversion.3.a

        add_heir_claim = -20

        hidden_effect = {
            change_variable = {
                which = PaganUprising
                value = 1
        }
            random_list = {
                33 = {
                    country_event = { id = nhs_hellenicconversion.31 days = 31 } #Faifthul heir
            }
                33 = {
                    country_event = { id = nhs_hellenicconversion.32 days = 31 } #Heathen heir
            }
                33 = {
                    country_event = { id = nhs_hellenicconversion.33 days = 31 } #Heir assassinated
            }
        }
    }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = { #Stand by the heir
        name = nhs_hellenicconversion.3.b

        add_legitimacy = -10
        
        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 1
        }
            random_list = {
                33 = {
                    country_event = { id = nhs_hellenicconversion.31 days = 31 } #Faifthul heir
            }
                33 = {
                    country_event = { id = nhs_hellenicconversion.32 days = 31 } #Heathen heir
            }
                33 = {
                    country_event = { id = nhs_hellenicconversion.33 days = 31 } #Heir assassinated
            }
        }
    }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

    option = { #Have the priest thrown in jail
        name = nhs_hellenicconversion.3.c

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -15
    }

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 2
        }
            subtract_variable = {
                which = PaganUprising
                value = 1
        }
            random_list = {
                33 = {
                    country_event = { id = nhs_hellenicconversion.31 days = 31 } #Faifthul heir
            }
                33 = {
                    country_event = { id = nhs_hellenicconversion.32 days = 31 } #Heathen heir
            }
                33 = {
                    country_event = { id = nhs_hellenicconversion.33 days = 31 } #Heir assassinated
            }
        }
    }

        custom_tooltip = hellenicconversion_appease_Pagans.tt
    }
}

country_event = { #Faithful Heir
    id = nhs_hellenicconversion.31
    title = nhs_hellenicconversion31.t
    desc = nhs_hellenicconversion31.d
    picture = RELIGIOUS_CONVERSION_eventPicture

    is_triggered_only = yes

    option = {
        name = nhs_hellenicconversion.31.a

        add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
        }
        add_heir_claim = 10

        clr_country_flag = hellenic_conversion_major_event
    }
}

country_event = { #Heathen Heir
    id = nhs_hellenicconversion.32
    title = nhs_hellenicconversion32.t
    desc = nhs_hellenicconversion32.d
    picture = COURT_eventPicture

    is_triggered_only = yes

    option = { #Have the heir JAILED
        name = nhs_hellenicconversion.32.a

        add_estate_loyalty = {
            estate = estate_church
            loyalty = 10
        }
        add_stability = -1
        kill_heir = yes

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 2
            }
            subtract_variable = {
                which = OrthodoxUprising
                value = 1
            }
        }

        clr_country_flag = hellenic_conversion_major_event
        custom_tooltip = hellenicconversion_appease_Orthodox.tt
    }

    option = { #Refuse to hurt the heir
        name = nhs_hellenicconversion.32.b

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -10
        }
        
        hidden_effect = {
            random_list = {
                50 = {
                    add_heir_claim = -100
                }
                50 = {
                    random_owned_province = {
                            limit = {
                                is_capital = no
                                is_city = yes
                            }
                            spawn_rebels = {
                                type = pretender_rebels
                                religion = ROOT
                                size = 3
                                use_heir_as_leader = yes
                            }
                        }
                    }
                }
            change_variable = {
                which = OrthodoxUprising
                value = 1
                }
            }

        clr_country_flag = hellenic_conversion_major_event
        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }
}

country_event = { #Heir assassinated
    id = nhs_hellenicconversion.33
    title = nhs_hellenicconversion33.t
    desc = nhs_hellenicconversion33.d
    picture = ASSASSINATION_eventPicture

    is_triggered_only = yes  

    immediate = {
        hidden_effect = {
            kill_heir = yes
        }
    }

    option = {
        name = nhs_hellenicconversion.33.a

        clr_country_flag = hellenic_conversion_major_event
    }
}

###################### Pagan Assemblies

country_event = { #Pagan assemblies
    id = nhs_hellenicconversion.4
    title = nhs_hellenicconversion4.t
    desc = nhs_hellenicconversion4.d
    picture = REFORM_eventPicture

    fire_only_once = yes

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
                }
        check_variable = {
            which = HellenicUprising
            value = 5
        }
        num_of_cities = 5
		has_country_flag = hellenic_conversion_preacher
        NOT = { has_country_flag = hellenic_conversion_major_event }
	    }

    mean_time_to_happen = {
        months = 24
    }

    immediate = {
        hidden_effect = {
            set_country_flag = hellenic_conversion_major_event
            random_owned_province = {
                        limit = {
                            is_city = yes
                            is_capital = no
                    }
                        set_province_flag = nhs_pagan_assembly_target
                }
            }
    }

    option = { #Immediately put it down
        name = nhs_hellenicconversion.4.a

        add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
    }
        every_owned_province = {
            limit = {
                has_province_flag = nhs_pagan_assembly_target
            }
            spawn_rebels = {
                type = particularist_rebels
                size = 3
            }
            hidden_effect  = {
                clr_province_flag = nhs_pagan_assembly_target
            }
        }
        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 2
            }
            subtract_variable = {
                which = OrthodoxUprising
                value = 1
            }
        }

        custom_tooltip = hellenicconversion_appease_Orthodox.tt
        }

    option = { #Encourage them to emigrate
        name = nhs_hellenicconversion.4.b

        add_years_of_income = -1.25

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 1
        }
        every_owned_province = {
            limit = {
                has_province_flag = nhs_pagan_assembly_target
            }
            hidden_effect  = {
                clr_province_flag = nhs_pagan_assembly_target
            }
        }
    }
        set_country_flag = nhs_pagan_community_emigrates

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = { #Let them be
        name = nhs_hellenicconversion.4.c
      
        add_stability = 1
        add_estate_loyalty = {
            estate = estate_church
            loyalty = -10
    }
        every_owned_province = {
            limit = {
                has_province_flag = nhs_pagan_assembly_target
        }
            add_province_modifier = {
                name = nhs_hcd_Pagan_minority
                duration = -1
        }
    }

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 1
            }
            set_country_flag = nhs_pagan_assemblies
        }
        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

    after = {
        clr_country_flag = hellenic_conversion_major_event
    }
        
}

country_event = { #Nearby christians angered
    id = nhs_hellenicconversion.41
    desc = nhs_hellenicconversion41.d
    title = nhs_hellenicconversion41.t
    picture = PRINCE_BISHOP_RESIGN_eventPicture

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
            }
		has_country_flag = nhs_pagan_assemblies
        any_owned_province = {
            has_province_modifier = nhs_hcd_Pagan_minority
        }
    }

    immediate = {
        hidden_effect = {
            random_owned_province = {
              limit = {
                is_capital = no
                is_city = yes
                any_neighbor_province = {
                    has_province_modifier = nhs_hcd_Pagan_minority
                    }
                }
                set_province_flag = nhs_angered_christians_flag
            }
        }
    }

    mean_time_to_happen = {
        months = 12
    }

    option = { #Demand compensation from the pagans
        name = nhs_hellenicconversion.41.a

        add_estate_loyalty = {
            estate = estate_church
            loyalty = 5
        }

        every_owned_province = {
            limit = {
                has_province_modifier = nhs_hcd_Pagan_minority
        }
            add_base_tax = -1
        }
        every_owned_province = {
            limit = {
                has_province_flag = nhs_angered_christians_flag
        }
            add_base_tax = 1
        }

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 1
            }
        }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = { #Ignore the christians
        name = nhs_hellenicconversion.41.b

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -10
        }

        every_owned_province = {
            limit = {
                has_province_flag = nhs_angered_christians_flag
            }
            add_base_tax = -1
        }

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 1
            }
        }   

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

    option = { #Settle the dispute
        name = nhs_hellenicconversion.41.c

        add_years_of_income = -1

        custom_tooltip = hellenicconversion_favour_neither.tt
    }

    after = {
        every_owned_province = {
            limit = {
                has_province_flag = nhs_angered_christians_flag
            }
            clr_province_flag = nhs_angered_christians_flag
        }
    }
}

country_event = { #New pagan assembly
    id = nhs_hellenicconversion.42
    desc = nhs_hellenicconversion42.d
    title = nhs_hellenicconversion42.t
    picture = CITY_DEVELOPMENT_eventPicture

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
            }
		has_country_flag = nhs_pagan_assemblies
        any_owned_province = {
            has_province_modifier = nhs_hcd_Pagan_minority
            }
    }

    mean_time_to_happen = {
        months = 12
    }

    option = { #Allow it
        name = nhs_hellenicconversion.42.a

        add_estate_loyalty = {
            estate  = estate_church
            loyalty = -10
    }

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 1
        }
    }

        random_owned_province = {
            limit = {
                is_capital = no
                is_city = yes
                any_neighbor_province = {
                    has_province_modifier = nhs_hcd_Pagan_minority
                    }
                }
            add_province_modifier = {
                name = nhs_hcd_Pagan_minority
                duration = -1
            }
            add_base_tax = 1
        }
        
        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

    option = { #Restrain it
        name = nhs_hellenicconversion.42.b

        add_estate_loyalty = {
            estate  = estate_church
            loyalty = 10
    }

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 1
        }
    }

        random_owned_province = {
            limit = {
                is_capital = no
                is_city = yes
                any_neighbor_province = {
                    has_province_modifier = nhs_hcd_Pagan_minority
                    }
                }
            spawn_rebels = {
                type = particularist_rebels
                size = 1
            }
        }
        
        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }
}

country_event = { #Pagans request tax exemption
    id = nhs_hellenicconversion.43
    desc = nhs_hellenicconversion43.d
    title = nhs_hellenicconversion43.t
    picture = FAMINE_eventPicture

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
                }
		has_country_flag = nhs_pagan_assemblies
        any_owned_province = {
            has_province_modifier = nhs_hcd_Pagan_minority
        }
    }

    immediate = {
        hidden_effect = {
            random_owned_province = {
                limit = {
                    has_province_modifier = nhs_hcd_Pagan_minority
                }
                set_province_flag = nhs_hcd_pagan_famine
            }
        }
    }

    mean_time_to_happen = {
        months = 24
    }

    option = { #Refuse
        name = nhs_hellenicconversion.43.a

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 1
        }
    }

        every_owned_province = {
            limit = {
                has_province_flag = nhs_hcd_pagan_famine
        }
            add_unrest = 10
    }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = { #Offer assistance
        name = nhs_hellenicconversion.43.b

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 1
        }
    }

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -5
    }

        every_owned_province = {
            limit = {
                has_province_flag = nhs_hcd_pagan_famine
        }
            add_province_modifier = {
                name = nhs_hcd_famine_aid
                duration = 365
        }
    }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }

    option = { #Offer exemption long term
        name = nhs_hellenicconversion.43.c

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 2
        }
            change_variable = {
                which = HellenicUprising
                value = 1
        }
    }

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -10
    }

        every_owned_province = {
            limit = {
                has_province_flag = nhs_hcd_pagan_famine
        }
            add_province_modifier = {
                name = nhs_hcd_famine_exempt
                duration = -1
        }
    }

        custom_tooltip = hellenicconversion_appease_Pagans.tt
    }

    option = { #Use the crown's ressources
        name = nhs_hellenicconversion.43.d
        
        add_years_of_income = -1

        every_owned_province = {
            limit = {
                has_province_flag = nhs_hcd_pagan_famine
        }
            add_unrest = -3
    }

        custom_tooltip = hellenicconversion_favour_neither.tt
    }

    after = {
        every_owned_province = {
            limit = {
                has_province_flag = nhs_hcd_pagan_famine
            }
            clr_province_flag = nhs_hcd_pagan_famine
        }
    }

}

country_event = { #Pagans request representation
    id = nhs_hellenicconversion.44
    desc = nhs_hellenicconversion44.d
    title = nhs_hellenicconversion44.t
    picture = BURGHER_ESTATE_UPSET_eventPicture

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
                }
		has_country_flag = nhs_pagan_assemblies
        any_owned_province = {
            has_province_modifier = nhs_hcd_Pagan_minority
            OR = {
                has_province_modifier = nhs_hcd_famine_exempt
                has_province_modifier = nhs_hcd_famine_aid 
            }
        }
    }

    mean_time_to_happen = {
        months = 24
    }

    option = { #Accept
        name = nhs_hellenicconversion.44.a

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -30
        }

        add_country_modifier = {
            name = nhs_hcd_hellenic_representation
            duration = -1
        }

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 2
            }
            subtract_variable = {
                which = HellenicUprising
                value = 1
            }
        }
        
        custom_tooltip = hellenicconversion_appease_Pagans.tt
    }

    option = { #Refuse
        name = nhs_hellenicconversion.44.b

        add_patriarch_authority = 0.5

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 1
            }
        }

        every_owned_province = {
            limit = {
                is_capital = no
                is_city = yes
                has_province_modifier = nhs_hcd_Pagan_minority
            }
            spawn_rebels = {
                type = particularist_rebels
                size = 1
            }
        }
        every_owned_province = {
            limit = {
                is_capital = yes
            }
            spawn_rebels = {
                type = particularist_rebels
                size = 1
            }
        }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = { #Offer concessions
        name = nhs_hellenicconversion.44.c

        add_country_modifier = {
            name = nhs_hcd_pagan_concessions 
            duration = 7300
        }

        custom_tooltip = hellenicconversion_favour_neither.tt
    }

    option = { #Negotiate
        name = nhs_hellenicconversion.44.d

        highlight = yes
        trigger = {
            OR = {
                ruler_has_personality = righteous_personality
                ruler_has_personality = kind_hearted_personality
                ruler_has_personality = charismatic_negotiator_personality
                ruler_has_personality = silver_tongue_personality
            }
        }

        add_prestige = -25
        add_country_modifier = {
            name = nhs_hcd_hellenic_representation
            duration = 7300
        }

        custom_tooltip = hellenicconversion_favour_neither.tt
    }

    after = {
        every_owned_province ={
            limit = {
                has_province_modifier = nhs_hcd_Pagan_minority
            }
            remove_province_modifier = nhs_hcd_Pagan_minority
        }
        clr_country_flag = nhs_pagan_assemblies
    }
}

# country_event = { #Pagans in exile event
#     name = nhs_hellenicconversion.45
#     title = nhs_hellenicconversion45.t
#     desc = nhs_hellenicconversion45.d
#     picture = COLONIZATION_eventPicture

#     trigger = {
#         NOT ={
#             OR = {
#                 tag = NHS
#                 was_tag = NHS
#             }
#         }
#         OR = {
#             is_neighbor_of = NHS
#             is_neighbor_of = ELY
#         }
#         OR = {
#             NHS = {
#                 has_country_flag = nhs_pagan_community_emigrates
#                 religion = orthodox
#             }
#             ELY = {
#                 has_country_flag = nhs_pagan_community_emigrates
#                 religion = orthodox
#             }
#         }
#         religion_group = pagan
#         NOT = { has_country_flag = nhs_exiled_pagans_minority }
#     }

#     fire_only_once = yes

#     mean_time_to_happen = {
#         months = 3
#     }

#     option = { #take them in
#         name = nhs_hellenicconversion.45.a

#         ai_chance = {
#             factor = 25
#             modifier = {
#                 factor = 2
#                 OR = {
#                     war_with = NHS
#                     war_with = ELY
#                 }
#             }
#         }

#         hidden_effect = {
#             NHS = {
#                 clr_country_flag = nhs_pagan_community_emigrates
#             }
#             ELY = {
#                 clr_country_flag = nhs_pagan_community_emigrates
#             }
#             set_country_flag = nhs_pagan_minority_in_exile_here
#         }
        
#         random_owned_province = {
#             add_base_tax = 2
#         }
#         if = {
#             limit = {
#                 exists = NHS
#             }
#             event_target:NHS = {
#                 add_opinion = { who = ROOT modifier = insulted }
#             }
#             NHS = {
#                 country_event = { nhs_hellenicconversion.46 }
#             }
#         }
#         if = {
#             limit = {
#                 exists = ELY
#             }
#             event_target:ELY = {
#                 add_opinion = { who = ROOT modifier = insulted }
#             }
#             ELY = {
#                 country_event = { nhs_hellenicconversion.46 }
#             }
#         }
#     }

#     option = { #refuse
#         ai_chance = {
#             factor = 50
#             modifier = {
#                 factor = 2
#                 OR = {
#                     alliance_with = NHS
#                     alliance_with = ELY
#                 }
#             }
#         }

#         add_stability = 1
#     }

#     after = {
#         set_country_flag = nhs_exiled_pagans_minority
#     }
# }

# country_event = { #New reaches the court about pagan exiles
#     id = nhs_hellenicconversion.46
#     title = nhs_hellenicconversion46.t
#     desc = nhs_hellenicconversion46.d
#     picture = SMUGGLERS_eventPicture

#     is_triggered_only = yes

#     immediate = {
#         hidden_effect = {
#             clr_country_flag = nhs_pagan_community_emigrates
#         }
#     }

#     option = { #Oh well
#         name = nhs_hellenicconversion.46.a

#         add_country_modifier = {
#             name = nhs_hcd_lack_colonists
#             duration = 365
#         }
#     }
# }

###################### People's inquisition

country_event = { #Establish inquisition
    id = nhs_hellenicconversion.5
    title = nhs_hellenicconversion5.t
    desc = nhs_hellenicconversion5.d
    picture = COURT_eventPicture
    
    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
            }
		has_country_flag = hellenic_conversion_preacher
        num_of_cities = 3
        check_variable = {
            which = OrthodoxUprising
            value = 5
        }
	}

    fire_only_once = yes

    mean_time_to_happen = {
        months = 6
        modifier = {
            factor = 0.5
            estate_loyalty = {
                estate = estate_church 
                loyalty = 50
            }
        }
    }

    option = { #Allow the church to establish an inquisition
        name = nhs_hellenicconversion.5.a

        add_estate_loyalty = {
            estate = estate_church
            loyalty = 10
        }

        set_estate_privilege = estate_church_nhs_inquisition_privilege

        hidden_effect = {
            change_variable = {
                which = HellenicUprising
                value = 2
            }
        }

        custom_tooltip = hellenicconversion_favour_Orthodox.tt
    }

    option = { #Fund a state-backed inquisition
        name = nhs_hellenicconversion.5.b

        add_years_of_income = -2
        add_country_modifier = {
            name = nhs_hcd_state_inquistion
            duration = 1825
        }

        custom_tooltip = hellenicconversion_favour_neither.tt
    }

    option = { #An inquistion is not necessary
        name = nhs_hellenicconversion.5.c

        add_estate_loyalty = {
            estate = estate_church
            loyalty = -15
        }

        hidden_effect = {
            change_variable = {
                which = OrthodoxUprising
                value = 2
            }
        }

        custom_tooltip = hellenicconversion_favour_Pagans.tt
    }
}

country_event = { #Purges
    id = nhs_hellenicconversion.51
    title = nhs_hellenicconversion51.t
    desc = nhs_hellenicconversion51.d
    picture = CHURCH_ESTATE_1_eventPicture
    
    fire_only_once = yes

    trigger = {
		OR = {
            tag = NHS
            was_tag = NHS
            }
		has_country_flag = hellenic_conversion_preacher
        has_estate_privilege = estate_church_nhs_inquisition_privilege
	}

    immediate = {
        set_country_flag = nhs_hcd_inquisition_event_1
    }

    mean_time_to_happen = {
        months = 16
    }

    option = { #Let the inquisition purge the suspected heathens

    }

    option = { #Have the list changed

    }

    option = { #Delay

    }

    option = { #Refuse

    }
}

country_event = { #Witch trials

}

country_event = { #Appointing a new consort

}

country_event = { #Breaking point (Church inquisition was never opposed). This event stops the disaster.

}

country_event = { #Church coup (Once all events passed and the church was opposed at least once)

}

#######################
# Disaster trigger    #
#######################

#These events will fire once either side has been pushed too much. This will fire the disaster along the corresponding side

####################
# Clear events     #
####################

#These events will show up to clear the hellenic modifiers and make the neoPagans flee