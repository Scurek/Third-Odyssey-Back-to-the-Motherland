namespace = nhs2_countryevents

###################################################
### MISCELLANEOUS EVENTS
###################################################

# Lose the extra colonist when another is gained from idea groups
country_event = {
	id = nhs2_countryevents.14
	title = nhs2_countryevents.14.t
	desc = nhs2_countryevents.14.d
	picture = NATIVES_eventPicture

    trigger = {
		has_country_modifier = nhs_new_world
		num_of_colonists = 2
	}

	option = {
		name = "nhs2_countryevents.14.a"	
		remove_country_modifier = nhs_new_world
		every_neighbor_country = {
			limit = {
				religion = totemism
				NOT = { is_subject_of = ROOT }
				NOT = { alliance_with = ROOT }
			}
			add_opinion = {
				who = ROOT
				modifier = nhs_reduced_friction
			}
		}
	}
}

# Insta cores on homeland provinces
country_event = {
	id = nhs2_countryevents.2
	title = nhs2_countryevents2.t
	desc = nhs2_countryevents2.d
	picture = CITY_VIEW_eventPicture

	goto = nhs2_countryevents2_target

    trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		any_province = {
			nhs_homelands_no_capital = yes
			is_colony = no
			NOT = { has_province_flag = nhs_is_colony }
			NOT = { has_province_flag = nhs_got_core }
			owned_by = ROOT
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					nhs_homelands_no_capital = yes
					owned_by = ROOT
					NOT = { has_province_flag = nhs_got_core }
					is_colony = no
					NOT = { has_province_flag = nhs_is_colony }
				}
				save_event_target_as = nhs2_countryevents2_target
				set_province_flag = nhs_got_core
				set_province_flag = nhs_development_province1
				set_province_flag = nhs_development_province2
				set_province_flag = nhs_development_province3
				hidden_effect = {
					remove_core = ROOT
				}
				add_core = ROOT
			}
		}
	}

	option = {
		name = "nhs2_countryevents2.a"
		event_target:nhs2_countryevents2_target = {
			tooltip = {
				add_core = ROOT
			}
			add_base_tax = 1
			# add_base_production = 1
			add_base_manpower = 1
			if = {
				limit = {
					province_id = 952 # Powhattan, Alouion
				}
				952 = { rename_capital = "Nea Eborakon" }
			}
			else_if = {
				limit = {
					province_id = 957 # Delaware, Methanai
				}
				957 = { rename_capital = "Troizen" }
			}
			else_if = {
				limit = {
					province_id = 2550 # Doeg, Odessos
				}
				2550 = { rename_capital = "Neriton" }
			}
			else_if = {
				limit = {
					province_id = 2554 # Nanticoke, Nea Aleksandra
				}
				2554 = { rename_capital = "Kleomenon" }
			}
			else_if = {
				limit = {
					province_id = 950 # Nanticoke, Nea Aleksandra
				}
				950 = { rename_capital = "Didymo Fylakes" }
			}
			# if = {
			# 	limit = {
			# 		NOT = { has_albanian_majority_modifier = yes }
			# 	}
			# 	change_culture = ROOT
			# 	change_religion = ROOT
			# }
			set_province_flag = nhs_development_province1
			set_province_flag = nhs_development_province2
			set_province_flag = nhs_development_province3
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = nhs_completed_nhs_infrastructure_mission
					953 = {
						has_province_modifier = nhs2_capital_emigration
					}
				}
			}
			custom_tooltip = nhs_new_line_tt
			953 = {
				add_province_modifier = {
					name = nhs2_capital_emigration
					duration = -1
				}
			}
		}
	}
}

# Discover sorrounding provinces
country_event = {
	id = nhs2_countryevents.13
	title = nhs2_countryevents13.t
	desc = nhs2_countryevents13.d
	picture = COLONIZATION_eventPicture

	is_triggered_only = yes

	option = {
		name = "nhs2_countryevents13.a"
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_new_world }
			}
			add_country_modifier = {
				name = "nhs_new_world"
				duration = -1
			}
		}
		hidden_effect = {
			every_province = {
				limit = {
					# any_neighbor_province = { 
					# 	owned_by = ROOT 
					# }
					OR = {
						nhs_homelands_no_capital = yes
						owned_by = LEN
						owned_by = PIA
					}
					NOT = { has_discovered = ROOT }
				}
				every_country = {
					limit = { tag = ROOT }
					discover_province = PREV
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = PIA
						tag = LEN
						tag = POW
					}
				}
				country_event = { id = nhs2_countryevents.12 days = 3 }
			}

			every_country = {
				limit = {
					OR = {
						tag = SUS
						tag = TSC
					}
				}
				country_event = { id = nhs2_countryevents.12 days = 30 }
			}

			every_country = {
				limit = {
					OR = {
						is_iroquois = yes
						tag = PEQ
						tag = WAM
						tag = MAH
						tag = WEN
						tag = ERI
					}
				}
				country_event = { id = nhs2_countryevents.12 days = 60 }
			}
		}
	}
}

# Native reaction
country_event = {
	id = nhs2_countryevents.12
	title = nhs2_countryevents12.t
	desc = nhs2_countryevents12.d
	picture = EXPLORERS_eventPicture

	is_triggered_only = yes

	option = {
		name = nhs2_countryevents12.a
	}
}

# Tribal development tutorial
country_event = {
	id = nhs2_countryevents.33
	title = nhs2_countryevents.33.t
	desc = nhs2_countryevents.33.d
	picture = NATIVES_eventPicture

	fire_only_once = yes

	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		any_owned_province = {
			is_colony = yes
			colonysize = 20
		}
	}

	option = {
		name = nhs2_countryevents.33.a
		add_country_modifier = {
			name = nhs_early_uprising_reduction
			duration = 3650
		}
		custom_tooltip = nhs2_countryevents.33.tt
	}
}

# Breaks Vassalisation over Spartans
country_event = {
	id = nhs2_countryevents.18
	title = nhs2_countryevents.18.t
	desc = nhs2_countryevents.18.d
	picture = DIPLOMACY_eventPicture

	trigger = {
		NOT = { had_global_flag = { flag = nhs_msg_spartans_in_mesoamerica days = 18250 } }
		OR = {
			MS1 = {
				is_subject_of = ROOT
			}
			MSN = {
				is_subject_of = ROOT
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					MS1 = {
						is_subject_of = ROOT
					}
				}
				if = {
					limit = {
						MS1 = {
							junior_union_with = ROOT
						}
					}
					MS1 = {
						grant_independence = yes
					}
					define_ruler = {
						dynasty = ROOT
					}
				}
				else = {
					MS1 = {
						grant_independence = yes
					}
				}
			}
			if = {
				limit = {
					MSN = {
						is_subject_of = ROOT
					}
				}
				if = {
					limit = {
						MSN = {
							junior_union_with = ROOT
						}
					}
					MSN = {
						grant_independence = yes
					}
					define_ruler = {
						dynasty = ROOT
					}
				}
				else = {
					MSN = {
						grant_independence = yes
					}
				}
			}
		}
	}

	option = {
		name = "nhs2_countryevents.18.a"
		tooltip = {
			if = {
				limit = {
					MS1 = {
						vassal_of = ROOT
					}
				}
				MS1 = {
					grant_independence = yes
				}
			}
			if = {
				limit = {
					MSN = {
						vassal_of = ROOT
					}
				}
				MSN = {
					grant_independence = yes
				}
			}
		}
	}
}

# The Marble Emperors
country_event = {
	id = nhs2_countryevents.20
	title = nhs2_countryevents.20.t
	desc = nhs2_countryevents.20.d
	picture = UNIVERSITY_eventPicture

	fire_only_once = yes

	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		is_year = 1525
	}

	mean_time_to_happen = {
		months = 120
		modifier = {
			factor = 0.8
			technology_group = modern_greek
		}
		modifier = {
			factor = 0.5
			AND = {
				has_country_flag = nhs_invasion_begins
				NOT = { owns = 151 }
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				owns = 151
				has_country_flag = nhs_invasion_over
			}
		}
	}

	immediate = {
	}

	option = {
		name = "nhs2_countryevents.20.a"
		add_treasury = -200
		add_prestige = 15
	}
	option = {
		name = "nhs2_countryevents.20.b"
		add_treasury = -50
		add_prestige = 5
	}
}

# Integrate natives, more tax and manpower
# Could be converted in a way to reduce tribal dev?
# province_event = {
# 	id = nhs2_countryevents.15
# 	title = nhs2_countryevents.15.t
# 	desc = nhs2_countryevents.15.d
# 	picture = NATIVES_eventPicture

#     trigger = {
# 		owner = { has_idea = understandings_with_natives }
# 		is_colony = yes
# 		colonysize = 400
# 		NOT = { nhs_homelands = yes }
# 		NOT = { has_province_flag = nhs_integrate_natives_colony }
# 	}
	
# 	is_mtth_scaled_to_size = 1
# 	mean_time_to_happen = {
# 		months = 12
# 	}

# 	option = {
# 		name = "nhs2_countryevents.15.a"
# 		set_province_flag = nhs_integrate_natives_colony
# 		add_base_tax = 1
# 		add_base_production = 1
# 		add_base_manpower = 1
# 	}
# }

country_event = {
	id = nhs2_countryevents.16
	title = nhs2_countryevents.16.t
	desc = nhs2_countryevents.16.d
	picture = PRAETORIAN_eventPicture
	
	fire_only_once = yes

    trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		has_idea = constantinople_never_again
		capital_scope = {
			has_building = fort_16th
		}
		treasury = 250
	}

	mean_time_to_happen = {
		months = 12
	}

	option = {	
		name = "nhs2_countryevents.16.a"
		add_country_modifier = { name = "nhs_epilektoi" duration = -1 }
		add_treasury = -150
	}
}

# Marry native consort, ally with faction of origin
country_event = {
	id = nhs2_countryevents.31
	title = nhs2_countryevents.31.t
	desc = nhs2_countryevents.31.d
	picture = byz_COURT_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		is_year = 1465
		nhs_check_all_elysian = { CONDITION = tag }
		has_government_attribute = queen
		is_subject = no
		OR = {
			NOT = { has_dlc = "Rights of Man" }
			has_consort = no
		}
		any_neighbor_country = {
			native_culture_primary = yes
			is_at_war = no
			has_opinion = { who = ROOT value = -50 }
			is_subject = no
			NOT = { alliance_with = ROOT }
		}
	}

	immediate = {
		random_neighbor_country = {
			limit = {
				native_culture_primary = yes
				is_at_war = no
				has_opinion = { who = ROOT value = -50 }
				is_subject = no
				NOT = { alliance_with = ROOT }
			}
			save_event_target_as = selected_country
		}
	}

	mean_time_to_happen = {
		months = 6
	}

	option = {		# Allow for it
		name = nhs2_countryevents.31.a
		ai_chance = { 
			factor = 60
			modifier = {
				factor = 2
				legitimacy = 95
			}
			modifier = {
				factor = 0.2
				NOT = {
					legitimacy = 60
				}
			}
		}
		add_legitimacy = -15
		event_target:selected_country = {
			create_alliance = ROOT
			create_marriage = ROOT
			if = {
				limit = {
					has_dlc = "Rights of Man"
				}
				define_consort = {
					country_of_origin = FROM
					culture = FROM
					religion = FROM
				}
			}
		}
	}
	option = {		# Reject
		name = nhs2_countryevents.31.b
		ai_chance = { 
			factor = 40
			modifier = {
				factor = 0.5
				legitimacy = 95
			}
			modifier = {
				factor = 2
				NOT = {
					legitimacy = 60
				}
			}
		}
		add_legitimacy = 10
		event_target:selected_country = {
			add_opinion = {
				who = ROOT
				modifier = insulted
			}
		}
	}
}

# Nobles trained as Cataphracts
# Move to the privilege
# country_event = {
# 	id = nhs_countryevents.6
# 	title = nhs_countryevents.6.t
# 	desc = nhs_countryevents.6.d
# 	picture = CATAPHRACT_eventPicture
	
# 	trigger = {
# 		nhs_condition_all_ely = { KOMANDA = tag }
# 		NOT = { has_country_flag = nhs_hadevent_countryevents6 }
# 		NOT = { has_country_modifier = nhs_noble_cataphracts }
# 		is_year = 1470
# 	}

# 	mean_time_to_happen = {
# 		months = 12
# 	}

# 	immediate = {
# 		set_country_flag = nhs_hadevent_countryevents6
# 	}

# 	option = {		# Accept the new noble class
# 		name = "NHSCOUNTRYEVENTSNAME6A"
# 		ai_chance = { 
# 			factor = 70
# 			modifier = {
# 				factor = 0.5
# 				NOT = {
# 					legitimacy = 60
# 				}
# 			}
# 			modifier = {
# 				factor = 1.5
# 				NOT = {
# 					prestige = 0
# 				}
# 			}
# 		}
# 		add_legitimacy = -5
# 		add_prestige = 10
# 		add_army_tradition = -10
# 		add_country_modifier = {
# 			name = "nhs_noble_cataphracts"
# 			duration = -1
# 		}
# 	}
# 	option = {		# Reject the new noble class
# 		name = "NHSCOUNTRYEVENTSNAME6B"
# 		ai_chance = { 
# 			factor = 30
# 			modifier = {
# 				factor = 0.5
# 				NOT = {
# 					prestige = 10
# 				}
# 				stability = 0
# 			}
# 			modifier = {
# 				factor = 4
# 				NOT = {
# 					stability = 0
# 				}
# 			}
# 		}
# 		add_prestige = -10
# 		add_stability_or_adm_power = yes
# 	}
# }


# Elysian silk becomes even more valuable
# Maybe remove
country_event = {
	id = nhs2_countryevents.32
	title = nhs2_countryevents.32.t
	desc = nhs2_countryevents.32.d
	picture = AWESOMECITY_eventPicture
	
	fire_only_once = yes
	
	major = yes

	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		had_global_flag = {
			flag = nhs_elysian_silk_exists
			days = 10950
		}
		elysian_silk = 1
		any_known_country = {
			technology_group = western
			any_owned_province = {
				continent = asia
			}
		}
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = nhs2_countryevents.32.a
		change_price = {
			trade_goods = elysian_silk
			key = ELYSIAN_SILK_BETTER
			value = 0.5
			duration = -1
		}
		change_price = {
			trade_goods = silk
			key = ELYSIAN_SILK_BETTER
			value = -0.1
			duration = -1
		}
	}
}

###################################################
### SENATE OF CITIES EVENTS
###################################################

# City senator leaves in anger
country_event = {
	id = nhs2_countryevents.17
	title = nhs2_countryevents.17.t
	desc = nhs2_countryevents.17.d
	picture = SENATE_eventPicture
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		is_year = 1505
		OR = {
			has_reform = senatorial_empire
			has_reform = elysian_patriarchy
			has_reform = nhs_noble_republic
		}
	}
	
	mean_time_to_happen = {
		months = 720
		modifier = {
			factor = 0.75
			has_country_modifier = nhs_extended_city_senate
		}
		modifier = {
			factor = 0.85
			any_owned_province = {
				NOT = { is_core = ROOT }
			}
		}
		modifier = {
			factor = 0.80
			NOT = { dip = 2 }
		}
		modifier = {
			factor = 0.9
			any_owned_province = {
				NOT = { culture_group = elysian_group }
			}
		}
		modifier = {
			factor = 1.5
			NOT = { num_of_cities = 10 }
		}
		modifier = {
			factor = 0.75
			NOT = { stability = -2 }
		}
		modifier = {
			factor = 0.75
			NOT = { stability = -1 }
		}
		modifier = {
			factor = 0.75
			NOT = { stability = 0 }
		}
		modifier = {
			factor = 1.2
			stability = 1
		}
		modifier = {
			factor = 1.2
			stability = 2
		}
		modifier = {
			factor = 1.2
			stability = 3
		}
		modifier = {
			factor = 1.5
			has_country_flag = nhs_hadevent_elysIdeaEvents21
		}
	}
	
	immediate = {
		set_country_flag = nhs_hadevent_elysIdeaEvents21
	}
	
	option = {	# Let him
		name = "nhs2_countryevents.17.a"
		add_prestige = -10
		add_legitimacy = -5
	}
	option = {	# Bribe him to keep quiet
		name = "nhs2_countryevents.17.b"
		add_prestige = -5
		add_years_of_income = -0.05
	}
}

# Senators divided over new laws
country_event = {
	id = nhs2_countryevents.19
	title = nhs2_countryevents.19.t
	desc = nhs2_countryevents.19.d
	picture = SENATE_eventPicture
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		is_year = 1505
		OR = {
			has_reform = senatorial_empire
			has_reform = elysian_patriarchy
		}
		NOT = { stability = 3 }
	}
	
	mean_time_to_happen = {
		months = 960
		modifier = {
			factor = 0.75
			# has_country_modifier = nhs_extended_city_senate
			has_reform = nhs_expand_senate_of_cities
		}
		modifier = {
			factor = 0.8
			NOT = { dip = 2 }
		}
		modifier = {
			factor = 0.75
			NOT = { stability = -2 }
		}
		modifier = {
			factor = 0.75
			NOT = { stability = -1 }
		}
		modifier = {
			factor = 0.75
			NOT = { stability = 0 }
		}
		modifier = {
			factor = 1.25
			stability = 1
		}
		modifier = {
			factor = 1.25
			stability = 2
		}
		modifier = {
			factor = 1.5
			has_country_flag = nhs_hadevent_elysIdeaEvents22
		}
	}
	
	immediate = {
		set_country_flag = nhs_hadevent_elysIdeaEvents22
	}
	
	option = {	# Make sure the new laws pass
		name = "nhs2_countryevents.19.a"
		add_stability_or_adm_power = yes
		add_years_of_income = -0.25
	}
	option = {	# Accept bribes to avoid the laws passing
		name = "nhs2_countryevents.19.b"
		add_stability = -1
		add_years_of_income = 0.3
	}
}

# Christian Senator causes Unrest
country_event = {
	id = nhs2_countryevents.30
	title = nhs2_countryevents.30.t
	desc = nhs2_countryevents.30.d
	picture = SENATE_eventPicture
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		OR = {
			has_reform = senatorial_empire
			has_reform = elysian_patriarchy
		}
		religion = pantheon_worship
		any_owned_province = {
			religion_group = christian
			has_seat_in_parliament = yes
		}
	}
	
	mean_time_to_happen = {
		months = 360
		modifier = {
			factor = 0.90
			# has_country_modifier = nhs_extended_city_senate
			has_reform = nhs_expand_senate_of_cities
		}
		modifier = {
			factor = 0.90
			has_country_modifier = nhs_consolidated_pantheon
		}
		# modifier = {
		# 	factor = 0.90
		# 	OR = {
		# 		num_of_religion = { religion = elysian_orthodoxy value = 3 }
		# 		num_of_religion = { religion = orthodox value = 3 }
		# 		num_of_religion = { religion = catholic value = 3 }
		# 		num_of_religion = { religion = protestant value = 3 }
		# 		num_of_religion = { religion = reformed value = 3 }
		# 	}
		# }
		# modifier = {
		# 	factor = 0.80
		# 	OR = {
		# 		num_of_religion = { religion = elysian_orthodoxy value = 3 }
		# 		num_of_religion = { religion = orthodox value = 5 }
		# 		num_of_religion = { religion = catholic value = 5 }
		# 		num_of_religion = { religion = protestant value = 5 }
		# 		num_of_religion = { religion = reformed value = 5 }
		# 	}
		# }
		modifier = {
			factor = 0.90
			NOT = { stability = -2 }
		}
		modifier = {
			factor = 0.90
			NOT = { stability = -1 }
		}
		modifier = {
			factor = 0.90
			NOT = { stability = 0 }
		}
		modifier = {
			factor = 1.10
			stability = 1
		}
		modifier = {
			factor = 1.10
			stability = 2
		}
		modifier = {
			factor = 1.10
			has_country_flag = nhs_hadevent_elysIdeaEvents23
		}
	}
	
	immediate = {
		set_country_flag = nhs_hadevent_elysIdeaEvents23
	}
	
	option = {	# Leave them more room
		name = "nhs2_countryevents.30.a"
		add_stability = -1
		add_legitimacy = -10
		add_country_modifier = {
			name = "innovative_modifier"
			duration = 3650
		}
	}
	option = {	# Ban Christians from public office
		name = "nhs2_countryevents.30.b"
		add_stability = -1
		add_legitimacy = 5
		add_country_modifier = {
			name = "narrowminded_modifier"
			duration = 3650
		}
	}
	option = {	# Persecute Christians
		name = "nhs2_countryevents.30.c"
		trigger = {
			has_country_modifier = nhs_consolidated_pantheon
		}
		add_stability = -1
		random_owned_province = {
			limit = {
				religion_group = christian
			}
			change_religion = ROOT
			add_unrest = 10
		}
		add_country_modifier = {
			name = "narrowminded_modifier"
			duration = 3650
		}
	}
}

###################################################
### LANDING EVENTS
###################################################

# Salvaging the fleet
country_event = {
	id = nhs2_countryevents.22
	title = nhs2_countryevents.22.t
	desc = nhs2_countryevents.22.d
	picture = ELYSIAN_HARBOUR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		NOT = { has_global_flag = nhs_started_at_bookmark }
	}
	
	immediate = {
		hidden_effect = {
			country_event = { id = nhs2_countryevents.1 days = 183 random = 30 }
			country_event = { id = nhs2_countryevents.24 days = 365 random = 30 }
		}
	}

	option = {
		name = "nhs2_countryevents.22.a"
		capital_scope = {
			add_base_tax = 1
			add_base_production = 1
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 6 }
			}
			capital_scope = {
				light_ship = NHS
			}
		}
	}
	option = {
		name = "nhs2_countryevents.22.b"
		trigger = {
			capital_scope = {
				num_free_building_slots = 1
				NOT = {	has_building = fort_15th }
			}
		}
		capital_scope = {
			add_building = fort_15th
		}
		add_mil_power = 15
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 6 }
			}
			capital_scope = {
				light_ship = NHS
			}
		}
	}

	option = {
		name = "nhs2_countryevents.22.c"
		add_sailors = 500
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 1 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 2 } }
			}
			add_treasury = 30
			add_country_modifier = {
				name = nhs2_sold_the_ships_1
				duration = 18250
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 2 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 3 } }
			}
			add_treasury = 40
			add_country_modifier = {
				name = nhs2_sold_the_ships_1
				duration = 18250
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 3 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 4 } }
			}
			add_treasury = 50
			add_country_modifier = {
				name = nhs2_sold_the_ships_2
				duration = 18250
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 4 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 5 } }
			}
			add_treasury = 60
			add_country_modifier = {
				name = nhs2_sold_the_ships_2
				duration = 18250
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 5 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 6 } }
			}
			add_treasury = 80
			add_country_modifier = {
				name = nhs2_sold_the_ships_3
				duration = 18250
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 6 }
			}
			add_treasury = 100
			add_country_modifier = {
				name = nhs2_sold_the_ships_4
				duration = 18250
			}
		}
	}
	option = {
		name = "nhs2_countryevents.22.e"
		add_sailors = 1500
		add_country_modifier = {
			name = nhs2_kept_the_ships
			duration = 18250
		}
		if = {
			limit = {
				has_dlc = "Golden Century"
			}
			custom_tooltip = nhs_starting_flagship_fixed_tt
			hidden_effect = {
				set_country_flag = nhs_first_flagship
				set_country_flag = nhs_first_flagship_fixed
				capital_scope = {
					if = {
						limit = {
							any_province = {
								heavy_ships_in_province = ROOT
							}
						}
						random_province = {
							limit = {
								heavy_ships_in_province = ROOT
							}
							kill_units = {
								who = ROOT
								type = heavy_ship
								amount = 1
							}
						}
					}
					else_if = {
						limit = {
							any_province = {
								sea_zone = {
									heavy_ships_in_province = ROOT
								}
							}
						}
						random_province = {
							limit = {
								sea_zone = {
									heavy_ships_in_province = ROOT
								}
							}
							sea_zone = {
								kill_units = {
									who = ROOT
									type = heavy_ship
									amount = 1
								}
							}
						}
					}
					953 = {
						create_flagship = {	
							name = "Aghia Theotoke"
							type = heavy_ship
						}
					}
				}
				clr_country_flag = nhs_first_flagship
				clr_country_flag = nhs_first_flagship_fixed
			}
		}
		else = {
			capital_scope = {
				heavy_ship = NHS
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 1 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 2 } }
			}
			add_treasury = -15
			capital_scope = {
				light_ship = NHS
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 2 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 3 } }
			}
			add_treasury = -15
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 3 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 4 } }
			}
			add_treasury = -20
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 4 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 5 } }
			}
			add_treasury = -30
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 5 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 6 } }
			}
			add_treasury = -40
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 6 }
			}
			add_treasury = -50
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
	}
}

# Church gets power on your arrival
country_event = {
	id = nhs2_countryevents.1
	title = nhs2_countryevents.1.t
	desc = nhs2_countryevents.1.d
	picture = RELIGION_eventPicture

	is_triggered_only = yes

    trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		religion = orthodox
	}

	immediate = {
		hidden_effect = {
			set_country_flag = nhs_enable_estate_church
			if = {
				limit = {
					any_country = {
						exists = yes
						ai = yes
					}
				}
				random_country = {
					limit = {
						ai = yes
					}
					country_event = { id = nhs2_countryevents.1000 days = 1 }
				}
			}
			else = {
				country_event = { id = nhs2_countryevents.1000 days = 2 }
			}
		}
	}

	option = {
		name = "nhs2_countryevents.1.a"
		custom_tooltip = nhs_enables_church_estate_tt
		custom_tooltip = nhs_church_estate_initial_land_tt
		hidden_effect = {
			add_patriarch_authority = 1
			add_patriarch_authority = -0.5	
		}
		custom_tooltip = set_patriarch_authority_later_tt
	}
}

# Sets church land
country_event = {
	id = nhs2_countryevents.1000
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	picture = RELIGION_eventPicture

	is_triggered_only = yes
	hidden = yes

	immediate = {
		FROM = {
			change_estate_land_share = {
				estate = estate_church
				share = -100
			}
			change_estate_land_share = {
				estate = estate_church
				share = 20
			}
		}
	}

	option = {
		FROM = {
			change_estate_land_share = {
				estate = estate_church
				share = -100
			}
			change_estate_land_share = {
				estate = estate_church
				share = 20
			}
		}
	}
}

# Organising the masses
country_event = {
	id = nhs2_countryevents.24
	title = nhs2_countryevents.24.t
	desc = nhs2_countryevents.24.d
	picture = FARMING_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
	}

	immediate = {
		hidden_effect = {
			country_event = { id = nhs2_countryevents.25 days = 183 random = 20 }
		}
	}

	option = {
		name = "nhs2_countryevents.24.a"
		capital_scope = {
			add_base_tax = 1
		}
	}
	option = {
		name = "nhs2_countryevents.24.b"
		capital_scope = {
			add_base_production = 1
		}
	}
	option = {
		name = "nhs2_countryevents.24.c"
		capital_scope = {
			add_base_manpower = 1
		}
	}
}

# Militia Matters
country_event = {
	id = nhs2_countryevents.25
	title = nhs2_countryevents.25.t
	desc = nhs2_countryevents.25.d
	picture = elysian_army_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
	}

	immediate = {
		# set_country_flag = nhs_enable_estate_nhs_nobles
		hidden_effect = {
			# country_event = { id = nhs2_countryevents.23 days = 183 random = 20 }
			country_event = { id = nhs2_countryevents.26 days = 183 random = 20 }
			country_event = { id = nhs2_countryevents.27 days = 183 random = 20 }
			country_event = { id = nhs2_countryevents.73 days = 91 random = 10 }
		}
	}

	option = {
		name = "nhs2_countryevents.25.a"
		# if = {
		# 	limit = {
		# 		NOT = { has_country_flag = nhs_enable_estate_nhs_nobles }
		# 	}
		# 	custom_tooltip = nhs_enables_noble_estate_tt
		# 	set_country_flag = nhs_enable_estate_nhs_nobles
		# }
		capital_scope = {
			# add_base_tax = 2
			add_base_tax = 1
		}
	}
	option = {
		name = "nhs2_countryevents.25.b"
		# if = {
		# 	limit = {
		# 		NOT = { has_country_flag = nhs_enable_estate_nhs_nobles }
		# 	}
		# 	custom_tooltip = nhs_enables_noble_estate_tt
		# 	set_country_flag = nhs_enable_estate_nhs_nobles
		# }
		capital_scope = {
			# add_base_production = 2
			add_base_production = 1
		}
	}
	# option = {
	# 	name = "nhs2_countryevents.25.c"
	# 	custom_tooltip = nhs_enables_noble_estate_tt
	# 	capital_scope = {
	# 		add_base_tax = 1
	# 		add_base_production = 1
	# 	}
	# }
}


#  Nobles request housing and land for farming estates
# Now triggers upon gaining a second province
country_event = {
	id = nhs2_countryevents.23
	title = nhs2_countryevents.23.t
	desc = nhs2_countryevents.23.d
	picture = byz_COURT_eventPicture

	goto = nhs_noble_housing_target
	
	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		num_of_cities = 2
		has_estate = estate_nhs_nobles
		# NOT = { has_country_flag = nhs_no_new_world_crops }
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					NOT = { is_capital = yes }
				}
				save_event_target_as = nhs_noble_housing_target
			}
		}
	}

	# mean_time_to_happen = {
	# 	months = 6
	# }

	# immediate = {
	# 	hidden_effect = {
	# 		country_event = { id = nhs2_countryevents.26 days = 183 random = 20 }
	# 		country_event = { id = nhs2_countryevents.27 days = 183 random = 20 }
	# 	}
	# }

	option = {
		name = "nhs2_countryevents.23.a"
		change_estate_land_share = {
			estate = estate_nhs_nobles
			share = 25
		}
		event_target:nhs_noble_housing_target = {
			add_base_tax = 1
			add_base_production = 1
		}
		# capital_scope = {
		# 	add_base_tax = 1
		# 	add_base_production = 1
		# }
	}
	option = {
		name = "nhs2_countryevents.23.b"
		add_estate_loyalty = {
			estate = estate_nhs_nobles
			loyalty = -20
		}
		change_estate_land_share = {
			estate = estate_nhs_nobles
			share = 25
		}
		event_target:nhs_noble_housing_target = {
			add_base_tax = 1
			add_base_production = 1
		}
		# capital_scope = {
		# 	add_base_tax = 1
		# 	add_base_production = 1
		# }
		add_treasury = 75
		
	}
}

# # A Basic Temple
# country_event = {
# 	id = nhs2_countryevents.26
# 	title = nhs2_countryevents.26.t
# 	desc = nhs2_countryevents.26.d
# 	picture = OLYMPIANS_eventPicture

# 	fire_only_once = yes
# 	is_triggered_only = yes

# 	trigger = {
# 		religion_group = pagan
# 		nhs_condition_all_ely = { KOMANDA = tag }
# 		NOT = { has_country_flag = had_nhs2_countryevents26 }
# 		NOT = { has_country_flag = had_nhs2_countryevents27 }
# 	}

# 	immediate = {
# 		set_country_flag = had_nhs2_countryevents26
# 	}

# 	option = {
# 		name = "nhs2_countryevents.26.a"
# 		trigger = {
# 			capital_scope = {
# 				NOT = { has_building = temple }
# 				num_free_building_slots = 1
# 			}
# 		}
# 		add_treasury = -80
# 		capital_scope = {
# 			add_building = temple
# 		}
# 		add_country_modifier = {
# 			name = centralised_state
# 			duration = 3650
# 		}
# 	}
# 	option = {
# 		name = "nhs2_countryevents.26.e"
# 		trigger = {
# 			capital_scope = {
# 				NOT = { has_building = temple }
# 				num_free_building_slots = 1
# 			}
# 		}
# 		add_prestige = -5
# 		capital_scope = {
# 			add_building = temple
# 		}
# 	}
# 	option = {
# 		name = "nhs2_countryevents.26.c"
# 		add_prestige = -5
# 		capital_scope = {
# 			add_base_tax = 1
# 		}
# 	}
# }

# A Modest Church
country_event = {
	id = nhs2_countryevents.27
	title = nhs2_countryevents.27.t
	desc = nhs2_countryevents.27.d
	picture = ST_PETERS_CHURCH_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		religion_group = christian
		nhs_condition_all_ely = { KOMANDA = tag }
		NOT = { has_country_flag = had_nhs2_countryevents27 }
		NOT = { has_country_flag = had_nhs2_countryevents26 }
	}

	immediate = {
		set_country_flag = had_nhs2_countryevents27
	}

	option = {
		name = "nhs2_countryevents.27.a"
		trigger = {
			capital_scope = {
				NOT = { has_building = temple }
				num_free_building_slots = 1
			}
		}
		add_treasury = -80
		capital_scope = {
			add_building = temple
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 15
		}
	}
	option = {
		name = "nhs2_countryevents.27.e"
		trigger = {
			capital_scope = {
				NOT = { has_building = temple }
				num_free_building_slots = 1
			}
		}
		add_prestige = -5
		add_patriarch_authority = -0.05
		if = {
			limit = {
				has_estate = estate_church
			}
			add_estate_loyalty = {
				estate = estate_church
				loyalty = -10
			}
		}
		capital_scope = {
			add_building = temple
		}
	}
	option = {
		name = "nhs2_countryevents.27.c"
		add_patriarch_authority = -0.05
		if = {
			limit = {
				has_estate = estate_church
			}
			add_estate_loyalty = {
				estate = estate_church
				loyalty = -10
			}
			add_estate_influence_modifier = {
				estate = estate_church
				desc = EST_VAL_DENIED_CHURCH
				influence = -10
				duration = 3650
			}
		}
		capital_scope = {
			add_base_tax = 1
		}
	}
}

# Expanding city limits
# Could be reworked as a barbaroi estate event
# country_event = {
# 	id = nhs2_countryevents.28
# 	title = nhs2_countryevents.28.t
# 	desc = nhs2_countryevents.28.d
# 	picture = CITY_VIEW_eventPicture

# 	fire_only_once = yes

# 	trigger = {
# 		is_year = 1450
# 		num_of_cities = 4
# 		nhs_condition_all_ely = { KOMANDA = tag }
# 		NOT = { has_country_flag = had_nhs2_countryevents28 }
# 		NOT = { has_global_flag = nhs_started_at_bookmark }
# 	}

# 	immediate = {
# 		set_country_flag = had_nhs2_countryevents28
# 	}

# 	option = {
# 		name = "nhs2_countryevents.28.a"
# 		capital_scope = {
# 			add_base_tax = 2
# 			add_base_production = 2
# 			add_base_manpower = 2
# 		}
# 		every_country = {
# 			limit = {
# 				NOT = { border_distance = { who = ROOT distance = 100 } }
# 				technology_group = north_american
# 			}
# 			add_opinion = {
# 				who = ROOT
# 				modifier = nhs2_expansion
# 			}
# 		}
# 		set_country_flag = nhs_expanded_the_limits
# 	}
# 	option = {
# 		name = "nhs2_countryevents.28.b"
# 		capital_scope = {
# 			add_base_production = 1
# 			add_base_manpower = 1
# 		}
# 		add_treasury = 100
# 		add_adm_power = 10
# 		add_dip_power = 50
# 		add_mil_power = 50
# 		set_country_flag = nhs_didnot_expand_the_limits
# 	}
# }

###################################################
### APPALACHIAN EVENTS
###################################################

# pathways through the appalachian mountains, intro flavor
country_event = {
	id = nhs2_countryevents.3
	title = nhs2_countryevents3.t
	desc = nhs2_countryevents3.d
	picture = ROMAN_ROAD_eventPicture

	is_triggered_only = yes

	option = {
		name = "nhs2_countryevents3.a"
	}
}

# pathways through the appalachian mountains, provinces getting their paths
country_event = {
	id = nhs2_countryevents.4
	title = nhs2_countryevents4.t
	desc = nhs2_countryevents4.d
	picture = ROMAN_ROAD_eventPicture

	goto = nhs_appalachian_pathways_et

	trigger = {
		NOT = { has_country_flag = nhs_apworkstopped }
		has_country_flag = nhs_appalachian_pathways
		NOT = { has_country_modifier = nhs_timer_pathways }
		any_province = {
			OR = {
				owned_by = ROOT
				owner = {
					is_subject_of = ROOT
				}
			}
			OR = {
				province_id = 936
				province_id = 2548
				province_id = 2552
				province_id = 2553
				province_id = 2556
				province_id = 935
				province_id = 951
				province_id = 2555
			}
			NOT = { has_province_modifier = nhs_appalachian_pathways }
		}
	}
	
	mean_time_to_happen = {
		months = 24
		modifier = {
			factor = 0.9
			stability = 1
		}
		modifier = {
			factor = 0.9
			stability = 2
		}
		modifier = {
			factor = 0.75
			stability = 3
		}
		modifier = {
			factor = 0.9
			num_of_cities = 10
		}
		modifier = {
			factor = 0.9
			adm = 4
		}
		modifier = {
			factor = 1.2
			is_at_war = yes
		}	
		modifier = {
			factor = 1.5
			war_exhaustion = 2
		}
		modifier = {
			factor = 5
			war_exhaustion = 5
		}
		modifier = {
			factor = 20
			war_exhaustion = 10
		}		
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					any_owned_province = {
						OR = {
							province_id = 936
							province_id = 2548
							province_id = 2552
							province_id = 2553
							province_id = 2556
							province_id = 935
							province_id = 951
							province_id = 2555
						}
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
				random_owned_province = {
					limit = {
						OR = {
							province_id = 936
							province_id = 2548
							province_id = 2552
							province_id = 2553
							province_id = 2556
							province_id = 935
							province_id = 951
							province_id = 2555
						}
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
					save_event_target_as = nhs_appalachian_pathways_et
				}
			}
			else_if = {
				limit = {
					any_province = {
						owner = {
							is_subject_of = ROOT
						}
						OR = {
							province_id = 936
							province_id = 2548
							province_id = 2552
							province_id = 2553
							province_id = 2556
							province_id = 935
							province_id = 951
							province_id = 2555
						}
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
				random_province = {
					limit = {
						owner = {
							is_subject_of = ROOT
						}
						OR = {
							province_id = 936
							province_id = 2548
							province_id = 2552
							province_id = 2553
							province_id = 2556
							province_id = 935
							province_id = 951
							province_id = 2555
						}
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
					save_event_target_as = nhs_appalachian_pathways_et
				}
			}
			clr_country_flag = nhs_appalachian_pathways_cash1m
			clr_country_flag = nhs_appalachian_pathways_cash2m
			clr_country_flag = nhs_appalachian_pathways_admm
			clr_country_flag = nhs_appalachian_pathways_dipm
			clr_country_flag = nhs_appalachian_pathways_milm
			
			clr_country_flag = nhs_appalachian_pathways_cash1
			clr_country_flag = nhs_appalachian_pathways_cash2
			clr_country_flag = nhs_appalachian_pathways_cash3	
			clr_country_flag = nhs_appalachian_pathways_cash4
			clr_country_flag = nhs_appalachian_pathways_large_jewel
			
			random_list = {
				39 = { set_country_flag = nhs_appalachian_pathways_cash1 }
				29 = { set_country_flag = nhs_appalachian_pathways_cash2 }
				14 = { set_country_flag = nhs_appalachian_pathways_cash3 }
				13 = { set_country_flag = nhs_appalachian_pathways_cash4 }
				5 = { set_country_flag = nhs_appalachian_pathways_large_jewel }
			}
			random_list = {
				20 = { set_country_flag = nhs_appalachian_pathways_cash1m }
				20 = { set_country_flag = nhs_appalachian_pathways_cash2m }
				20 = { set_country_flag = nhs_appalachian_pathways_admm }
				20 = { set_country_flag = nhs_appalachian_pathways_dipm }
				20 = { set_country_flag = nhs_appalachian_pathways_milm }
			}
			set_country_flag = enable_bonus
			set_country_flag = enable_malus
			add_country_modifier = {
				name = nhs_timer_pathways
				duration = 365 # 1 year
				hidden = yes
			}
		}
	}
	
	option = {
		name = "nhs2_countryevents4.a"
		event_target:nhs_appalachian_pathways_et = {
			add_permanent_province_modifier = {
				name = "nhs_appalachian_pathways"
				duration = -1
			}
			add_base_tax = 1
			add_base_production = 1
		}
		add_adm_power = 10
		if = {
			limit = {
				any_neighbor_country = {
					OR = {
						technology_group = north_american
						technology_group = hellenised_american
					}
					has_opinion = { who = ROOT value = 100 }
				}
			}
			add_dip_power = 10
		}
	}
}

# Work stops couse of Natives
country_event = {
	id = nhs2_countryevents.5
	title = nhs2_countryevents5.t
	desc = nhs2_countryevents5.d
	picture = ROMAN_ROAD_eventPicture
	
	trigger = {
		has_country_flag = nhs_appalachian_pathways
		NOT = { has_country_flag = nhs_apworkstopped }
		NOT = { has_country_modifier = nhs_timer_pathways }
		NOT = { num_of_cities = 15 }
		any_province = {
			OR = {
				owned_by = ROOT
				owner = {
					is_subject_of = ROOT
				}
			}
			OR = {
				province_id = 936
				province_id = 2548
				province_id = 2552
				province_id = 2553
				province_id = 2556
				province_id = 935
				province_id = 951
				province_id = 2555
			}
			NOT = { has_province_modifier = nhs_appalachian_pathways }
		}
		NOT = {
			OR = {
				dip = 5
				any_known_country = {
					OR = {
						technology_group = north_american
						technology_group = hellenised_american
					}
					has_opinion = { who = ROOT value = 100 }
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 5
	}
	
	immediate = {
		set_country_flag = nhs_apworkstopped
	}

	option = {
		name = "nhs2_countryevents5.a"
	}
	
}

country_event = {
	id = nhs2_countryevents.6
	title = nhs2_countryevents6.t
	desc = nhs2_countryevents6.d
	picture = ROMAN_ROAD_eventPicture

	trigger = {
		has_country_flag = nhs_appalachian_pathways
		has_country_flag = nhs_apworkstopped
		NOT = { has_country_modifier = nhs_timer_pathways }
		OR = {
			dip = 5
			any_known_country = {
				OR = {
					technology_group = north_american
					technology_group = hellenised_american
				}
				has_opinion = { who = ROOT value = 100 }
			}
		}
		NOT = { num_of_cities = 15 }
		any_province = {
			OR = {
				owned_by = ROOT
				owner = {
					is_subject_of = ROOT
				}
			}
			OR = {
				province_id = 936
				province_id = 2548
				province_id = 2552
				province_id = 2553
				province_id = 2556
				province_id = 935
				province_id = 951
				province_id = 2555
			}
			NOT = { has_province_modifier = nhs_appalachian_pathways }
		}
	}
	
	mean_time_to_happen = {
		days = 1	
	}
	
	immediate = {
		clr_country_flag = nhs_apworkstopped
	}
	
	option = {
		name = "nhs2_countryevents6.a"		
	}
}

# pathways through the appalachian mountains, work back on track (cities)
country_event = {
	id = nhs2_countryevents.7
	title = nhs2_countryevents7.t
	desc = nhs2_countryevents7.d
	picture = ROMAN_ROAD_eventPicture

	trigger = {
		has_country_flag = nhs_appalachian_pathways
		has_country_flag = nhs_apworkstopped
		NOT = { has_country_modifier = nhs_timer_pathways }
		num_of_cities = 15
		any_province = {
			OR = {
				owned_by = ROOT
				owner = {
					is_subject_of = ROOT
				}
			}
			OR = {
				province_id = 936
				province_id = 2548
				province_id = 2552
				province_id = 2553
				province_id = 2556
				province_id = 935
				province_id = 951
				province_id = 2555
			}
			NOT = { has_province_modifier = nhs_appalachian_pathways }
		}
	}
	
	mean_time_to_happen = {
		days = 1	
	}
	
	immediate = {
		clr_country_flag = nhs_apworkstopped
	}
	
	option = {
		name = "nhs2_countryevents7.a"
	}
}

country_event = {
	id = nhs2_countryevents.8
	title = nhs2_countryevents8.t
	desc = nhs2_countryevents8.d
	picture = MINE_2_eventPicture

	trigger = {
		NOT = { has_country_flag = nhs_apworkstopped }
		NOT = { has_country_modifier = nhs_timer_pathways }
		has_country_flag = nhs_appalachian_pathways
		has_country_flag = enable_bonus
		any_province = {
			OR = {
				owned_by = ROOT
				owner = {
					is_subject_of = ROOT
				}
			}
			OR = {
				province_id = 936
				province_id = 2548
				province_id = 2552
				province_id = 2553
				province_id = 2556
				province_id = 935
				province_id = 951
				province_id = 2555
			}
			NOT = { has_province_modifier = nhs_appalachian_pathways }
		}
	}
	
	mean_time_to_happen = {
		months = 48
		modifier = {
			factor = 0.9
			stability = 1
		}
		modifier = {
			factor = 0.9
			stability = 2
		}
		modifier = {
			factor = 0.75
			stability = 3
		}
		modifier = {
			factor = 0.9
			num_of_cities = 10
		}
		modifier = {
			factor = 0.9
			adm = 4
		}
		modifier = {
			factor = 1.2
			is_at_war = yes
		}	
		modifier = {
			factor = 1.5
			war_exhaustion = 2
		}
		modifier = {
			factor = 5
			war_exhaustion = 5
		}
		modifier = {
			factor = 20
			war_exhaustion = 10
		}		
	}
	
	immediate = {
		clr_country_flag = enable_bonus
	}
	
	
	option = {
		name = "nhs2_countryevents8.a"
		trigger = {
			OR = {
				has_country_flag = nhs_appalachian_pathways_cash1
				has_country_flag = nhs_appalachian_pathways_cash2
				has_country_flag = nhs_appalachian_pathways_cash3
				has_country_flag = nhs_appalachian_pathways_cash4
			}
		}	
		if = {
			limit = {
				has_country_flag = nhs_appalachian_pathways_cash1
			}
			add_treasury = 50
		}
		else_if = {
			limit = {
				has_country_flag = nhs_appalachian_pathways_cash2
			}
			add_years_of_income = 0.1
			
		}
		else_if = {
			limit = {
				has_country_flag = nhs_appalachian_pathways_cash3
			}
			add_years_of_income = 0.2
			
		}
		else_if = {
			limit = {
				has_country_flag = nhs_appalachian_pathways_cash4
			}
			add_treasury = 100
			
		}
		add_prestige = 5
	}
	
	
	option = {
		name = "nhs2_countryevents8.b"
		trigger = {
			has_country_flag = nhs_appalachian_pathways_large_jewel
		}
		add_treasury = 300
		add_prestige = 15
	}
	
	after = {
		clr_country_flag = nhs_appalachian_pathways_cash1
		clr_country_flag = nhs_appalachian_pathways_cash2
		clr_country_flag = nhs_appalachian_pathways_cash3	
		clr_country_flag = nhs_appalachian_pathways_cash4
		clr_country_flag = nhs_appalachian_pathways_large_jewel
	}
}

# pathways through the appalachian mountains, incident (malus)
country_event = {
	id = nhs2_countryevents.9
	title = nhs2_countryevents9.t
	desc = nhs2_countryevents9.d
	picture = ANGRY_MOB_eventPicture

	trigger = {
		NOT = { has_country_flag = nhs_apworkstopped }
		NOT = { has_country_modifier = nhs_timer_pathways }
		has_country_flag = nhs_appalachian_pathways
		has_country_flag = enable_malus
		any_province = {
			OR = {
				owned_by = ROOT
				owner = {
					is_subject_of = ROOT
				}
			}
			OR = {
				province_id = 936
				province_id = 2548
				province_id = 2552
				province_id = 2553
				province_id = 2556
				province_id = 935
				province_id = 951
				province_id = 2555
			}
			NOT = { has_province_modifier = nhs_appalachian_pathways }
		}
	}
	
	mean_time_to_happen = {
		months = 48
		modifier = {
			factor = 0.9
			stability = 1
		}
		modifier = {
			factor = 0.9
			stability = 2
		}
		modifier = {
			factor = 0.75
			stability = 3
		}
		modifier = {
			factor = 0.9
			num_of_cities = 10
		}
		modifier = {
			factor = 0.9
			adm = 4
		}
		modifier = {
			factor = 1.2
			is_at_war = yes
		}	
		modifier = {
			factor = 1.5
			war_exhaustion = 2
		}
		modifier = {
			factor = 5
			war_exhaustion = 5
		}
		modifier = {
			factor = 20
			war_exhaustion = 10
		}		
	}
	
	
	immediate = {
		clr_country_flag = enable_malus
	}
	
	
	option = {
		name = "nhs2_countryevents9.a"
		trigger = {
			OR = {
				has_country_flag = nhs_appalachian_pathways_cash1m
				has_country_flag = nhs_appalachian_pathways_cash2m
			}
		}
		
		if = {
			limit = {
				has_country_flag = nhs_appalachian_pathways_cash1m
			}
			add_treasury = -50

		}
		else_if = {
			limit = {
				has_country_flag = nhs_appalachian_pathways_cash2m
			}
			add_years_of_income = -0.1	
		}
	}
	
	
	option = {
		name = "nhs2_countryevents9.b"
		trigger = {
			has_country_flag = nhs_appalachian_pathways_admm
		}
		add_adm_power = -30
	}
	
	
	option = {
		name = "nhs2_countryevents9.c"
		trigger = {
			has_country_flag = nhs_appalachian_pathways_dipm
		}
		add_dip_power = -30
	}
	
	
	option = {
		name = "nhs2_countryevents9.e"
		trigger = {
			has_country_flag = nhs_appalachian_pathways_milm
		}
		add_mil_power = -10
		add_manpower = -2
	}
	
	
	option = {
		name = "nhs2_countryevents9.f"
		custom_tooltip = nhs2_countryevents9_tooltip
		hidden_effect = {
			add_country_modifier = {
				name = nhs_timer_pathways
				duration = 1825 # 5 years
				hidden = yes
			}
		}
	}

	after = {
		clr_country_flag = nhs_appalachian_pathways_cash1m
		clr_country_flag = nhs_appalachian_pathways_cash2m
		clr_country_flag = nhs_appalachian_pathways_admm
		clr_country_flag = nhs_appalachian_pathways_dipm
		clr_country_flag = nhs_appalachian_pathways_milm
	}
	
}

# pathways through the appalachian mountains, finished
country_event = {
	id = nhs2_countryevents.10
	title = nhs2_countryevents10.t
	desc = nhs2_countryevents10.d
	picture = ROMAN_ROAD_eventPicture

	fire_only_once = yes
	
	trigger = {
		has_country_flag = nhs_appalachian_pathways
		936 = {
			has_province_modifier = nhs_appalachian_pathways
		}
		2548 = {
			has_province_modifier = nhs_appalachian_pathways
		}
		2552 = {
			has_province_modifier = nhs_appalachian_pathways
		}
		2553 = {
			has_province_modifier = nhs_appalachian_pathways
		}
		2556 = {
			has_province_modifier = nhs_appalachian_pathways
		}
		935 = {
			has_province_modifier = nhs_appalachian_pathways
		}
		951 = {
			has_province_modifier = nhs_appalachian_pathways
		}
		2555 = {
			has_province_modifier = nhs_appalachian_pathways
		}
	}
	
	option = {
		name = "nhs2_countryevents10.a"
		clr_country_flag = nhs_apworkstopped
		clr_country_flag = nhs_appalachian_pathways
		set_global_flag = nhs_appalachian_pathways1
		add_prestige = 20
		add_legitimacy = 10
		add_country_modifier = {
			name = "nhs2_colonial_boom"
			duration = 7300
		}
		# if = {
		# 	limit = {
		# 		any_owned_province = {
		# 			OR = {
		# 				has_province_modifier = nhs2_aqueducts5
		# 				has_province_modifier = nhs2_aqueducts4
		# 				has_province_modifier = nhs2_aqueducts2
		# 			}
		# 		}
		# 	}
		# 	every_owned_province = {
		# 		limit = {
		# 			OR = {
		# 				has_province_modifier = nhs2_aqueducts5
		# 				has_province_modifier = nhs2_aqueducts4
		# 				has_province_modifier = nhs2_aqueducts2
		# 			}
		# 		}
		# 		add_base_production = 1
		# 	}
		# }	
	}
}

# intro to AM events
country_event = {
	id = nhs2_countryevents.11
	title = nhs2_countryevents11.t
	desc = nhs2_countryevents11.d
	picture = SENATE_eventPicture
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		num_of_cities = 6
		NOT = { has_country_flag = nhs_appalachian_pathways_allowed }
		OR = {
			NOT = { has_global_flag = nhs_started_at_bookmark }
			is_year = 1481
		}
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = "nhs2_countryevents11.a"
		custom_tooltip = nhs_enable_appalachian_pathways_decision_tt
		set_country_flag = nhs_appalachian_pathways_allowed
	}
}


###################################################
### IDEA GROUPS SWITCH
###################################################

# Idea Group Choice
country_event = {
	id = nhs2_countryevents.29
	title = nhs2_countryevents.29.t
	desc = nhs2_countryevents.29.d
	picture = CITY_VIEW_eventPicture

	is_triggered_only = yes

	option = {
		name = "nhs2_countryevents.29.a"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				any_owned_province = {
					any_neighbor_province = {
						is_empty = yes
					}
				}
			}
			modifier = {
				factor = 2
				is_subject = yes
			}
			modifier = {
				factor = 1.2
				OR = {
					culture_group = elysian_group
					primary_culture = elysian
				}
			}
		}
		remove_idea_group = exploration_ideas
		add_idea_group = development_ideas
		hidden_effect = {
			add_idea = never_again_left_behind
		}

	}
	option = {
		name = "nhs2_countryevents.29.b"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				NOT = {
					any_owned_province = {
						any_neighbor_province = {
							is_empty = yes
						}
					}
				}
			}
			modifier = {
				factor = 0.5
				is_subject = yes
			}
			modifier = {
				factor = 10
				tag = CM1
				is_subject = yes
			}
		}
		trigger = {
			OR = {
				tag = VGD
				tag = CM1
				tag = SHQ
			}
		}
		remove_idea_group = exploration_ideas
		add_idea_group = discovery_ideas
		hidden_effect = {
			add_idea = prospecting_settlers
		}
	}
	option = {
		name = "nhs2_countryevents.29.c"
		ai_chance = {
			factor = 30
			modifier = {
				factor = 1.5
				any_owned_province = {
					any_neighbor_province = {
						owner = {
							OR = {
								technology_group = north_american
								technology_group = mesoamerican
								technology_group = south_american
								technology_group = andean
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				is_subject = yes
			}
			modifier = {
				factor = 2
				tag = VGD
				is_subject = no
				num_of_cities = 5
			}
			modifier = {
				factor = 2
				tag = SHQ
				is_subject = no
				num_of_cities = 5
				any_owned_province = {
					any_neighbor_province = {
						owner = {
							nhs_condition_all_ely = { KOMANDA = tag }
						}
					}
				}
			}
		}
		trigger = {
			OR = {
				tag = VGD
				tag = SHQ
			}
		}
		remove_idea_group = exploration_ideas
		add_idea_group = domination_ideas
		hidden_effect = {
			add_idea = spread_our_dominion
		}
	}
	option = {
		name = "nhs2_countryevents.29.e"
		hidden_effect = {
			remove_country_modifier = nhs_idea_swap_cooldown
		}
	}
}

###################################################
### CRETAN INHERITANCE
###################################################

# Cretan Question
country_event = {
	id = nhs2_countryevents.47
	title = nhs2_countryevents.47.t
	desc = nhs2_countryevents.47.d
	picture = ELYSIAN_HARBOUR_eventPicture
	
	fire_only_once = yes

	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		exists = CM1
		CM1 = {
			OR = {
				is_subject_of_type = elysian_subject
				is_subject_of_type = elysian_subject_non_exarch
			}
			is_subject_of = ROOT
		}
	}

	option = {
		name = "nhs2_countryevents.47.a"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				ruler_has_personality = conqueror_personality
			}
			modifier = {
				factor = 2
				ruler_has_personality = greedy_personality
			}
			modifier = {
				factor = 0.6
				ruler_has_personality = benevolent_personality
			}
			modifier = {
				factor = 0
				CM1 = { ai = no }
			}
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_country_flag = nhs_europe_discovered_got }
				}
				europe = {
					every_country = {
						limit = { tag = CM1 }
						undiscover_province = PREV
					}
				}
				africa = {
					every_country = {
						limit = { tag = CM1 }
						undiscover_province = PREV
					}
				}
				asia = {
					every_country = {
						limit = { tag = CM1 }
						undiscover_province = PREV
					}
				}
				european_seas_lakes = {
					every_country = {
						limit = { tag = CM1 }
						undiscover_province = PREV
					}
				}
				north_atlantic_region = {
					every_country = {
						limit = { tag = CM1 }
						undiscover_province = PREV
					}
				}
				mediterrenean_region = {
					every_country = {
						limit = { tag = CM1 }
						undiscover_province = PREV
					}
				}
				west_african_coast_sea_area = {
					every_country = {
						limit = { tag = CM1 }
						undiscover_province = PREV
					}
				}
			}
		}
		inherit = CM1
	}
	option = {
		name = "nhs2_countryevents.47.b"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				ruler_has_personality = benevolent_personality
			}
		}
		add_dip_power = 50
		set_global_flag = nhs_ctm_allowed_to_exist
		CM1 = {
			if = {
				limit = {
					num_of_colonists = 1
				}
				tooltip = {
					add_country_modifier = {
						name = "nhs_new_world"
						duration = -1
					}
					custom_tooltip = nhs_lose_mod_on_two_colonists_tt
				}
			}
			capital_scope = {
				province_event = { id = nhs_othersevents.54 }
			}
		}
	}
}

###################################################
### EVENTS THAT REMOVE MODIFIERS SINCE GOV. REFORMS CAN'T DO THAT
###################################################

# Remove modifiers #1
country_event = {
	id = nhs2_countryevents.65
	title = nhs2_countryevents.65.t
	desc = nhs2_countryevents.65.d
	picture = BATTLE_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_country_modifier = nhs2_patriarch_influences_minor
			}
			remove_country_modifier = nhs2_patriarch_influences_minor
		}
		if = {
			limit = {
				has_country_modifier = nhs2_patriarch_influences_major
			}
			remove_country_modifier = nhs2_patriarch_influences_major
		}
		if = {
			limit = {
				any_owned_province = {
					has_province_modifier = nhs2_patriarchate_land_capital
				}
			}
			random_owned_province = {
				limit = {
					has_province_modifier = nhs2_patriarchate_land_capital
				}
				remove_province_modifier = nhs2_patriarchate_land_capital
			}
		}
	}

	option = {
		name = "nhs2_countryevents.65.a"
	}
}

# Remove modifiers #2
country_event = {
	id = nhs2_countryevents.66
	title = nhs2_countryevents.66.t
	desc = nhs2_countryevents.66.d
	picture = BATTLE_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_country_modifier = rev_absolute_authority
			}
			remove_country_modifier = rev_absolute_authority
		}
	}

	option = {
		name = "nhs2_countryevents.66.a"
	}
}

###################################################
### SILK EVENTS
###################################################
# Starts the production of Skoros silk
country_event = {
	id = nhs2_countryevents.71
	title = nhs2_countryevents.71.t
	desc = nhs2_countryevents.71.d
	picture = WESTERNISATION_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		has_country_modifier = nhs_secrets_silk
	}

	option = {
		name = "nhs2_countryevents.71.a"
		capital_scope = {
			change_trade_goods = skoros_silk
		}
	}
}


# Discover clams for Elysian silk if you took the secret
country_event = {
	id = nhs2_countryevents.68
	title = nhs2_countryevents.68.t
	desc = nhs2_countryevents.68.d
	picture = caribbean_arrival_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		has_country_modifier = nhs_secrets_silk
		dip_tech = 6
		OR = {
			dip_tech = 8
			has_discovered = 1525
			has_discovered = 1503
			has_discovered = 1505
		}
	}
	
	immediate = {
		set_country_flag = nhs_discovered_new_source_of_silk
	}

	option = {
		name = "nhs2_countryevents.68.a"
		if = {
			limit = {
				NOT = { has_discovered = 1525 }
			}
			discover_province = 1525
		}
		if = {
			limit = {
				NOT = { has_discovered = 1503 }
			}
			discover_province = 1503
		}
		if = {
			limit = {
				NOT = { has_discovered = 1505 }
			}
			discover_province = 1505
		}
		if = {
			limit = {
				NOT = { has_discovered = 926 }
			}
			discover_province = 926
		}
		if = {
			limit = {
				NOT = { has_discovered = 2536 }
			}
			discover_province = 2536
		}
		if = {
			limit = {
				NOT = { has_discovered = 482 }
			}
			discover_province = 482
		}
		if = {
			limit = {
				NOT = { has_discovered = 484 }
			}
			discover_province = 484
		}
		if = {
			limit = {
				NOT = { has_discovered = 2656 }
			}
			discover_province = 2656
		}
		if = {
			limit = {
				NOT = { has_discovered = 2654 }
			}
			discover_province = 2654
		}
	}
}

###################################################
### BOOKS EVENTS
###################################################

# Delivering the books to Alexandrian Library
# country_event = {
# 	id = nhs2_countryevents.72
# 	title = nhs_wtfzeph.t
# 	desc = nhs_wtfzeph.d
# 	picture = ACCUSATION_eventPicture
	
# 	fire_only_once = yes
	
# 	trigger = {
# 		nhs_condition_all_ely = { KOMANDA = tag }
# 		has_country_modifier = nhs_secrets_books
# 		2554 = {
# 			owned_by = ROOT
# 			OR = {
# 				has_province_modifier = nhs_alexandrian_library_no_books_tm
# 				has_province_modifier = nhs_alexandrian_library_no_books_tm_decay
# 			}
# 		}
# 	}

# 	option = {
# 		name = "nhs_wtfzeph.a"
# 		exile_ruler_as = nhs_ignore
# 		remove_country_modifier = nhs_secrets_books
# 		custom_tooltip = nhs_upgrade_alexandrian_library_tt
# 		hidden_effect = {
# 			remove_province_triggered_modifier = nhs_alexandrian_library_no_books_tm
# 			add_province_triggered_modifier = nhs_alexandrian_library_tm
# 			if = {
# 				limit = {
# 					has_province_modifier = nhs_alexandrian_library_no_books_tm_decay
# 				}
# 				remove_province_triggered_modifier = nhs_alexandrian_library_no_books_tm_decay
# 				clr_province_flag = nhs_ei_alexandrian_library_no_books_decay
# 				set_province_flag = nhs_ei_alexandrian_library_decay
# 				add_province_triggered_modifier = nhs_alexandrian_library_tm_decay
# 			}
# 		}
# 	}
# }

###################################################
### VENETIAN EVENTS
###################################################

# Salvaging the fleet -alternate with Venetians
country_event = {
	id = nhs2_countryevents.69
	title = nhs2_countryevents.69.t
	desc = nhs2_countryevents.69.d
	picture = ELYSIAN_HARBOUR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		NOT = { has_global_flag = nhs_started_at_bookmark }
	}
	
	immediate = {
		hidden_effect = {
			country_event = { id = nhs2_countryevents.24 days = 400 random = 30 }
		}
	}

	option = {
		name = "nhs2_countryevents.69.a"
		highlight = yes
		trigger = {
			custom_trigger_tooltip = {
				tooltip = nhs_has_taken_venetians_shipwrights_tt
				has_country_flag = nhs_new_flight_taken_venetians
			}
		}
		capital_scope = {
			add_base_tax = 1
			add_base_production = 1
		}
		add_sailors = 1000
		add_country_modifier = {
			name = nhs2_kept_the_ships
			duration = 18250
		}
		if = {
			limit = {
				has_dlc = "Golden Century"
			}
			custom_tooltip = nhs_starting_flagship_fixed_tt
			hidden_effect = {
				# heavy_ship = NHS
				set_country_flag = nhs_first_flagship
				set_country_flag = nhs_first_flagship_fixed
				capital_scope = {
					if = {
						limit = {
							any_province = {
								heavy_ships_in_province = ROOT
							}
						}
						random_province = {
							limit = {
								heavy_ships_in_province = ROOT
							}
							kill_units = {
								who = ROOT
								type = heavy_ship
								amount = 1
							}
						}
					}
					else_if = {
						limit = {
							any_province = {
								sea_zone = {
									heavy_ships_in_province = ROOT
								}
							}
						}
						random_province = {
							limit = {
								sea_zone = {
									heavy_ships_in_province = ROOT
								}
							}
							sea_zone = {
								kill_units = {
									who = ROOT
									type = heavy_ship
									amount = 1
								}
							}
						}
					}
					953 = {
						create_flagship = {	
							name = "Aghia Theotoke"
							type = heavy_ship
						}
					}
				}
				clr_country_flag = nhs_first_flagship
				clr_country_flag = nhs_first_flagship_fixed
			}
		}
		else = {
			capital_scope = {
				heavy_ship = NHS
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 1 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 2 } }
			}
			capital_scope = {
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 2 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 3 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 3 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 4 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 4 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 5 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 5 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 6 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 6 }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
	}
	option = {
		name = "nhs2_countryevents.69.b"
		highlight = yes
		trigger = {
			custom_trigger_tooltip = {
				tooltip = nhs_has_taken_venetians_shipwrights_tt
				has_country_flag = nhs_new_flight_taken_venetians
			}
			capital_scope = {
				num_free_building_slots = 1
				NOT = {	has_building = fort_15th }
			}
		}
		capital_scope = {
			add_building = fort_15th
		}
		add_mil_power = 15
		add_sailors = 1000
		add_country_modifier = {
			name = nhs2_kept_the_ships
			duration = 18250
		}
		if = {
			limit = {
				has_dlc = "Golden Century"
			}
			custom_tooltip = nhs_starting_flagship_fixed_tt
			hidden_effect = {
				# heavy_ship = NHS
				set_country_flag = nhs_first_flagship
				set_country_flag = nhs_first_flagship_fixed
				capital_scope = {
					if = {
						limit = {
							any_province = {
								heavy_ships_in_province = ROOT
							}
						}
						random_province = {
							limit = {
								heavy_ships_in_province = ROOT
							}
							kill_units = {
								who = ROOT
								type = heavy_ship
								amount = 1
							}
						}
					}
					else_if = {
						limit = {
							any_province = {
								sea_zone = {
									heavy_ships_in_province = ROOT
								}
							}
						}
						random_province = {
							limit = {
								sea_zone = {
									heavy_ships_in_province = ROOT
								}
							}
							sea_zone = {
								kill_units = {
									who = ROOT
									type = heavy_ship
									amount = 1
								}
							}
						}
					}
					953 = {
						create_flagship = {	
							name = "Aghia Theotoke"
							type = heavy_ship
						}
					}
				}
				clr_country_flag = nhs_first_flagship
				clr_country_flag = nhs_first_flagship_fixed
			}
		}
		else = {
			capital_scope = {
				heavy_ship = NHS
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 1 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 2 } }
			}
			capital_scope = {
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 2 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 3 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 3 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 4 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 4 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 5 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 5 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 6 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 6 }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
	}
	
	option = {
		name = "nhs2_countryevents.69.c"
		highlight = yes
		trigger = {
			custom_trigger_tooltip = {
				tooltip = nhs_has_taken_venetians_shipwrights_tt
				has_country_flag = nhs_new_flight_taken_venetians
			}
		}
		if = {
			limit = {
				any_owned_province = {
					is_colony = yes
				}
			}
			random_owned_province = {
				limit = {
					is_colony = yes
				}
				add_colonysize = 200
				add_base_tax = 1
				add_base_production = 1
			}
		}
		else = {
			random_owned_province = {
				limit = {
					any_empty_neighbor_province = {
						nhs_homelands_no_capital = yes
					}
				}
				random_empty_neighbor_province = {
					create_colony = 200
					add_base_tax = 1
					add_base_production = 1
				}
			}
		}
		add_sailors = 1000
		add_country_modifier = {
			name = nhs2_kept_the_ships
			duration = 18250
		}
		if = {
			limit = {
				has_dlc = "Golden Century"
			}
			custom_tooltip = nhs_starting_flagship_fixed_tt
			hidden_effect = {
				set_country_flag = nhs_first_flagship
				set_country_flag = nhs_first_flagship_fixed
				capital_scope = {
					if = {
						limit = {
							any_province = {
								heavy_ships_in_province = ROOT
							}
						}
						random_province = {
							limit = {
								heavy_ships_in_province = ROOT
							}
							kill_units = {
								who = ROOT
								type = heavy_ship
								amount = 1
							}
						}
					}
					else_if = {
						limit = {
							any_province = {
								sea_zone = {
									heavy_ships_in_province = ROOT
								}
							}
						}
						random_province = {
							limit = {
								sea_zone = {
									heavy_ships_in_province = ROOT
								}
							}
							sea_zone = {
								kill_units = {
									who = ROOT
									type = heavy_ship
									amount = 1
								}
							}
						}
					}
					953 = {
						create_flagship = {	
							name = "Aghia Theotoke"
							type = heavy_ship
						}
					}
				}
				clr_country_flag = nhs_first_flagship
				clr_country_flag = nhs_first_flagship_fixed
			}
		}
		else = {
			capital_scope = {
				heavy_ship = NHS
			}
		}
		if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 1 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 2 } }
			}
			capital_scope = {
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 2 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 3 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 3 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 4 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 4 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 5 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 5 }
				NOT = { check_variable = { which = nhs_num_of_light_ships value = 6 } }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
		else_if = {
			limit = {
				check_variable = { which = nhs_num_of_light_ships value = 6 }
			}
			capital_scope = {
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
				light_ship = NHS
			}
		}
	}
}

# Establishment of Venetian Guild
country_event = {
	id = nhs2_countryevents.73
	title = nhs2_countryevents.73.t
	desc = {
		trigger = {
			has_country_flag = nhs_new_flight_sold_morea_to_venice
		}
		desc = nhs2_countryevents.73.da
	}
	desc = {
		trigger = {
			NOT = { has_country_flag = nhs_new_flight_sold_morea_to_venice }
		}
		desc = nhs2_countryevents.73.db
	}
	desc = nhs2_countryevents.73.d
	picture = nhs_ADVISOR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		has_country_flag = nhs_new_flight_taken_venetians
	}

	option = {
		name = "nhs2_countryevents.73.a"
		if = {
			limit = {
				has_country_flag = nhs_new_flight_sold_morea_to_venice
			}
			custom_tooltip = nhs_enables_venetian_guild_delfino_tt
		}
		else = {
			custom_tooltip = nhs_enables_venetian_guild_gabriele_tt
		}
		custom_tooltip = nhs_merchant_estate_improvements_tt
		if = {
			limit = {
				has_dlc = "Res Publica"
			}
			custom_tooltip = nhs_merchant_estate_improvements_trade_posts_tt
		}
		custom_tooltip = nhs_new_line_tt
		if = {
			limit = {
				capital_scope = {
					NOT = { has_building = marketplace }
				}
			}
			if = {
				limit = {
					capital_scope = {
						has_construction = marketplace
					}
				}
				add_treasury = 100
			}
			capital_scope = {
				add_building = marketplace
			}
		}
		else = {
			add_treasury = 100
		}
		set_country_flag = nhs_enable_venetian_merchant_estate
		hidden_effect = {
			if = {
				limit = {
					any_country = {
						exists = yes
						ai = yes
					}
				}
				random_country = {
					limit = {
						ai = yes
					}
					country_event = { id = nhs_mission_events.1001 days = 1 }
				}
			}
			else = {
				country_event = { id = nhs_mission_events.1001 days = 2 }
			}
		}
	}
}

# Sets merchants land
country_event = {
	id = nhs2_countryevents.1001
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	picture = RELIGION_eventPicture

	is_triggered_only = yes
	hidden = yes

	immediate = {
		FROM = {
			change_estate_land_share = {
				estate = estate_burghers
				share = -100
			}
			change_estate_land_share = {
				estate = estate_burghers
				share = 5
			}
		}
	}

	option = {
		FROM = {
			change_estate_land_share = {
				estate = estate_burghers
				share = -100
			}
			change_estate_land_share = {
				estate = estate_burghers
				share = 5
			}
		}
	}
}

###################################################
### WINTER EVENTS
###################################################

# Great Winter of 1445
country_event = {
	id = nhs2_countryevents.75
	title = nhs2_countryevents.75.t
	desc = nhs2_countryevents.75.d
	picture = FAMINE_eventPicture

	fire_only_once = yes
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		has_country_flag = nhs_colonial_troubles_major
		is_year = 1445
		is_month = 11
		NOT = { is_year = 1447 }
	}

	option = {
		name = "nhs2_countryevents.75.a"
		if = {
			limit = {
				has_country_flag = nhs_new_flightevents_lose_stats_storm
				has_heir = yes
			}
			change_heir_adm = -1
			change_heir_dip = -1
			clr_country_flag = nhs_new_flightevents_lose_stats_storm
		}
		kill_ruler = yes
		add_stability = -2
		custom_tooltip = nhs_new_line_tt
		custom_tooltip = nhs_reduce_colonisation_bonus_tt
		custom_tooltip = nhs_new_line_tt
		if = {
			limit = {
				has_country_modifier = nhs2_colonial_needs_2
			}
			custom_tooltip = nhs_replace_cn2_with_breakdown_tt
			hidden_effect = {
				remove_country_modifier = nhs2_colonial_needs_2
				add_country_modifier = {
					name = nhs2_breakdown_of_society
					duration = -1
				}
			}
		}
		else = {
			add_country_modifier = {
				name = nhs2_breakdown_of_society
				duration = -1
			}
		}
		add_country_modifier = {
			name = nhs2_colony_colapse
			duration = 730
		}
		hidden_effect = {
			country_event = { id = nhs2_countryevents.76 days = 45 }
		}
	}
}

# First Thanksgiving
country_event = {
	id = nhs2_countryevents.76
	title = nhs2_countryevents.76.t
	desc = nhs2_countryevents.76.d
	picture = nat_GOOD_WITH_MONARCH_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		# If none of those are true for some reason you are just screwed
		any_country = {
			NOT = { tag = POW }
			technology_group = north_american
			capital_scope = {
				OR = {
					area = chesapeake_area
					area = carolinas_area
					area = piedmont_north_america_area
					area = great_valley_area
					area = susquehanna_area
					area = delaware_valley_area
					area = hudson_valley_area
				}
			}
			NOT = { war_with = ROOT }
		}
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					exists = PIA
					NOT = { war_with = PIA }
				}
				PIA = {
					save_event_target_as = nhs_helpers_in_need_et
				}
			}
			else_if = {
				limit = {
					exists = LEN
					NOT = { war_with = LEN }
				}
				LEN = {
					save_event_target_as = nhs_helpers_in_need_et
				}
			}
			else_if = {
				limit = {
					exists = SUS
					NOT = { war_with = SUS }
				}
				SUS = {
					save_event_target_as = nhs_helpers_in_need_et
				}
			}
			else_if = {
				limit = {
					any_known_country = {
						NOT = { tag = POW }
						technology_group = north_american
						NOT = { war_with = ROOT }
					}
				}
				random_known_country = {
					limit = {
						NOT = { tag = POW }
						technology_group = north_american
						NOT = { war_with = ROOT }
					}
					save_event_target_as = nhs_helpers_in_need_et
				}
			}
			else_if = {
				limit = {
					any_country = {
						NOT = { tag = POW }
						technology_group = north_american
						capital_scope = {
							OR = {
								area = chesapeake_area
								area = carolinas_area
								area = piedmont_north_america_area
								area = great_valley_area
								area = susquehanna_area
								area = delaware_valley_area
								area = hudson_valley_area
							}
						}
						NOT = { war_with = ROOT }
					}
				}
				random_country = {
					limit = {
						NOT = { tag = POW }
						technology_group = north_american
						capital_scope = {
							OR = {
								area = chesapeake_area
								area = carolinas_area
								area = piedmont_north_america_area
								area = great_valley_area
								area = susquehanna_area
								area = delaware_valley_area
								area = hudson_valley_area
							}
						}
						NOT = { war_with = ROOT }
					}
					save_event_target_as = nhs_helpers_in_need_et
				}
			}
		}
	}

	option = {
		name = "nhs2_countryevents.76.a"
		add_stability = 1
		add_prestige = -30
		remove_country_modifier = nhs2_colony_colapse
		event_target:nhs_helpers_in_need_et = {
			add_opinion = {
				who = ROOT
				modifier = nhs_helped_in_need
			}
			add_historical_friend = ROOT
			reverse_add_opinion = {
				who = ROOT
				modifier = nhs_been_helped_in_need
			}
			# hidden_effect = {
				ROOT = {
					add_historical_friend = PREV
				}
			# }
		}
		custom_tooltip = nhs_nothing_stopping_from_breaking_treaty_tt
	}
}

###################################################
### TURK EVENTS
###################################################

# FRONTIER SKIRMISHES
country_event = {
	id = nhs2_countryevents.70
	title = nhs2_countryevents.70.t
	desc = nhs2_countryevents.70.d
	picture = tur_MILITARY_CAMP_eventPicture

	fire_only_once = yes
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		has_country_flag = nhs_new_flight_taken_turks
		num_of_cities = 2
		any_owned_province = {
			is_colony = yes
			colonysize = 400
		}
	}

	option = {
		name = "nhs2_countryevents.70.a"
		define_general = {
			name = "Orhan elebi"
			shock = 3
			fire = 3
			manuever = 2
			siege = 1
		}
		random_owned_province = {
			limit = {
				is_colony = yes
				colonysize = 400
			}
			infantry = ROOT
			infantry = ROOT
			add_colonysize = 400
			add_base_manpower = 2
		}
		every_province = {
			limit = {
				nhs_homelands_no_capital = yes
				OR = {
					is_colony = yes
					is_empty = yes
				}
			}
			change_native_ferocity = -10
			change_native_hostileness = -10
		}
	}
	
	option = {
		name = "nhs2_countryevents.70.b"
		define_advisor = {
			type = commandant
			name = "Orhan elebi"
			skill = 2
			culture = turkish
			religion = sunni
			cost_multiplier = 0.25
		}
		add_manpower = 2
		random_owned_province = {
			limit = {
				is_colony = yes
				colonysize = 400
			}
			add_colonysize = 400
			add_base_manpower = 2
		}
		every_province = {
			limit = {
				nhs_homelands_no_capital = yes
				OR = {
					is_colony = yes
					is_empty = yes
				}
			}
			change_native_ferocity = -10
			change_native_hostileness = -10
		}
	}
}
