namespace = nhs2_aievents

# AI colonisation help 1 - Elysia make a colony
country_event = {
	id = nhs2_aievents.1
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	picture = COLONIZATION_eventPicture
	
	trigger = {
		nhs_condition_all_ely = { KOMANDA = tag }
		ai = yes
		NOT = { num_of_colonies = 1 }
		NOT = { num_of_cities = 20 }
		is_subject = no
		num_of_colonists = 1
		NOT = { has_country_modifier = nhs2_ai_colonising_timer }
		any_owned_province = {
			has_empty_adjacent_province = yes
		}
	}

	mean_time_to_happen = {
		months = 6
	}

	immediate = {
		add_country_modifier = {
			name = nhs2_ai_colonising_timer
			duration = 20
			hidden = yes
		}
		if = {
			limit = {
				any_owned_province = {
					any_empty_neighbor_province = {
						nhs_homelands_no_capital = yes
					}
				}
			}
			random_owned_province = {
				limit = {
					any_empty_neighbor_province = {
						nhs_homelands_no_capital = yes
					}
				}
				random_empty_neighbor_province = {
					limit = {
						nhs_homelands_no_capital = yes
					}
					create_colony = 100
				}
			}
		}
		else_if = {
			limit = {
				any_owned_province = {
					any_empty_neighbor_province = {
						has_port = yes
					}
				}
			}
			random_owned_province = {
				limit = {
					any_empty_neighbor_province = {
						has_port = yes
					}
				}
				random_empty_neighbor_province = {
					limit = {
						has_port = yes
					}
					create_colony = 10
				}
			}
		}
		else = {
			random_owned_province = {
				limit = {
					any_empty_neighbor_province = {
						has_empty_adjacent_province = yes
					}
				}
				random_empty_neighbor_province = {
					create_colony = 10
				}
			}
		}
	}

	option = {
		name = nhs2_hidden.a
	}
}


# AI colonisation help 2 - Others make a colony
country_event = {
	id = nhs2_aievents.2
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	picture = COLONIZATION_eventPicture
	
	trigger = {
		OR = {
			tag = SHQ
			tag = CM1
		}
		is_subject = no
		ai = yes
		NOT = { num_of_colonies = 1 }
		NOT = { num_of_cities = 20 }
		num_of_colonists = 1
		NOT = { has_country_modifier = nhs2_ai_colonising_timer }
		any_owned_province = {
			has_empty_adjacent_province = yes
		}
		# OR = {
		# 	any_owned_province = {
		# 		has_empty_adjacent_province = yes
		# 	}
		# 	any_province = {
		# 		is_empty = yes
		# 		range = ROOT
		# 		has_discovered = ROOT
		# 		OR = {
		# 			has_port = yes
		# 			any_neighbor_province = {
		# 				OR = {
		# 					owned_by = ROOT
		# 					owner = {
		# 						is_colonial_nation_of = ROOT
		# 					}
		# 				}
		# 			}
		# 		}
		# 	}
		# }
	}

	mean_time_to_happen = {
		months = 6
	}

	immediate = {
		add_country_modifier = {
			name = nhs2_ai_colonising_timer
			duration = 20
			hidden = yes
		}
		if = {
			limit = {
				any_owned_province = {
					any_empty_neighbor_province = {
						has_port = yes
					}
				}
			}
			random_owned_province = {
				limit = {
					any_empty_neighbor_province = {
						has_port = yes
					}
				}
				random_empty_neighbor_province = {
					limit = {
						has_port = yes
					}
					create_colony = 10
				}
			}
		}
		else_if = {
			limit = {
				any_owned_province = {
					has_empty_adjacent_province = yes
				}
			}
			random_owned_province = {
				limit = {
					has_empty_adjacent_province = yes
				}
				random_empty_neighbor_province = {
					create_colony = 10
				}
			}
		}
		# else_if = {
		# 	limit = {
		# 		any_province = {
		# 			is_empty = yes
		# 			range = ROOT
		# 			has_discovered = ROOT
		# 			OR = {
		# 				has_port = yes
		# 				any_neighbor_province = {
		# 					OR = {
		# 						owned_by = ROOT
		# 						owner = {
		# 							is_colonial_nation_of = ROOT
		# 						}
		# 					}
		# 				}
		# 			}
		# 		}
		# 	}
		# 	random_province = {
		# 		limit = {
		# 			is_empty = yes
		# 			range = ROOT
		# 			has_discovered = ROOT
		# 			OR = {
		# 				has_port = yes
		# 				any_neighbor_province = {
		# 					OR = {
		# 						owned_by = ROOT
		# 						owner = {
		# 							is_colonial_nation_of = ROOT
		# 						}
		# 					}
		# 				}
		# 			}
		# 		}
		# 		create_colony = 10
		# 	}
		# }
	}

	option = {
		name = nhs2_hidden.a
	}
}