namespace = nhs2_ideagroupevents

# Bonus on climate provinces
country_event = {
	id = nhs2_ideagroupevents.3
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	picture = CITY_VIEW_eventPicture

	hidden = yes
	
    trigger = {
		OR = {
			AND = {
				has_idea = brave_the_elements
				NOT = { has_country_flag = nhs_has_enabled_brave_the_elements }
			}
			AND = {
				NOT = { has_idea = brave_the_elements }
				has_country_flag = nhs_has_enabled_brave_the_elements
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_idea = brave_the_elements
				NOT = { has_country_flag = nhs_has_enabled_brave_the_elements }
			}
			set_country_flag = nhs_has_enabled_brave_the_elements
			every_owned_province = {
				limit = {
					OR = {
						has_climate = tropical
						has_climate = arid
						has_climate = arctic
					}
					NOT = { has_province_modifier = nhs_brave_the_elements_modifier1 }
					NOT = { has_province_modifier = nhs_brave_the_elements_modifier2 }
				}
				if = {
					limit = {
						OR = {
							has_climate = tropical
							has_climate = arid
						}
					}
					add_province_modifier = {
						name = nhs_brave_the_elements_modifier1
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_climate = arctic
					}
					add_province_modifier = {
						name = nhs_brave_the_elements_modifier2
						duration = -1
					}
				}
			}
		}
		else_if = {
			limit = {
				NOT = { has_idea = brave_the_elements }
				has_country_flag = nhs_has_enabled_brave_the_elements
			}
			clr_country_flag = nhs_has_enabled_brave_the_elements
			every_owned_province = {
				limit = {
					OR = {
						has_province_modifier = nhs_brave_the_elements_modifier1
						has_province_modifier = nhs_brave_the_elements_modifier2
					}
				}
				remove_province_modifier = nhs_brave_the_elements_modifier1
				remove_province_modifier = nhs_brave_the_elements_modifier2
			}
		}
	}

	option = {
		name = "nhs2_hidden.a"
	}
}

# Grand forestries
country_event = {
	id = nhs2_ideagroupevents.10
	title = nhs2_ideagroupevents.10.t
	desc = nhs2_ideagroupevents.10.d
	picture = Woodcutters_eventPicture

	hidden = yes
	
    trigger = {
		OR = {
			AND = {
				has_idea = grand_forestries
				NOT = { has_country_flag = nhs_has_enabled_forestries }
			}
			AND = {
				NOT = { has_idea = grand_forestries }
				has_country_flag = nhs_has_enabled_forestries
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_idea = grand_forestries
					NOT = { has_country_flag = nhs_has_enabled_forestries }
				}
				set_country_flag = nhs_has_enabled_forestries
				every_owned_province = {
					if = {
						limit = {
							trade_goods = naval_supplies
						}
						add_province_modifier = { 
							name = nhs_grand_forestries_modifier
							duration = -1
							hidden = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = grand_forestries }
					has_country_flag = nhs_has_enabled_forestries
				}
				clr_country_flag = nhs_has_enabled_forestries
				every_owned_province = {
					if = {
						limit = {
							has_province_modifier = nhs_grand_forestries_modifier
						}
						remove_province_modifier = nhs_grand_forestries_modifier
					}
				}
			}
		}
	}

	option = {
		name = "nhs2_ideagroupevents.10.a"
	}
}