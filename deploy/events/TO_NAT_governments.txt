namespace = to_nat_governments

###################################################
### WAR CHIEF
###################################################

# War Chief
# War chiefs stats could be potentially determined by army tradition, but I just don't have time rn.
country_event = {
	id = to_nat_governments.1
	title = to_nat_governments.1.t
	desc = to_nat_governments.1.d
	picture = LAND_MILITARY_eventPicture
		
	trigger = {
		has_government_attribute = to_nat_has_war_chiefs
		NOT = { has_reform = to_native_reform_centralise_power }
		is_at_war = yes
		NOT = { has_country_flag = appointed_war_chief }
		NOT = { has_country_flag = to_declined_war_chief }
	}
	
	option = {
		name = to_nat_governments.1.a
		ai_chance = {
			factor = 1
		}
		set_country_flag = appointed_war_chief
		if = {
			limit = {
				has_country_flag = to_war_chief_exiled_@ROOT
				NOT = {
					had_country_flag = {
						flag = to_war_chief_exiled_@ROOT
						days = 3650
					}
				}
			}
			set_ruler = to_exiled_war_chief_@ROOT
			clr_country_flag = to_war_chief_exiled_@ROOT
		}
		else = {
			to_assign_war_chief = yes
		}
		# This does not restore ruler stats, neither does it assign them properly upon being run the first time
		# We can only hope AI makes the ruler into a general
		# convert_ruler_to_general = yes
		custom_tooltip = to_nat_warchief_becomes_general_tt
		clr_country_flag = to_war_chief_exiled_@ROOT
	}
	
	option = {
		name = to_nat_governments.1.b # The council shall retain the power
		add_dip_power = 10
		set_country_flag = to_declined_war_chief
		ai_chance = {
			factor = 0
		}
	}
}

#War Chief Dies, during war
country_event = {
	id = to_nat_governments.2
	title = to_nat_governments.2.t
	desc = to_nat_governments.2.d
	picture = DEATH_OF_HEIR_eventPicture

	is_triggered_only = yes
		
	trigger = {
		has_government_attribute = to_nat_has_war_chiefs
		is_at_war = yes
		has_country_flag = appointed_war_chief
		NOT = { has_country_flag = to_do_not_trigger_warchief_death }
	}

	immediate = {
		clr_country_flag = appointed_war_chief
	}
	
	option = {
		name = to_nat_governments.2.a
		ai_chance = {
			factor = 1
		}
		to_assign_war_chief = yes
		# convert_ruler_to_general = yes
		set_country_flag = appointed_war_chief
	}
	
	option = {
		name = to_nat_governments.2.b # The council shall retain the power
		to_assign_native_council = yes
		ai_chance = {
			factor = 0
		}
	}
}

# Removing War Chief
country_event = {
	id = to_nat_governments.3
	title = to_nat_governments.3.t
	desc = to_nat_governments.3.d
	picture = COURT_eventPicture
		
	trigger = {
		has_government_attribute = to_nat_has_war_chiefs
		is_at_war = no
		has_country_flag = appointed_war_chief
	}
	
	option = {
		name = to_nat_governments.3.a
		ai_chance = {
			factor = 1
		}
		# This is to prevent a case where he dies while this event is open
		if = {
			limit = {
				has_country_flag = appointed_war_chief
				NOT = { ruler_age = 50 }
				# If not republic, might as well not exile then -1 stability happens
				government = republic
			}
			# This is here because exiling a ruler causes on death election
			set_country_flag = to_do_not_trigger_warchief_death
			exile_ruler_as = to_exiled_war_chief_@ROOT
			set_country_flag = to_war_chief_exiled_@ROOT
			clr_country_flag = to_do_not_trigger_warchief_death
		}
		clr_country_flag = appointed_war_chief
		to_assign_native_council = yes
	}
	
	option = {
		name = to_nat_governments.3.b
		highlight = yes
		trigger = {
			has_reform = martial_society_reform
		}
		add_republican_tradition = -25
		ai_chance = {
			factor = 0
		}
	}
}

#War Chief Dies, after war
country_event = {
	id = to_nat_governments.4
	title = to_nat_governments.4.t
	desc = to_nat_governments.4.d
	picture = DEATH_OF_HEIR_eventPicture

	is_triggered_only = yes
		
	trigger = {
		has_government_attribute = to_nat_has_war_chiefs
		NOT = { has_country_flag = to_do_not_trigger_warchief_death }
		is_at_war = no
		has_country_flag = appointed_war_chief
	}

	immediate = {
		clr_country_flag = appointed_war_chief
	}
	
	option = {
		name = to_nat_governments.4.a # The council shall retain the power
		to_assign_native_council = yes
	}
}

###################################################
### Elections
###################################################

# Council Election
country_event = {
	id = to_nat_governments.5
	title = to_nat_governments.5.t
	desc = to_nat_governments.5.d
	picture = ELECTION_REPUBLICAN_eventPicture

	is_triggered_only = yes
		
	trigger = {
		OR = {
			has_reform = to_native_reform_consensus_government
			has_reform = to_native_reform_law_of_peace
		}
		has_reform = to_native_reform_elections
		NOT = { has_country_flag = appointed_war_chief }
	}
	
	option = {
		name = to_nat_governments.5.a
		add_scaled_republican_tradition = -7.5
		ai_chance = {
			factor = 1
		}
		to_native_council_election_assign_mana = {
			PRIMARY = adm
			SECONDARY = dip
			TERTIARY = mil
		}
	}
	
	option = {
		name = to_nat_governments.5.b
		add_scaled_republican_tradition = -7.5
		ai_chance = {
			factor = 1
		}
		to_native_council_election_assign_mana = {
			PRIMARY = dip
			SECONDARY = adm
			TERTIARY = mil
		}
	}

	option = {
		name = to_nat_governments.5.c
		add_scaled_republican_tradition = -7.5
		ai_chance = {
			factor = 1
		}
		to_native_council_election_assign_mana = {
			PRIMARY = mil
			SECONDARY = adm
			TERTIARY = dip
		}
	}

	option = {
		name = to_nat_governments.5.e
		ai_chance = {
			factor = 1
		}
		add_scaled_republican_tradition = 3.75
		if = {
			limit = {
				adm = 4
			}
			change_adm = -1
		}
		if = {
			limit = {
				dip = 4
			}
			change_dip = -1
		}
		if = {
			limit = {
				mil = 4
			}
			change_mil = -1
		}
		hidden_effect = {
			to_native_council_election_save_stats = yes
		}
	}
}

# Election for Great Chiefdom, republican
country_event = {
	id = to_nat_governments.6
	title = to_nat_governments.6.t
	desc = to_nat_governments.6.d
	picture = ELECTION_REPUBLICAN_eventPicture

	is_triggered_only = yes
		
	trigger = {
		has_reform = to_native_reform_grand_chiefdom
		has_reform = to_native_reform_elections
		NOT = { has_country_flag = appointed_war_chief }
	}

	immediate = {
		hidden_effect = {
			# Get cultures
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
				}
				save_event_target_as = first_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
					NOT = { has_province_flag = to_nat_election_culture_target }
				}
				save_event_target_as = second_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
					NOT = { has_province_flag = to_nat_election_culture_target }
				}
				save_event_target_as = third_ruler_alternative_province
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = first_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = first_ruler_alternative_province
				}
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = second_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = second_ruler_alternative_province
				}
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = third_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = third_ruler_alternative_province
				}
			}
			# Define Rulers
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_a_@ROOT
					random_gender = yes
					culture = event_target:first_ruler_alternative_province
					religion = event_target:first_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = 2
					dip = -1
					mil = -1
					option = 0
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_a_@ROOT
					culture = event_target:first_ruler_alternative_province
					religion = event_target:first_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = 2
					dip = -1
					mil = -1
					option = 0
				}
			}
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_b_@ROOT
					culture = event_target:second_ruler_alternative_province
					religion = event_target:second_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = -1
					dip = 2
					mil = -1
					random_gender = yes
					option = 1
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_b_@ROOT
					culture = event_target:second_ruler_alternative_province
					religion = event_target:second_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = -1
					dip = 2
					mil = -1
					option = 1
				}
			}
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_c_@ROOT
					culture = event_target:third_ruler_alternative_province
					religion = event_target:third_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = -1
					dip = -1
					mil = 2
					random_gender = yes
					option = 2
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_c_@ROOT
					culture = event_target:third_ruler_alternative_province
					religion = event_target:third_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = -1
					dip = -1
					mil = 2
					option = 2
				}
			}
			# Clear flags
			every_owned_province = {
				limit = {
					has_province_flag = to_nat_election_culture_target
				}
				clr_province_flag = to_nat_election_culture_target
			}
		}
	}
	
	option = {
		name = to_nat_governments.6.a
		ai_chance = {
			factor = 0
		}
		add_scaled_republican_tradition = -10
		random_list = {
			33 = {
				add_adm_power = 50
			}
			33 = {
				add_dip_power = 50
			}
			33 = {
				add_mil_power = 50
			}
		}
	}
	option = {
		name = to_nat_governments.6.b
		ai_chance = {
			factor = 0
		}
		add_scaled_republican_tradition = -10
		set_ruler = native_candidate_a_@ROOT
		custom_tooltip = to_nat_candidate_a_tt
	}
	option = {
		name = to_nat_governments.6.c
		ai_chance = {
			factor = 0
		}
		add_scaled_republican_tradition = -10
		set_ruler = native_candidate_b_@ROOT
		custom_tooltip = to_nat_candidate_b_tt
	}
	option = { # lottery
		name = to_nat_governments.6.f
		ai_chance = {
			factor = 90
		}
		random_list = {
			1 = {
				random_list = {
					33 = {
						add_adm_power = 50
					}
					33 = {
						add_dip_power = 50
					}
					33 = {
						add_mil_power = 50
					}
				}
			}
			1 = {
				set_ruler = native_candidate_a_@ROOT 
				custom_tooltip = to_nat_candidate_a_tt
			}
			1 = { 
				set_ruler = native_candidate_b_@ROOT
				custom_tooltip = to_nat_candidate_b_tt
			}
		}
	}
}

# Election upon death for Great Chiefdom, republican
country_event = {
	id = to_nat_governments.7
	title = to_nat_governments.7.t
	desc = to_nat_governments.7.d
	picture = ELECTION_REPUBLICAN_eventPicture

	is_triggered_only = yes
		
	trigger = {
		has_reform = to_native_reform_grand_chiefdom
		NOT = { has_reform = to_native_reform_ruling_dynasties }
		NOT = { has_country_flag = appointed_war_chief }
	}

	immediate = {
		hidden_effect = {
			# Get cultures
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
				}
				save_event_target_as = first_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
					NOT = { has_province_flag = to_nat_election_culture_target }
				}
				save_event_target_as = second_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
					NOT = { has_province_flag = to_nat_election_culture_target }
				}
				save_event_target_as = third_ruler_alternative_province
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = first_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = first_ruler_alternative_province
				}
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = second_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = second_ruler_alternative_province
				}
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = third_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = third_ruler_alternative_province
				}
			}
			# Define Rulers
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_a_@ROOT
					random_gender = yes
					culture = event_target:first_ruler_alternative_province
					religion = event_target:first_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = 2
					dip = -1
					mil = -1
					option = 0
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_a_@ROOT
					culture = event_target:first_ruler_alternative_province
					religion = event_target:first_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = 2
					dip = -1
					mil = -1
					option = 0
				}
			}
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_b_@ROOT
					culture = event_target:second_ruler_alternative_province
					religion = event_target:second_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = -1
					dip = 2
					mil = -1
					random_gender = yes
					option = 1
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_b_@ROOT
					culture = event_target:second_ruler_alternative_province
					religion = event_target:second_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = -1
					dip = 2
					mil = -1
					option = 1
				}
			}
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_c_@ROOT
					culture = event_target:third_ruler_alternative_province
					religion = event_target:third_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = -1
					dip = -1
					mil = 2
					random_gender = yes
					option = 2
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_c_@ROOT
					culture = event_target:third_ruler_alternative_province
					religion = event_target:third_ruler_alternative_province
					min_age = 50
					max_age = 65
					adm = -1
					dip = -1
					mil = 2
					option = 2
				}
			}
			# Clear flags
			every_owned_province = {
				limit = {
					has_province_flag = to_nat_election_culture_target
				}
				clr_province_flag = to_nat_election_culture_target
			}
		}
	}
	
	option = {
		name = to_nat_governments.7.a
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				NOT = { has_reform = to_native_reform_elections }
			}
			add_republican_tradition = -25
		}
		else = {
			add_scaled_republican_tradition = -10
		}
		set_ruler = native_candidate_a_@ROOT
		custom_tooltip = to_nat_candidate_a_tt
	}
	option = {
		name = to_nat_governments.7.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				NOT = { has_reform = to_native_reform_elections }
			}
			add_republican_tradition = -25
		}
		else = {
			add_scaled_republican_tradition = -10
		}
		set_ruler = native_candidate_b_@ROOT
		custom_tooltip = to_nat_candidate_b_tt
	}
	option = {
		name = to_nat_governments.7.c
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				NOT = { has_reform = to_native_reform_elections }
			}
			add_republican_tradition = -25
		}
		else = {
			add_scaled_republican_tradition = -10
		}
		set_ruler = native_candidate_c_@ROOT
		custom_tooltip = to_nat_candidate_c_tt
	}
	option = { # lottery
		name = to_nat_governments.7.e
		ai_chance = {
			factor = 90
		}
		# if = {
		# 	limit = {
		# 		NOT = {
		# 			government = republic
		# 		}
		# 	}
		# 	random_list = {
		# 		33 = {
		# 			add_adm_power = 50
		# 		}
		# 		33 = {
		# 			add_dip_power = 50
		# 		}
		# 		33 = {
		# 			add_mil_power = 50
		# 		}
		# 	}
		# }
		random_list = {
			33 = { 
				set_ruler = native_candidate_a_@ROOT 
				custom_tooltip = to_nat_candidate_a_tt
			}
			33 = { 
				set_ruler = native_candidate_b_@ROOT
				custom_tooltip = to_nat_candidate_b_tt
			}
			33 = { 
				set_ruler = native_candidate_c_@ROOT
				custom_tooltip = to_nat_candidate_c_tt
			}
		}
	}
}

# Elections upon death for Great Chiefdom, monarchical
country_event = {
	id = to_nat_governments.8
	title = to_nat_governments.8.t
	desc = to_nat_governments.8.d
	picture = ADVISOR_eventPicture

	is_triggered_only = yes
		
	trigger = {
		has_reform = to_native_reform_grand_chiefdom
		has_reform = to_native_reform_ruling_dynasties
		NOT = { has_country_flag = appointed_war_chief }
	}

	immediate = {
		hidden_effect = {
			# Get old ruler culture/religion
			export_to_variable = {
				variable_name = old_ruler_culture
				value = ruler_culture
			}
			export_to_variable = {
				variable_name = old_ruler_religion
				value = ruler_religion
			}
			# Get cultures
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
				}
				save_event_target_as = first_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
					NOT = { has_province_flag = to_nat_election_culture_target }
				}
				save_event_target_as = second_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = first_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = first_ruler_alternative_province
				}
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = second_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = second_ruler_alternative_province
				}
			}			
			# Clear flags
			every_owned_province = {
				limit = {
					has_province_flag = to_nat_election_culture_target
				}
				clr_province_flag = to_nat_election_culture_target
			}
		}
	}
	
	option = {
		name = to_nat_governments.8.a
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				check_variable = {
					which = to_nat_chiefdom_dinasty_counter
					value = 2
				}
			}
			to_define_monarchy_chieftain = {
				LEGITIMACY = 100
			}
		}
		else_if = {
			limit = { 
				check_variable = {
					which = to_nat_chiefdom_dinasty_counter
					value = 1
				}
			}
			to_define_monarchy_chieftain = {
				LEGITIMACY = 80
			}
		}
		else = {
			to_define_monarchy_chieftain = {
				LEGITIMACY = 60
			}
		}
		hidden_effect = {
			change_variable = {
				which = to_nat_chiefdom_dinasty_counter
				value = 1
			}
		}
	}
	option = {
		name = to_nat_governments.8.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				republic_with_female_rulers_trigger = yes
			}
			define_ruler = {
				random_gender = yes
				culture = event_target:first_ruler_alternative_province
				religion = event_target:first_ruler_alternative_province
				min_age = 50
				max_age = 65
				claim = 60
			}
		}
		else = {
			define_ruler = {
				culture = event_target:first_ruler_alternative_province
				religion = event_target:first_ruler_alternative_province
				min_age = 50
				max_age = 65
				claim = 60
			}
		}
		hidden_effect = {
			set_variable = {
				which = to_nat_chiefdom_dinasty_counter
				value = 1
			}
		}
	}
	option = {
		name = to_nat_governments.8.c
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				republic_with_female_rulers_trigger = yes
			}
			define_ruler = {
				culture = event_target:second_ruler_alternative_province
				religion = event_target:second_ruler_alternative_province
				min_age = 50
				max_age = 65
				random_gender = yes
				claim = 60
			}
		}
		else = {
			define_ruler = {
				culture = event_target:second_ruler_alternative_province
				religion = event_target:second_ruler_alternative_province
				min_age = 50
				max_age = 65
				claim = 60
			}
		}
		hidden_effect = {
			set_variable = {
				which = to_nat_chiefdom_dinasty_counter
				value = 1
			}
		}
	}
}

# Elections for Contralised Council
country_event = {
	id = to_nat_governments.9
	title = to_nat_governments.9.t
	desc = to_nat_governments.9.d
	picture = ELECTION_REPUBLICAN_eventPicture

	is_triggered_only = yes
		
	trigger = {
		OR = {
			has_reform = to_native_reform_consensus_government
			has_reform = to_native_reform_law_of_peace
		}
		has_reform = to_native_reform_centralise_power
		NOT = { has_country_flag = appointed_war_chief }
	}

	immediate = {
		hidden_effect = {
			# Get cultures
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
				}
				save_event_target_as = first_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
					NOT = { has_province_flag = to_nat_election_culture_target }
				}
				save_event_target_as = second_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = first_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = first_ruler_alternative_province
				}
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = second_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = second_ruler_alternative_province
				}
			}
			# Define Rulers
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_a_@ROOT
					random_gender = yes
					culture = event_target:first_ruler_alternative_province
					religion = event_target:first_ruler_alternative_province
					min_age = 40
					max_age = 60
					option = 0
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_a_@ROOT
					culture = event_target:first_ruler_alternative_province
					religion = event_target:first_ruler_alternative_province
					min_age = 40
					max_age = 60
					option = 0
				}
			}
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_b_@ROOT
					culture = event_target:second_ruler_alternative_province
					religion = event_target:second_ruler_alternative_province
					min_age = 40
					max_age = 60
					random_gender = yes
					option = 1
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_b_@ROOT
					culture = event_target:second_ruler_alternative_province
					religion = event_target:second_ruler_alternative_province
					min_age = 30
					max_age = 60
					option = 1
				}
			}
			# Clear flags
			every_owned_province = {
				limit = {
					has_province_flag = to_nat_election_culture_target
				}
				clr_province_flag = to_nat_election_culture_target
			}
		}
	}
	
	option = {
		name = to_nat_governments.9.a
		ai_chance = {
			factor = 1
		}
		change_statists_vs_orangists = 0.20
		random_list = {
			33 = {
				add_adm_power = 50
			}
			33 = {
				add_dip_power = 50
			}
			33 = {
				add_mil_power = 50
			}
		}
	}
	option = {
		name = to_nat_governments.9.b
		ai_chance = {
			factor = 1
		}
		set_ruler = native_candidate_a_@ROOT
		custom_tooltip = to_nat_candidate_a_tt
	}
	option = {
		name = to_nat_governments.9.c
		ai_chance = {
			factor = 1
		}
		set_ruler = native_candidate_b_@ROOT
		custom_tooltip = to_nat_candidate_b_tt
	}
	option = { # council
		name = to_nat_governments.9.e
		ai_chance = {
			factor = 1
		}
		change_statists_vs_orangists = -0.20
		if = {
			limit = {
				NOT = { has_ruler_flag = to_nat_has_native_council }
			}
			to_assign_native_council = yes
		}
	}
}

# Election upon death for Contralised Council
country_event = {
	id = to_nat_governments.10
	title = to_nat_governments.10.t
	desc = to_nat_governments.10.d
	picture = ELECTION_REPUBLICAN_eventPicture

	is_triggered_only = yes
		
	trigger = {
		OR = {
			has_reform = to_native_reform_consensus_government
			has_reform = to_native_reform_law_of_peace
		}
		has_reform = to_native_reform_centralise_power
		NOT = { has_country_flag = appointed_war_chief }
	}

	immediate = {
		hidden_effect = {
			# Get cultures
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
				}
				save_event_target_as = first_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
					NOT = { has_province_flag = to_nat_election_culture_target }
				}
				save_event_target_as = second_ruler_alternative_province
				set_province_flag = to_nat_election_culture_target
			}
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
					}
					NOT = { has_province_flag = to_nat_election_culture_target }
				}
				save_event_target_as = third_ruler_alternative_province
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = first_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = first_ruler_alternative_province
				}
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = second_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = second_ruler_alternative_province
				}
			}
			if = {
				limit = {
					NOT = { has_saved_event_target = third_ruler_alternative_province }
				}
				capital_scope = {
					save_event_target_as = third_ruler_alternative_province
				}
			}
			# Define Rulers
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_a_@ROOT
					random_gender = yes
					culture = event_target:first_ruler_alternative_province
					religion = event_target:first_ruler_alternative_province
					min_age = 40
					max_age = 60
					option = 0
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_a_@ROOT
					culture = event_target:first_ruler_alternative_province
					religion = event_target:first_ruler_alternative_province
					min_age = 40
					max_age = 60
					option = 0
				}
			}
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_b_@ROOT
					culture = event_target:second_ruler_alternative_province
					religion = event_target:second_ruler_alternative_province
					min_age = 40
					max_age = 60
					random_gender = yes
					option = 1
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_b_@ROOT
					culture = event_target:second_ruler_alternative_province
					religion = event_target:second_ruler_alternative_province
					min_age = 30
					max_age = 60
					option = 1
				}
			}
			if = {
				limit = {
					republic_with_female_rulers_trigger = yes
				}
				define_exiled_ruler = {
					exiled_as = native_candidate_c_@ROOT
					culture = event_target:third_ruler_alternative_province
					religion = event_target:third_ruler_alternative_province
					min_age = 30
					max_age = 60
					random_gender = yes
					option = 2
				}
			}
			else = {
				define_exiled_ruler = {
					exiled_as = native_candidate_c_@ROOT
					culture = event_target:third_ruler_alternative_province
					religion = event_target:third_ruler_alternative_province
					min_age = 30
					max_age = 60
					option = 2
				}
			}
			# Clear flags
			every_owned_province = {
				limit = {
					has_province_flag = to_nat_election_culture_target
				}
				clr_province_flag = to_nat_election_culture_target
			}
		}
	}
	
	option = {
		name = to_nat_governments.10.a
		ai_chance = {
			factor = 1
		}
		set_ruler = native_candidate_a_@ROOT
		custom_tooltip = to_nat_candidate_a_tt
	}
	option = {
		name = to_nat_governments.10.b
		ai_chance = {
			factor = 1
		}
		set_ruler = native_candidate_b_@ROOT
		custom_tooltip = to_nat_candidate_b_tt
	}
	option = {
		name = to_nat_governments.10.c
		ai_chance = {
			factor = 1
		}
		set_ruler = native_candidate_c_@ROOT
		custom_tooltip = to_nat_candidate_c_tt
	}
	option = { # council
		name = to_nat_governments.10.e
		ai_chance = {
			factor = 1
		}
		change_statists_vs_orangists = -0.20
		if = {
			limit = {
				NOT = { has_ruler_flag = to_nat_has_native_council }
			}
			to_assign_native_council = yes
		}
	}
}