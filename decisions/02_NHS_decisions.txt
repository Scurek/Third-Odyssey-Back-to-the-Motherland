country_decisions = {
	nhs_appalachian_pathways = {
		major = yes
		potential = {
			nhs_is_elysia = yes
			has_country_flag = nhs_appalachian_pathways_allowed
			NOT = {
				AND = {
					936 = {
						has_province_modifier = nhs_appalachian_pathways
					}
					2548 = {
						has_province_modifier = nhs_appalachian_pathways
					}
					2552 = {
						has_province_modifier = nhs_appalachian_pathways
					}
					2553 = {
						has_province_modifier = nhs_appalachian_pathways
					}
					2556 = {
						has_province_modifier = nhs_appalachian_pathways
					}
					935 = {
						has_province_modifier = nhs_appalachian_pathways
					}
					951 = {
						has_province_modifier = nhs_appalachian_pathways
					}
					2555 = {
						has_province_modifier = nhs_appalachian_pathways
					}
				}
			}
			NOT = { has_global_flag = nhs_appalachian_pathways1 }
			NOT = { has_country_flag = nhs_appalachian_pathways }
		}
		
		provinces_to_highlight = {
			OR = {
				province_id = 936
				province_id = 2548
				province_id = 2552
				province_id = 2553
				province_id = 2556
				province_id = 935
				province_id = 951
				province_id = 2555
			}
		}

		allow = {
			OR = {
				owns_or_subject_of = 936
				owns_or_subject_of = 2548
				owns_or_subject_of = 2552
				owns_or_subject_of = 2553
				owns_or_subject_of = 2556
				owns_or_subject_of = 935
				owns_or_subject_of = 951
				owns_or_subject_of = 2555
			}
			dip_power = 100
			adm_power = 100
			stability = 1
			OR = {
				num_of_cities = 20
				dip = 5
				any_known_country = {
					OR = {
						technology_group = north_american
						technology_group = hellenised_american
					}
					has_opinion = { who = ROOT value = 100 }
				}	
			}
		}

		effect = {
			set_country_flag = nhs_appalachian_pathways
			add_dip_power = -100
			add_adm_power = -100
			country_event = { id = nhs2_countryevents.3 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	nhs_appalachian_pathways_counter = {
		major = yes
		potential = {
			has_country_flag = nhs_appalachian_pathways
			NOT = { has_global_flag = nhs_appalachian_pathways1 }
			ai = no
		}
		
		provinces_to_highlight = {
			OR = {
				AND = {
					province_id = 936
					936 = {
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
				AND = {
					province_id = 2548
					2548 = {
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
				AND = {
					province_id = 2552
					2552 = {
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
				AND = {
					province_id = 2553
					2553 = {
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
				AND = {
					province_id = 2556
					2556 = {
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
				AND = {
					province_id = 935
					935 = {
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
				AND = {
					province_id = 951
					951 = {
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
				AND = {
					province_id = 2555
					2555 = {
						NOT = { has_province_modifier = nhs_appalachian_pathways }
					}
				}
			}
		}

		allow = {
			custom_trigger_tooltip = {
				always = no
				tooltip = nhs_appalachian_pathways_countert
			}
			936 = {
				has_province_modifier = nhs_appalachian_pathways
			}
			2548 = {
				has_province_modifier = nhs_appalachian_pathways
			}
			2552 = {
				has_province_modifier = nhs_appalachian_pathways
			}
			2553 = {
				has_province_modifier = nhs_appalachian_pathways
			}
			2556 = {
				has_province_modifier = nhs_appalachian_pathways
			}
			935 = {
				has_province_modifier = nhs_appalachian_pathways
			}
			951 = {
				has_province_modifier = nhs_appalachian_pathways
			}
			2555 = {
				has_province_modifier = nhs_appalachian_pathways
			}
		}

		effect = {
			if = {
				limit = {
					has_country_flag = nhs_apworkstopped
				}
				custom_tooltip = nhs_dec_apworkstoppedt
			}
			if = {
				limit = {
					has_country_modifier = nhs_timer_pathways
				}
				custom_tooltip = nhs_dec_nhs_timer_pathwayst
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	nhs2_the_invasion_begins = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			has_country_flag = nhs_cant_think_of_a_name
			OR = {
				NOT = { owns_or_vassal_of = 151 }
				any_known_country = {
					NOT = {
						AND = {
							culture_group = byzantine
							NOT = { primary_culture = turkish }
						}
					}
					any_owned_province = {
						culture = greek
					}
				}
			}
			NOT = { has_country_flag = nhs_invasion_begins }
			NOT = { has_country_flag = nhs_invasion_over }
			NOT = { has_country_flag = nhs_abandoned_greece }
		}

		allow = {
			technology_group = modern_greek
			dip_tech = 12
			OR = {
				mil_power = 50
				mil = 4
			}
		}

		effect = {
			if = {
				limit = {
					NOT = { mil = 4 }
				}
				add_mil_power = -50
			}
			country_event = { id = nhs2_mainlandevents.6 }
			hidden_effect = {
				if = {
					limit = {
						any_owned_province = {
							AND = {
								has_port = yes
								OR = {
									province_id = 1247
									province_id = 127
									province_id = 2986
									province_id = 124
									province_id = 125
									province_id = 2982
									province_id = 126
									province_id = 333
									province_id = 163
									province_id = 321
									province_id = 142
									province_id = 164
									province_id = 2348
									region = maghreb_region
									area = cap_verde_area
									province_id = 1114
									province_id = 1111
									province_id = 367
									province_id = 368
									province_id = 366
								}
							}
						}
					}
					country_event = { id = nhs2_mainlandevents.8 days = 2 }
				}
			}
			set_country_flag = nhs_invasion_begins
		}

		ai_will_do = {
			factor = 1
		}
	}

	nhs2_reset_claims = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			has_country_flag = nhs_supply_lines
			NOT = { has_country_flag = nhs_invasion_over }
			NOT = {
				any_owned_province = {
					AND = {
						has_port = yes
						OR = {
							province_id = 1247
							province_id = 127
							province_id = 2986
							province_id = 124
							province_id = 125
							province_id = 2982
							province_id = 126
							province_id = 333
							province_id = 163
							province_id = 321
							province_id = 142
							province_id = 164
							province_id = 2348
							region = maghreb_region
							area = cap_verde_area
							province_id = 1114
							province_id = 1111
							province_id = 367
							province_id = 368
							province_id = 366
						}
					}
				}
			}
		}

		allow = {
			#custom_trigger_tooltip = {
			#	tooltip = nhs_not_owns_supplies_tt
			#	
			#}
			NOT = {
				any_owned_province = {
					AND = {
						has_port = yes
						OR = {
							province_id = 1247
							province_id = 127
							province_id = 2986
							province_id = 124
							province_id = 125
							province_id = 2982
							province_id = 126
							province_id = 333
							province_id = 163
							province_id = 321
							province_id = 142
							province_id = 164
							province_id = 2348
							region = maghreb_region
							area = cap_verde_area
							province_id = 1114
							province_id = 1111
							province_id = 367
							province_id = 368
							province_id = 366
						}
					}
				}
			}
		}

		effect = {
			clr_country_flag = nhs_supply_lines
			custom_tooltip = nhs_supply_claimst
			add_mil_power = -50
			add_years_of_income = -0.1
			country_event = { id = nhs2_mainlandevents.7 }
			hidden_effect = {
				every_province = {
					limit = {
						AND = {
							has_port = yes
							OR = {
									province_id = 1247
									province_id = 127
									province_id = 2986
									province_id = 124
									province_id = 125
									province_id = 2982
									province_id = 126
									province_id = 333
									province_id = 163
									province_id = 321
									province_id = 142
									province_id = 164
									province_id = 2348
									region = maghreb_region
									area = cap_verde_area
									province_id = 1114
									province_id = 1111
									province_id = 367
									province_id = 368
									province_id = 366
								}
						}
					}
					remove_claim = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}


	nhs2_the_invasion_begins2 = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			has_country_flag = nhs_invasion_second_part
			NOT = { has_country_flag = nhs_invasion_second_part_begins }
			NOT = { has_country_flag = nhs_invasion_over }
			NOT = { has_country_flag = nhs_abandoned_greece }
			
		}
		allow = {
			technology_group = modern_greek
			OR = {
				NOT = { owns_or_vassal_of = 151 }
				any_known_country = {
					NOT = {
						AND = {
							culture_group = byzantine
							NOT = { primary_culture = turkish }
						}
					}
					any_owned_province = {
						culture = greek
					}
				}
			}
		}

		effect = {
			set_country_flag = nhs_invasion_second_part_begins
			country_event = { id = nhs2_mainlandevents.9 }
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	nhs2_request_constantinople = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			OR = {
				AND = {
					has_country_flag = nhs_invasion_second_part
					has_country_flag = nhs_invasion_second_part_begins
				}
				has_country_flag = nhs_invasion_over
			}
			NOT = { has_country_flag = nhs_abandoned_greece }
			NOT = { owns = 151 }
			151 = {
				owner = {
					NOT = { has_country_flag = nhs_got_constantinople_deal }
				}
			}
		}
		allow = {
			dip_power = 50
			151 = {
				owner = {
					culture_group = byzantine
				}
			}
		}

		effect = {
			add_dip_power = -50
			hidden_effect = {
				151 = {
					owner = {
						country_event = { id = nhs2_mainlandevents.32 days = 1 }
						set_country_flag = nhs_got_constantinople_deal
					}
				}
			}
			custom_tooltip = nhs_req_constantinople_country_event_tt
			custom_tooltip = nhs_new_line_tt
			if = {
				limit = {
					151 = {
						owner = {
							OR = {
								is_subject_of = ROOT
								AND = {
									NOT = { num_of_cities = 15 }
									has_opinion = { who = ROOT value = 180 }
								}
							}
						}
					}
				}
				if = {
					limit = {
						ai = no
					}
					custom_tooltip = nhs_constantinople_deal_agree_tt
				}
				hidden_effect = {
					151 = {
						owner = {
							set_country_flag = nhs_agree_to_the_deal
						}
					}
				}
			}
			else_if = {
				limit = {
					ai = no
				}
				custom_tooltip = nhs_constantinople_deal_disagree_tt
			}
			custom_tooltip = nhs_new_line_tt
			custom_tooltip = nhs_successfull_constantinople_deal_tt
			tooltip = {
				151 = {
					cede_province = ROOT
					add_core = ROOT
					owner = {
						remove_core = 151
						reverse_add_opinion = {
							who = ROOT
							modifier = nhs_constantinople_deal_op
						}
						ROOT = {
							add_truce_with = PREV
						}
					}
				}
			}
			custom_tooltip = nhs_new_line_tt
			custom_tooltip = nhs_unsuccessfull_constantinople_deal_tt
			tooltip = {
				151 = {
					add_permanent_claim = ROOT
					owner = {
						reverse_add_opinion = {
							who = ROOT
							modifier = nhs_no_constantinople_deal_op
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	nhs2_reset_bo = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			has_country_flag = nhs_bo
			NOT = {
				OR = {
					AND = {
						has_country_flag = nhs_bo_athens
						owns = 146
					}
					AND = {
						has_country_flag = nhs_bo_macedonia
						owns = 148
					}
					AND = {
						has_country_flag = nhs_bo_sparta
						owns = 145
					}
					AND = {
						has_country_flag = nhs_bo_rhodes
						owns = 320
					}
				}
			}
		}

		allow = {
			if = {
				limit = {
					has_country_flag = nhs_bo_athens
				}
				NOT = { owns = 146 }
			}
			else_if = {
				limit = {
					has_country_flag = nhs_bo_macedonia
				}
				NOT = { owns = 148 }
			}
			else_if = {
				limit = {
					has_country_flag = nhs_bo_sparta
				}
				NOT = { owns = 145 }
			}
			else_if = {
				limit = {
					has_country_flag = nhs_bo_rhodes
				}
				NOT = { owns = 320 }
			}
		}

		effect = {
			clr_country_flag = nhs_bo
			clr_country_flag = nhs_bo_athens
			clr_country_flag = nhs_bo_macedonia
			clr_country_flag = nhs_bo_sparta
			clr_country_flag = nhs_bo_rhodes
			add_mil_power = -50
			add_years_of_income = -0.1
			if = {
				limit = {
					has_country_flag = nhs_bo_athens
				}
				remove_core = 146
			}
			if = {
				limit = {
					has_country_flag = nhs_bo_macedonia
				}
				remove_core = 148
			}
			if = {
				limit = {
					has_country_flag = nhs_bo_sparta
				}
				remove_core = 145
			}
			if = {
				limit = {
					has_country_flag = nhs_bo_rhodes
				}
				remove_core = 320
			}
			hidden_effect = {
				country_event = { id = nhs2_mainlandevents.9 }
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

#	nhs_missionaries_pantheon = {
#		major = yes
#		potential = {
#			NOT = { has_dlc = "The Cossacks" }
#			OR = {
#				nhs_is_elysia = yes
#				num_of_cities = 20
#			}
#			religion = pantheon_worship
#			has_global_flag = nhs_heralds_enabled
#			has_country_flag = nhs_heralds_enabledc
#			has_country_flag = nhs_open_herald_dec
#			any_known_country = {
#				religion = totemism
#				NOT = {
#					OR = {
#						AND = {
#							tag = CAK
#							NOT = { exists = GCC }
#						}
#						tag = GCC
#					}
#				}
#			}
#			#NOT = { has_country_modifier = nhs2_missionaries_cooldown }
#		}
#
#		allow = {
#			has_heralds = yes
#			has_no_decision = yes
#			any_known_country = {
#				custom_trigger_tooltip = {
#					tooltip = nhs_is_totemist_tt
#					religion = totemism
#				}
#				custom_trigger_tooltip = {
#					tooltip = nhs_not_recently_send_missionaries_to_tt
#					NOT = { has_country_modifier = nhs2_missionaries_cooldown_target }
#				}
#				NOT = { border_distance = { who = ROOT distance = 200 } }
#				NOT = { war_with = ROOT }
#			}
#			OR = {
#				adm = 3
#				dip = 3
#				dip_power = 25
#				has_personal_deity = Zeus
#			}
#		}
#
#		effect = {
#			if = {
#				limit = {
#					NOT = {
#						OR = {
#							adm = 3
#							dip = 3
#							has_personal_deity = Zeus
#						}
#					}
#				}
#				add_dip_power = -25
#			}
#			custom_tooltip = nhs_herald_missionary_tooltip
#			#set_country_flag = nhs_herals_open_decision
#			hidden_effect = {
#				#add_country_modifier = {
#				#	name = nhs2_missionaries_cooldown
#				#	duration = 1825
#				#	hidden = yes
#				#}
#				nhs_set_herald_7300 = yes
#				random_country = {
#					limit = {
#						religion = totemism
#						NOT = { has_country_modifier = nhs2_missionaries_cooldown_target }
#						NOT = { war_with = FROM }
#						NOT = { border_distance = { who = ROOT distance = 200 } }
#						NOT = {
#							OR = {
#								AND = {
#									tag = CAK
#									NOT = { exists = GCC }
#								}
#								tag = GCC
#							}
#						}	
#					}
#					add_country_modifier = {
#						name = nhs2_missionaries_cooldown_target
#						duration = 1825
#						hidden = yes
#					}
#					country_event = { id = nhs2_religionevents.6 }
#				}
#			}
#			custom_tooltip = nhs_specific_way_hellenic
#		}
#
#		ai_will_do = {
#			factor = 1
#		}
#	}

	nhs_missionaries_orthodox = {
		major = yes
		potential = {
			OR = {
				capital_scope = {
					continent = north_america
				}
				capital_scope = {
					continent = south_america
				}
			}
			OR = {
				nhs_is_elysia = yes
				num_of_cities = 20
			}
			religion = elysian_orthodoxy
			any_known_country = {
				religion = totemism
				OR = {
					capital_scope = {
						continent = north_america
					}
					capital_scope = {
						continent = south_america
					}
				}
				#NOT = {
				#	OR = {
				#		AND = {
				#			tag = CAK
				#			NOT = { exists = GCC }
				#		}
				#		tag = GCC
				#	}
				#}
			}
		}

		allow = {
			religion = elysian_orthodoxy
			any_known_country = {
				custom_trigger_tooltip = {
					tooltip = nhs_is_totemist_tt
					religion = totemism
				}
				has_opinion = { who = ROOT value = 0 }
				NOT = { war_with = ROOT }
				NOT = { border_distance = { who = ROOT distance = 200 } }
				custom_trigger_tooltip = {
					tooltip = nhs_not_recently_send_missionaries_to_tt
					NOT = { has_country_modifier = nhs2_missionaries_cooldown_target }
				}
			}
			OR = {
				adm = 3
				dip = 3
				patriarch_authority = 0.75
				dip_power = 25
			}
			custom_trigger_tooltip = {
				NOT = { has_country_modifier = nhs2_missionaries_cooldown }
				tooltip = missionary_cooldown_tooltip
			}
		}

		effect = {
			if = {
				limit = {
					NOT = {
						OR = {
							adm = 3
							dip = 3
							patriarch_authority = 0.75
						}
					}
				}
				add_dip_power = -25
			}
			custom_tooltip = nhs_herald_missionary_tooltip
			hidden_effect = {
				add_country_modifier = {
					name = nhs2_missionaries_cooldown
					duration = 1825
					hidden = yes
				}
				random_country = {
					limit = {
						religion = totemism
						NOT = { border_distance = { who = ROOT distance = 200 } }
						has_opinion = { who = ROOT value = 0 }
						NOT = { has_country_modifier = nhs2_missionaries_cooldown_target }
					}
					add_country_modifier = {
						name = nhs2_missionaries_cooldown_target
						duration = 3650
						hidden = yes
					}
					country_event = { id = nhs2_religionevents.10 }
				}
			}
			custom_tooltip = nhs_specific_way_orthodox_tt
		}

		ai_will_do = {
			factor = 1
		}
	}

#	nhs_settling_counter = {
#		major = yes
#		potential = {
#			has_country_modifier = nhs_handicap_settlers
#			nhs_is_elysia = yes
#		}
#
#		allow = {
#			OR = {
#				is_year = 1520
#				custom_trigger_tooltip = {
#					has_country_flag = nhs_aqueducts_finished
#					tooltip = nhs_settling_counteraque
#				}
#				AND = {
#					is_year = 1500
#					num_of_cities = 5
#					stability = 1
#				}
#			}
#		}
#
#		effect = {
#			country_event = { id = nhs_countryevents.7 }
#			tooltip = {
#				remove_country_modifier = nhs_handicap_settlers
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#		}
#		ai_importance = 300
#	}

	nhs_make_athens_capital = {
		potential = {
			tag = ELG
			owns = 146
			NOT = { capital = 146 }
		}
		allow = {
			controls = 146
		}
		effect = {
			add_stability = 1
			146 = {
				move_capital_effect = yes
			}
			add_core = 146
			146 = {
				if = {
					limit = {
						NOT = { culture = greek }
					}
					change_culture = greek
				}
				change_religion = ROOT
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	nhs_lakonian_spartans = {

		potential = {
			NOT = { has_country_flag = nhs_lakonians_appeared }
			culture_group = elysian_group
			any_owned_province = {
				OR = {
					region = central_america_region
					province_group = mesoamerica_pgroup
				}
				culture_group = spartakian_group
				is_colony = no
			}
			culture_group = elysian_group
			is_year = 1500
			had_global_flag = { flag = nhs_lakonians_appear days = 1095 }
		}

		allow = {
			culture_group = elysian_group
			any_owned_province = {
				culture_group = spartakian_group
			}
			custom_trigger_tooltip = {
				NOT = {
					any_province = {
						OR = {
							region = central_america_region
							province_group = mesoamerica_pgroup
						}
						culture_group = spartakian_group
						NOT = { owned_by = ROOT }
					}
				}
				tooltip = nhs_laco_spa_tooltip
			}
		}

		effect = {
			set_country_flag = nhs_lakonians_appeared
			hidden_effect = {
				every_owned_province = {
					limit = {
						culture_group = spartakian_group
					}
					change_culture = lakonian
					add_local_autonomy = 10
					if = {
						limit = {
							NOT = { ROOT = { has_country_flag = nhs_expanding_south_complete } }
						}
						add_province_modifier = {
							name = nhs2_spartan_independence
							duration = -1
						}
						add_unrest = 10
						add_local_autonomy = 10
					}
				}
			}
			custom_tooltip = nhs_lakonian_tooltip
		}
	}

	# nhs_province_development_hide = {
		# #major = yes
		# potential = {
			# num_of_cities = 20
			# ai = no
			# NOT = { has_country_flag = nhs_hide_development }
			# OR = {
				# nhs_is_elysia = yes
				# culture_group = elysian_group
				# culture_group = spartakian_group
				# culture_group = norse_g
			# }
		# }

		# allow = {
			# custom_trigger_tooltip = {
				# NOT = { has_country_modifier = province_development_hide_cooldown }
				# tooltip = province_development_hide_ttooltip
			# }
		# }

		# effect = {
			# set_country_flag = nhs_hide_development
			# custom_tooltip = province_development_hide_tooltip
			# hidden_effect = {
				# add_country_modifier = {
					# name = province_development_hide_cooldown
					# duration = 365
					# hidden = yes
				# }
			# }
		# }

		# ai_will_do = {
			# factor = 0
		# }
	# }
	nhs_province_development_show = {
		#major = yes
		potential = {
			num_of_cities = 20
			ai = no
			has_country_flag = nhs_hide_development
		}

		allow = {
			custom_trigger_tooltip = {
				NOT = { has_country_modifier = province_development_hide_cooldown }
				tooltip = province_development_hide_ttooltip
			}
		}

		effect = {
			clr_country_flag = nhs_hide_development
			custom_tooltip = province_development_show_tooltip
			hidden_effect = {
				add_country_modifier = {
					name = province_development_hide_cooldown
					duration = 365
					hidden = yes
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	nhs_looking_east = {
		potential = {
			OR = {
				has_idea = controlled_treasury
				has_idea = old_world_diplomacy
				has_idea = ideology_of_superiority
			}
			NOT = { has_idea_group = exploration_ideas }
		}

		allow = {
			OR = {
				full_idea_group = development_ideas
				full_idea_group = discovery_ideas
				full_idea_group = domination_ideas
			}
			OR = {
				technology_group = modern_greek
				technology_group = modern_spartan
				technology_group = modern_vinlandic
				technology_group = western
			}
			custom_trigger_tooltip = {
				tooltip = nhs_idea_swap_cooldown_t
				NOT = {
					has_country_modifier = nhs_idea_swap_cooldown
				}
			}
		}

		effect = {
			if = {
				limit = {
					has_idea_group = development_ideas
				}
				remove_idea_group = development_ideas
			}
			if = {
				limit = {
					has_idea_group = discovery_ideas
				}
				remove_idea_group = discovery_ideas
			}
			if = {
				limit = {
					has_idea_group = domination_ideas
				}
				remove_idea_group = domination_ideas
			}
			add_idea_group = exploration_ideas
			if = {
				limit = {
					NOT = {
						has_country_flag = nhs_ideas_unlocked
					}
				}
				#custom_tooltip = idea_groups_unlocked
				set_country_flag = nhs_ideas_unlocked
			}
			hidden_effect = {
				add_idea = global_empire
				if = {
					limit = {
						has_country_flag = nhs_first_swap
					}
					add_country_modifier = {
						name = nhs_idea_swap_cooldown
						duration = 18250
						hidden = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	nhs_back_to_the_roots = {
		potential = {
			full_idea_group = exploration_ideas
			NOT = { has_idea_group = development_ideas }
			NOT = { has_idea_group = discovery_ideas }
			NOT = { has_idea_group = domination_ideas }
			OR = {
				nhs_is_elysia = yes
				tag = MSN
				tag = MSG
				tag = SHQ
				tag = CM1
				tag = MK1
				tag = HLL
				tag = VIN
				tag = JOM
				tag = VGD
				culture_group = elysian_group
				culture_group = norse_g
				culture_group = spartakian_group
			}
		}

		allow = {
			OR = {
				technology_group = modern_greek
				technology_group = modern_spartan
				technology_group = modern_vinlandic
			}
		}

		effect = {
			if = {
				limit = {
					NOT = { tag = SHQ }
					NOT = { tag = CM1 }
					OR = {
						nhs_is_elysia = yes
						culture_group =  elysian_group
						primary_culture = elysian
					}
				}
				remove_idea_group = exploration_ideas
				add_idea_group = development_ideas
				hidden_effect = {
					add_idea = never_again_left_behind
				}
			}
			if = {
				limit = {
					NOT = { tag = VGD }
					OR = {
						tag = MK1
						tag = HLL
						tag = VIN
						tag = JOM
						culture_group =  norse_g
					}
				}
				remove_idea_group = exploration_ideas
				add_idea_group = discovery_ideas
				hidden_effect = {
					add_idea = prospecting_settlers
				}
			}
			if = {
				limit = {
					OR = {
						tag = MSN
						tag = MSG
						culture_group =  spartakian_group
					}
				}
				remove_idea_group = exploration_ideas
				add_idea_group = domination_ideas
				hidden_effect = {
					add_idea = spread_our_dominion
				}
			}
			if = {
				limit = {
					OR = {
						tag = SHQ
						tag = VGD
						tag = CM1
					}
				}
				country_event = { id = nhs2_countryevents.29 }
			}
			hidden_effect = {
				add_country_modifier = {
					name = nhs_idea_swap_cooldown
					duration = 18250
					hidden = yes
				}
			}
			set_country_flag = nhs_first_swap
		}

		ai_will_do = {
			factor = 1
		}
	}

	nhs_revoke_native_privileges = {
		potential = {
			OR = {
				nhs_is_elysia_late = yes
				tag = VIN
				technology_group = modern_greek
				technology_group = modern_spartan
				technology_group = modern_vinlandic
			}
			has_estate = estate_nhs_native_council
			NOT = { has_country_flag = nhs_natives_no_privileges }
			OR = {
				is_subject = no
				overlord = {
					has_country_flag = nhs_natives_no_privileges
				}
			}
		}

		allow = {
			num_of_cities = 50
			OR = {
				technology_group = modern_greek
				technology_group = modern_spartan
				technology_group = modern_vinlandic
			}
			if = {
				limit = {
					has_dlc = "Dharma"
					government = monarchy
					OR = {
						tag = NHS
						tag = ELY
						tag = ERF
						tag = ELR
						tag = ERR
					}
				}
				NOT = { has_reform = nhs_native_cadre }
			}
			OR = {
				NOT = {
					estate_influence = {
						estate = estate_nhs_native_council
						influence = 30
					}
				}
				dip_power = 150
				mil_power = 150
			}
		}

		effect = {
			custom_tooltip = revoke_native_privileges_tooltip
			add_estate_influence_modifier = {
				estate = estate_nhs_native_council
				desc = EST_NHS_REVOKED_PRIVILEGES
				influence = -15
				duration = 7300
			}
			add_estate_loyalty = {
				estate = estate_nhs_native_council
				loyalty = -40
			}
			if = {
				limit = {
					estate_influence = {
						estate = estate_nhs_native_council
						influence = 50
					}
				}
				custom_tooltip = revoke_native_privileges_tooltip_more
				add_dip_power = -150
				add_mil_power = -150
			}
			set_country_flag = nhs_natives_no_privileges
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					is_at_war = yes
					war_exhaustion = 2
					NOT = { stability = 1 }
				}
			}
		}
	}

#	nhs_modernize_natives = {
#		major = yes
#		potential = {
#			always = no # Disabled
#			technology_group = hellenised_american
#			any_known_country = {
#				OR = {
#					technology_group = western
#					technology_group = modern_greek
#					technology_group = modern_spartan
#				}
#			}
#			is_year = 1500
#			OR = {
#				is_subject = no
#				overlord = {
#					OR = {
#						technology_group = western
#						technology_group = modern_greek
#						technology_group = modern_spartan
#					}
#				}
#			}
#		}
#
#		allow = {
#			technology_group = hellenised_american
#			any_known_country = {
#				OR = {
#					technology_group = modern_greek
#					technology_group = modern_spartan
#				}
#			}
#			OR = {
#				any_neighbor_country = {
#					OR = {
#						technology_group = western
#						technology_group = modern_greek
#						technology_group = modern_spartan
#					}
#				}
#				AND = {
#					is_year = 1500
#					any_owned_province = {
#						OR = {
#							has_province_modifier = nhs_alexandrian_library
#							has_province_modifier = nhs_alexandrian_library_decay
#						}
#					}
#				}
#				is_year = 1550
#			}
#			is_at_war = no
#		}
#
#		effect = {
#			change_technology_group = high_american
#			change_unit_type = hellenised_american
#			add_stability = 1
#			add_adm_power = -25
#			add_dip_power = -25
#			add_mil_power = -25
#			if = {
#				limit = {
#					#OR = {
#						#has_reform = native_senate
#						is_native_council_of_fed = yes
#					#}
#				}
#				add_government_reform = elysian_peoples_republic
#			}
#			every_subject_country = {
#				limit = {
#					technology_group = exiled_greek
#				}
#				if = {
#					limit = {
#						NOT = { unit_type = elysian_unit }
#						NOT = { unit_type = squipery }
#					}
#					change_unit_type = elysian_unit
#				}
#				change_technology_group = modern_greek
#			}
#			every_subject_country = {
#				limit = {
#					technology_group = exiled_spartan
#				}
#				change_unit_type = modern_spartan
#				change_technology_group = modern_spartan
#			}
#			set_country_flag = nhs_was_native
#		}
#
#		ai_will_do = {
#			factor = 1
#			# If not big enough
#			modifier = {
#				factor = 0
#				NOT = { num_of_cities = 3 }
#			}
#			modifier = {
#				factor = 0
#				technology_group = western
#			}
#		}
#		ai_importance = 300
#	}

	curtail_estate_nhs_noble = {
		major = yes
		potential = {
			has_country_flag = nhs_noble_estate_in_power
		}
		allow = {
			stability = 1
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			NOT = {
				estate_influence = {
					estate = estate_nhs_nobles
					influence = 60
				}
			}
		}
		effect = {
			add_stability = -3
			add_prestige = -25
			clr_country_flag = nhs_noble_estate_in_power
		}
		ai_will_do = {
			factor = 1
		}
	}
	curtail_estate_apogonoi = {
		major = yes
		potential = {
			has_country_flag = apogonoi_estate_in_power
		}
		allow = {
			stability = 1
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			NOT = {
				estate_influence = {
					estate = estate_nhs_apogonoi
					influence = 60
				}
			}
		}
		effect = {
			add_stability = -3
			add_prestige = -25
			clr_country_flag = apogonoi_estate_in_power
		}
		ai_will_do = {
			factor = 1
		}
	}
	curtail_estate_pipiltin = {
		major = yes
		potential = {
			has_country_flag = pipiltin_estate_in_power
		}
		allow = {
			stability = 1
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			NOT = {
				estate_influence = {
					estate = estate_nhs_pipiltin
					influence = 60
				}
			}
		}
		effect = {
			add_stability = -3
			add_prestige = -25
			clr_country_flag = pipiltin_estate_in_power
		}
		ai_will_do = {
			factor = 1
		}
	}

	nhs_apply_for_protection = {
		potential = {
			OR = {
				AND = {
					culture_group = byzantine
					NOT = { primary_culture = turkish }
				}
				culture_group = south_slavic
			}
			OR = {
				religion = orthodox
				religion = elysian_orthodoxy
			}
			is_subject = no
			any_country = {
				religion = elysian_orthodoxy
				owns_or_vassal_of = 151
				any_owned_province  = {
					nhs_is_ecumenical = yes
				}
				NOT = { war_with = ROOT }
			}
			has_global_flag = nhs_elysian_o_greece_trad
			NOT = { has_country_flag = nhs_patriarch_protection }
			NOT = { num_of_cities = 12 }
		}
		allow = {
			is_at_war = yes
			OR = {
				religion = orthodox
				religion = elysian_orthodoxy
			}
			NOT = { num_of_cities = 12 }
		}
		effect = {
			add_prestige = -10
			add_legitimacy = -5
			random_country = {
				limit = {
					religion = elysian_orthodoxy
					owns_or_vassal_of = 151
					any_owned_province  = {
						nhs_is_ecumenical = yes
					}
					NOT = { war_with = ROOT }
				}
				country_event = { id = nhs2_orthodoxevents.27 }
			}
		}
		ai_will_do = {
			factor = 1
			# modifier = {
				# factor = 0
				# is_at_war = no
				# num_of_cities = 4
			# }
			# modifier = {
				# factor = 0
				# is_at_war = no
				# num_of_cities = 3
				# NOT = {
					# any_neighbor_country = {
						# NOT = { religion = ROOT }
					# }
				# }
			# }
			modifier = {
				factor = 0
				num_of_cities = 4
				is_at_war = yes
				OR = {
					AND = {
						war_score = -50
						any_country = {
							defensive_war_with = ROOT
							NOT = { religion = ROOT }
						}
					}
					AND = {
						war_score = -5
						any_country = {
							offensive_war_with = ROOT
							NOT = { religion = ROOT }
						}
					}
					AND = {
						war_score = -30
						any_country = {
							offensive_war_with = ROOT
							religion = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { num_of_cities = 4 }
				is_at_war = yes
				OR = {
					AND = {
						war_score = -25
						any_country = {
							defensive_war_with = ROOT
							NOT = { religion = ROOT }
						}
					}
					AND = {
						war_score = -5
						any_country = {
							offensive_war_with = ROOT
							NOT = { religion = ROOT }
						}
					}
					AND = {
						war_score = -15
						any_country = {
							offensive_war_with = ROOT
							religion = ROOT
						}
					}
				}
			}
		}
	}

	nhs_request_autocephaly = {
		major = yes
		potential = {
			religion = elysian_orthodoxy
			NOT = { any_owned_province = { nhs_is_patriarchate = yes } }
			NOT = { has_country_modifier = nhs_autonomy_attempt }
			NOT = { any_owned_province = { nhs_is_ecumenical = yes } }
			NOT = { tag = MSG }
			NOT = { tag = MSN }
		}
		allow = {
			OR = {
				total_development = 75
				num_of_cities = 20
			}
			is_subject = no
			is_at_war = no
			prestige = 25
			stability = 1
			#custom_trigger_tooltip = {
			#	any_owned_province = {
			#		NOT = {
			#			any_province = {
			#				nhs_is_patriarchate = yes
			#				region = PREV
			#			}
			#		}
			#	}
			#	tooltip = nhs_match_region_patri
			#}
		}
		effect = {
			hidden_effect = {
				add_country_modifier = {
					name = nhs_autonomy_attempt
					duration = 18250
					hidden = yes
				}
			}
			if = {
				limit = {
					any_province = {
						nhs_is_ecumenical = yes
						owner = {
							religion = elysian_orthodoxy
						}
					}
				}
				random_country = {
					limit = {
						any_owned_province = {
							religion = elysian_orthodoxy
							nhs_is_ecumenical = yes
						}
					}
					country_event = { id = nhs2_orthodoxevents.31 }
				}
			}
			if = {
				limit = {
					NOT = {
						any_province = {
							nhs_is_ecumenical = yes
							owner = {
								religion = elysian_orthodoxy
							}
						}
					}
				}
				custom_tooltip = nhs_no_ecumenical
				country_event = { id = nhs2_orthodoxevents.30 }
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				any_country = {
					any_owned_province = {
						religion = elysian_orthodoxy
						nhs_is_ecumenical = yes
					}
					NOT = { has_opinion = { who = ROOT value = -50 } }
				}
				factor = 0
			}
		}
	}

	#Reform Priesthood
	elysian_reform1 = {
		major = yes
		potential = {
			OR = {
				religion = elysian_orthodoxy
				AND = {
					religion = orthodox
					NOT = { any_country = { religion = elysian_orthodoxy } }
					OR = {
						capital_scope = { continent = north_america }
						capital_scope = { continent = south_america }
					}
				}
			}
			NOT = { has_global_flag = nhs_first_reform }
		}
		allow = {
			OR = {
				religion = elysian_orthodoxy
				religion = orthodox
			}
			OR = {
				num_of_cities = 15
				total_development = 150
			}
			is_subject = no
			is_at_war = no
			OR = {
				has_idea = church_attendance_duty
				has_idea = planned_metropoles
				temple = 10
				religion = elysian_orthodoxy
			}
		}
		effect = {
			add_prestige = 15
			add_legitimacy = 5
			tooltip = {
				custom_tooltip = nhs_reform0_remove
				add_country_modifier = {
					name = nhs2_reform1
					duration = -1
				}
			}
			set_global_flag = nhs_first_reform
		}

		ai_will_do = {
			factor = 1
		}
	}

	#A proper religion
	elysian_reform2 = {
		major = yes
		potential = {
			religion = elysian_orthodoxy
			has_global_flag = nhs_first_reform
			NOT = { has_global_flag = nhs_second_reform }
			has_global_flag = nhs_europe_discovered
		}
		allow = {
			religion = elysian_orthodoxy
			num_of_cities = 20
			total_development = 200
			is_subject = no
			is_at_war = no
			OR = {
				owns_core_province = 151
				owns_core_province = 118
			}
			OR = {
				full_idea_group = religious_ideas
				151 = { religion = elysian_orthodoxy }
				118 = { religion = elysian_orthodoxy }
			}
		}
		effect = {
			add_prestige = 20
			add_legitimacy = 10
			if = {
				limit = {
					NOT = { has_global_flag = nhs_third_reform }
				}
				tooltip = {
					custom_tooltip = nhs_reform1_remove
					add_country_modifier = {
						name = nhs2_reform2
						duration = -1
					}
				}
			}
			if = {
				limit = {
					has_global_flag = nhs_third_reform
				}
				tooltip = {
					custom_tooltip = nhs_reform3_remove
					add_country_modifier = {
						name = nhs2_reform23
						duration = -1
					}
				}
			}
			set_global_flag = nhs_second_reform
		}

		ai_will_do = {
			factor = 1
		}
	}

	#A proper religion
	elysian_reform3 = {
		major = yes
		potential = {
			religion = elysian_orthodoxy
			has_global_flag = nhs_first_reform
			NOT = { has_global_flag = nhs_third_reform }
		}
		allow = {
			religion = elysian_orthodoxy
			is_subject = no
			is_at_war = no
			custom_trigger_tooltip = {
				calc_true_if = {
					all_province = {
						religion = elysian_orthodoxy
					}
					amount = 70
				}
				tooltip = nhs_70_eo
			}
			custom_trigger_tooltip = {
				NOT = {
					any_province = {
						nhs_is_patriarchate = yes
						owner = { NOT = { religion = elysian_orthodoxy } }
					}
				}
				tooltip = nhs_all_by_eo
			}
			custom_trigger_tooltip = {
				nhs_two_thirds_p = yes
				tooltip = nhs_two_thirds_p_t
			}
		}
		effect = {
			add_prestige = 20
			add_legitimacy = 10
			custom_tooltip = nhs_enables_icons_tt
			if = {
				limit = {
					NOT = { has_global_flag = nhs_second_reform }
				}
				tooltip = {
					custom_tooltip = nhs_reform1_remove
					add_country_modifier = {
						name = nhs2_reform3
						duration = -1
					}
				}
			}
			if = {
				limit = {
					has_global_flag = nhs_second_reform
				}
				tooltip = {
					custom_tooltip = nhs_reform2_remove
					add_country_modifier = {
						name = nhs2_reform23
						duration = -1
					}
				}
			}
			set_global_flag = nhs_third_reform
		}

		ai_will_do = {
			factor = 1
		}
	}

	#A proper religion
	elysian_reform4 = {
		major = yes
		potential = {
			religion = elysian_orthodoxy
			has_global_flag = nhs_first_reform
			has_global_flag = nhs_second_reform
			has_global_flag = nhs_third_reform
			NOT = { has_global_flag = nhs_fourth_reform }
		}
		allow = {
			religion = elysian_orthodoxy
			num_of_cities = 100
			total_development = 1000
			is_subject = no
			is_at_war = no
			custom_trigger_tooltip = {
				NOT = {
					any_province = {
						AND = {
							nhs_is_patriarchate = yes
							NOT = { owned_by = ROOT }
							NOT = { owner = { is_subject_of = ROOT } }
						}
					}
				}
				tooltip = nhs_my_p_eo
			}
			OR = {
				AND = {
					full_idea_group = humanist_ideas
					custom_trigger_tooltip = {
						calc_true_if = {
							all_province = {
								religion = elysian_orthodoxy
								continent = europe
							}
							amount = 30
						}
						tooltip = nhs_30_eo_european
					}
				}
				custom_trigger_tooltip = {
					calc_true_if = {
						all_province = {
							religion = elysian_orthodoxy
							continent = europe
						}
						amount = 70
					}
					tooltip = nhs_70_eo_european
				}
			}
			151 = {
				religion = elysian_orthodoxy
				country_or_non_sovereign_subject_holds = ROOT
			}
			118 = {
				religion = elysian_orthodoxy
				country_or_non_sovereign_subject_holds = ROOT
			}
			2313 = {
				religion = elysian_orthodoxy
				country_or_non_sovereign_subject_holds = ROOT
			}
			358 = {
				religion = elysian_orthodoxy
				country_or_non_sovereign_subject_holds = ROOT
			}
			379 = {
				religion = elysian_orthodoxy
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			set_global_flag = nhs_fourth_reform
			add_prestige = 25
			add_legitimacy = 15
			
			tooltip = {
				custom_tooltip = nhs_reform23_remove
				add_country_modifier = {
					name = nhs2_reform4
					duration = -1
				}
			}
			if = {
				limit = {
					has_global_flag = nhs_elysian_o_greece_trad
				}
				clr_global_flag = nhs_elysian_o_greece_trad
				set_global_flag = nhs_elysian_o_greece
				set_global_flag = nhs_elysian_o_greece_new
				151 = {
					add_permanent_province_modifier = {
						name = nhs2_orthodox_patriarchate
						duration = -1
					}
				}
				custom_tooltip = nhs_new_patri_greek_tooltip
				custom_tooltip = nhs_new_greek_conv_tooltip
			}
			if = {
				limit = {
					has_global_flag = nhs_elysian_o_greece
					has_global_flag = nhs_elysian_o_greece_eep
				}
				set_global_flag = nhs_elysian_o_greece_new
				clr_global_flag = nhs_elysian_o_greece_eep
				151 = {
					add_permanent_province_modifier = {
						name = nhs2_orthodox_patriarchate
						duration = -1
					}
				}
				custom_tooltip = nhs_new_patri_greek_tooltip
				custom_tooltip = nhs_new_greek_conv_tooltip
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = nhs_patriarch_question
					}
					clr_country_flag = nhs_patriarch_question
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	nhs_intruduce_printing_press = {
		major = yes
		potential = {
			OR = {
				technology_group = modern_greek
				technology_group = modern_spartan
				technology_group = modern_vinlandic
			}
			is_institution_enabled = printing_press
			NOT = { has_country_flag = nhs_intruduce_printing_press_done }
		}
		allow = {
			if = {
				limit = {
					ai = no
				}
				treasury = 200
			}
			custom_trigger_tooltip = {
				tooltip = nhs_print_press_trigger_tt
				OR = {
					any_province = {
						printing_press = 100
						has_port = yes
						has_discovered = ROOT
						owner = {
							has_opinion = { who = ROOT value = 100 }
						}
					}
					any_neighbor_country = {
						has_institution = printing_press
					}
					any_owned_province = {
						any_neighbor_province = {
							printing_press = 100
						}
					}
				}
			}
		}
		effect = {
			if = {
				limit = {
					ai = no
				}
				add_treasury = -200
			}
			add_adm_power = -50
			add_dip_power = -50
			every_owned_province = {
				limit = {
					OR = {
						any_neighbor_province = {
							is_capital = yes
							owned_by = ROOT
						}
						is_capital = yes
					}
				}
				add_institution_embracement = {
					which = "printing_press"
					value = 100
				}
			}
			set_country_flag = nhs_intruduce_printing_press_done
		}

		ai_will_do = {
			factor = 1
		}
	}

	# nhs_northern_road = {
		# major = yes
		# potential = {
			# owns = 953
			# always = no #Disabled
		# }
		# allow = {
			# OR = {
				# trading_with_markland = yes
				# trading_with_helluland = yes
				# trading_with_vinland = yes
			# }
		# }
		# effect = {
		# }

		# ai_will_do = {
			# factor = 1
		# }
	# }

	# Replace colony range handicap nmb2
#	nhs_form_colonial_institution_2 = {
#		major = yes
#		potential = {
#			has_country_modifier = nhs_organised_expansion
#			NOT = { has_country_modifier = nhs_organised_expansion_2 }
#		}
#
#		allow = {
#			has_institution = new_world_i
#			OR = {
#				full_idea_group = exploration_ideas
#				full_idea_group = expansion_ideas
#				full_idea_group = development_ideas
#				full_idea_group = discovery_ideas
#				full_idea_group = domination_ideas
#			}
#		}
#
#		effect = {
#			remove_country_modifier = nhs_organised_expansion
#			add_country_modifier = {
#				name = "nhs_organised_expansion_2"
#				duration = -1
#			}
#			add_dip_power = -25
#		}
#		ai_will_do = {
#			factor = 1
#		}
#	}

	#Trade weapons/money for land with Powhatan
	nhs2_powhatan_deal = {
		major = yes
		potential = {
			ai = no
			tag = NHS
			exists = POW
			has_country_flag = nhs_enable_powhatan_deal
			POW = {
				ai = yes
				owns_core_province = 952
			}
			has_discovered = 952
			#is_at_war = no
			#owns = 953
			#NOT = { has_global_flag = nhs_pow_dead_done }
		}

		allow = {
			num_of_cities = 2
			is_at_war = no
			POW = {
				is_at_war = no
				has_opinion = { who = ROOT value = 100 }
				NOT = { num_of_cities = 2 }
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
			}
			OR = {
				treasury = 120
				AND = {
					treasury = 60
					num_of_cities = 5
				}
			}
			custom_trigger_tooltip = {
				OR = {
					932 = { is_empty = yes }
					932 = {
						any_empty_neighbor_province = {
							NOT = { nhs_homelands = yes }
							is_empty = yes
						}
					}
					POW = {
						any_owned_province = {
							any_empty_neighbor_province = {
								NOT = { nhs_homelands = yes }
							}
						}
					}
					ROOT = {
						any_owned_province = {
							any_empty_neighbor_province = {
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				tooltip = nhs_has_empty_n_province_pow
			}
		}

		effect = {
			if = {
				limit = {
					num_of_cities = 5
				}
				add_treasury = -60
				set_global_flag = nhs_60_cash
			}
			if = {
				limit = {
					NOT = { num_of_cities = 5 }
				}
				add_treasury = -120
				set_global_flag = nhs_120_cash
			}
			POW = { country_event = { id = nhs_powhatan_deal.2 } }
			set_global_flag = nhs_pow_dead_done
			custom_tooltip = nhs_new_line_tt
			custom_tooltip = nhs_unlock_powhatan_deal_transfer_province_tt
			custom_tooltip = nhs_new_line_tt
			if = {
				limit = {
					POW = {
						is_subject_of = ROOT
					}
				}
				custom_tooltip = nhs_remove_powhattan_subject_tt
			}
			else = {
				custom_tooltip = nhs_remove_powhattan_subject_warning_tt
			}
		}
			
		ai_will_do = {
			factor = 1
		}
	}

	#Trade weapons/money for land with Powhatan
	nhs2_powhatan_deal_ai = {
		major = yes
		potential = {
			ai = yes
			tag = NHS
			exists = POW
			POW = {
				ai = yes
				owns_core_province = 952
				NOT = { num_of_cities = 2 }
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
			}
			has_discovered = 952
			owns = 953
			NOT = { has_global_flag = nhs_pow_dead_done }
		}

		allow = {
			num_of_cities = 2
			is_at_war = no
			POW = {
				is_at_war = no
			}
			OR = {
				treasury = 60
				AND = {
					treasury = 30
					num_of_cities = 5
				}
			}
			custom_trigger_tooltip = {
				OR = {
					932 = { is_empty = yes }
					932 = {
						any_empty_neighbor_province = {
							NOT = { nhs_homelands = yes }
							is_empty = yes
						}
					}
					POW = {
						any_owned_province = {
							any_empty_neighbor_province = {
								NOT = { nhs_homelands = yes }
							}
						}
					}
					ROOT = {
						any_owned_province = {
							any_empty_neighbor_province = {
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				tooltip = nhs_has_empty_n_province_pow
			}
		}

		effect = {
			if = {
				limit = {
					num_of_cities = 5
				}
				add_treasury = -30
				set_global_flag = nhs_30_cash
			}
			if = {
				limit = {
					NOT = { num_of_cities = 5 }
				}
				add_treasury = -60
				set_global_flag = nhs_60_cash
			}
			POW = { country_event = { id = nhs_powhatan_deal.2 } }
			set_global_flag = nhs_pow_dead_done
		}
		ai_will_do = {
			factor = 1
		}
		ai_importance = 300
	}

	nhs2_become_kyk = {
		major = yes
		potential = {
			tag = CM1
			culture_group = elysian_group
			any_province = {
				region = carribeans_region
				has_discovered = ROOT
				NOT = { province_id = 481 }
			}
			OR = {
				has_country_flag = nhs_interacted_survivors
				NOT = {
					nhs_condition_all_ely = { KOMANDA = exists }
				}
			}
			OR = {
				has_global_flag = nhs_ctm_allowed_to_exist
				is_subject = no
			}
		}

		allow = {
			culture_group = elysian_group
			any_owned_province = {
				region = carribeans_region
				is_colony = no
			}
		}

		effect = {
			change_tag = KYK
			if = {
				limit = {
					capital_scope = {
						OR = {
							NOT = { region = carribeans_region }
							province_id = 481
						}
					}
					any_owned_province = {
						region = carribeans_region
						nhs_eicticofminh = yes
						is_colony = no
						NOT = { province_id = 481 }
					}
				}
				capital_scope = {
					add_base_tax = -2
					add_base_production = -2
					add_base_manpower = -2
				}
				random_owned_province = {
					limit = {
						region = carribeans_region
						is_colony = no
						nhs_eicticofminh = yes
						NOT = { province_id = 481 }
					}
					move_capital_effect = yes
					add_base_tax = 3
					add_base_production = 3
					add_base_manpower = 3
				}
			}
			else_if = {
				limit = {
					capital_scope = {
						OR = {
							NOT = { region = carribeans_region }
							province_id = 481
						}
					}
					any_owned_province = {
						region = carribeans_region
						is_colony = no
						NOT = { province_id = 481 }
					}
				}
				capital_scope = {
					add_base_tax = -2
					add_base_production = -2
					add_base_manpower = -2
				}
				random_owned_province = {
					limit = {
						region = carribeans_region
						is_colony = no
						NOT = { province_id = 481 }
					}
					move_capital_effect = yes
					add_base_tax = 3
					add_base_production = 3
					add_base_manpower = 3
				}
			}
			add_prestige = 10
			add_stability_or_adm_power = yes
			carribeans_region = {
				add_permanent_claim = KYK
			}
			if = {
				limit = {
					has_country_flag = nhs_kykladian_appeared
				}
				change_primary_culture = kykladian
				every_owned_province = {
					limit = {
						region = carribeans_region
						culture_group = elysian_group
					}
					change_culture = kykladian
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
		ai_importance = 300
	}
	
	nhs2_fire_deal_with_natives_titusville = {
		major = yes
		potential = {
			NOT = { has_country_flag = nhs_proposing_n_deal }
			nhs_is_elysia = yes
			OR = {
				has_country_modifier = nhs_secrets_greekfire
				has_country_modifier = nhs_greekfire_update
				has_country_flag = nhs2_had_greek_fire
				has_country_flag = nhs_searching_for_naphtha
			}
			954 = {
				OR = {
					has_province_modifier = nhs2_source_of_naphta
					has_province_modifier = nhs2_source_of_naphta_e
				}
				owner = {
					OR = {
						technology_group = high_american
						technology_group = north_american
						technology_group = hellenised_american
						technology_group = south_american
					}
					NOT = { is_subject_of = ROOT }
					any_owned_province = {
						OR = {
							has_province_modifier = nhs2_source_of_naphta
							has_province_modifier = nhs2_source_of_naphta_e
						}
					}
					NOT = { has_country_modifier = nhs_greek_fire_deal }
				}
			}
		}

		allow = {
			treasury = 150
			954 = {
				owner = {
					has_opinion = { who = ROOT value = 100 }
					OR = {
						technology_group = high_american
						technology_group = north_american
						technology_group = hellenised_american
						technology_group = south_american
					}
					NOT = { is_subject_of = ROOT }
					any_owned_province = {
						OR = {
							has_province_modifier = nhs2_source_of_naphta
							has_province_modifier = nhs2_source_of_naphta_e
						}
					}
					NOT = { has_country_modifier = nhs_greek_fire_deal }
					custom_trigger_tooltip = {
						tooltip = nhs_has_not_yet_proposed_n_deal_tt
						NOT = { has_ruler_flag = nhs_had_proposed_n_deal }
					}
				}
			}
		}

		effect = {
			add_treasury = -150
			set_country_flag = nhs_proposing_n_deal
			954 = {
				owner = {
					country_event = { id = nhs2_countryevents.44 days = 5 }
					set_ruler_flag = nhs_had_proposed_n_deal
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
		ai_importance = 300
	}
	
	nhs2_fire_deal_with_natives_niagara = {
		major = yes
		potential = {
			nhs_is_elysia = yes
			always = no #Why is this here?
			OR = {
				has_country_modifier = nhs_secrets_greekfire
				has_country_modifier = nhs_greekfire_update
				has_country_flag = nhs2_had_greek_fire
				has_country_flag = nhs_searching_for_naphtha
			}
			987 = {
				OR = {
					has_province_modifier = nhs2_source_of_naphta
					has_province_modifier = nhs2_source_of_naphta_e
				}
				owner = {
					OR = {
						technology_group = high_american
						technology_group = north_american
						technology_group = hellenised_american
						technology_group = south_american
					}
					NOT = { is_subject_of = ROOT }
					any_owned_province = {
						OR = {
							has_province_modifier = nhs2_source_of_naphta
							has_province_modifier = nhs2_source_of_naphta_e
						}
					}
					NOT = { has_country_modifier = nhs_greek_fire_deal }
				}
			}
		}

		allow = {
			treasury = 150
			987 = {
				owner = {
					has_opinion = { who = ROOT value = 100 }
					OR = {
						technology_group = high_american
						technology_group = north_american
						technology_group = hellenised_american
						technology_group = south_american
					}
					NOT = { is_subject_of = ROOT }
					any_owned_province = {
						OR = {
							has_province_modifier = nhs2_source_of_naphta
							has_province_modifier = nhs2_source_of_naphta_e
						}
					}
					NOT = { has_country_modifier = nhs_greek_fire_deal }
					custom_trigger_tooltip = {
						tooltip = nhs_has_not_yet_proposed_n_deal_tt
						NOT = { has_ruler_flag = nhs_had_proposed_n_deal }
					}	
				}
			}
		}

		effect = {
			add_treasury = -150
			set_country_flag = nhs_proposing_n_deal
			987 = {
				owner = {
					country_event = { id = nhs2_countryevents.44 days = 5 }
					set_ruler_flag = nhs_had_proposed_n_deal
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
		ai_importance = 300
	}
	
		nhs2_switch_reform = {
			major = yes
			potential = {
				nhs_is_elysia = yes
				OR = {
					has_country_modifier = nhs2_native_army_reform
					has_country_modifier = nhs2_traditional_army_reform
					
					has_country_modifier = nhs2_army_reform_byz
					has_country_modifier = nhs2_army_reform_euro
					has_country_modifier = nhs2_fire_army_reform
					has_country_modifier = nhs2_army_reform_no
					
					has_country_modifier = nhs2_army_reform_pas
					has_country_modifier = nhs2_army_reform_cavalry
					has_country_modifier = nhs2_army_reform_xbow
					has_country_modifier = nhs2_fire_army_reform2
					
					has_country_modifier = nhs2_amry_reform_mm
					has_country_modifier = nhs2_amry_reform_nma
					has_country_modifier = nhs2_amry_reform_ga
					has_country_modifier = nhs2_fire_army_reform3
				}
			}

			allow = {
				is_at_war = no
				NOT = { has_country_modifier = nhs_reforming_army }
				if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 18250 }
					}
					mil_power = 50
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 16425 }
					}
					mil_power = 65
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 14600 }
					}
					mil_power = 80
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 12775 }
					}
					mil_power = 95
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 10950 }
					}
					mil_power = 110
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 9125 }
					}
					mil_power = 125
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 7300 }
					}
					mil_power = 140
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 5475 }
					}
					mil_power = 155
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 3650 }
					}
					mil_power = 170
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 1825 }
					}
					mil_power = 185
				}
				else = {
					mil_power = 200
				}
			}

			effect = {
				custom_tooltip = nhs_army_reform_tooltip
				if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 18250 }
					}
					add_mil_power = -50
					set_country_flag = nhs_got50mil
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 16425 }
					}
					add_mil_power = -65
					set_country_flag = nhs_got65mil
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 14600 }
					}
					add_mil_power = -80
					set_country_flag = nhs_got80mil
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 12775 }
					}
					add_mil_power = -95
					set_country_flag = nhs_got95mil
					
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 10950 }
					}
					add_mil_power = -110
					set_country_flag = nhs_got110mil
					
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 9125 }
					}
					add_mil_power = -125
					set_country_flag = nhs_got125mil
					
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 7300 }
					}
					add_mil_power = -140
					set_country_flag = nhs_got140mil
					
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 5475 }
					}
					add_mil_power = -155
					set_country_flag = nhs_got155mil
					
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 3650 }
					}
					add_mil_power = -170
					set_country_flag = nhs_got170mil
					
				}
				else_if = {
					limit = {
						had_country_flag = { flag = nhs_recent_a_reform days = 1825 }
					}
					add_mil_power = -185
					set_country_flag = nhs_got185mil
					
				}
				else = {
					add_mil_power = -200
					set_country_flag = nhs_got200mil
				}
				country_event = { id = nhs2_countryevents.43 }
			}
			ai_will_do = {
				factor = 0
			}
		}
	
	nhs2_choose_icon = {
		major = yes
		potential = {
			religion = elysian_orthodoxy
			has_global_flag = nhs_third_reform
			NOT = { has_country_flag = nhs_choosing_icon }
			NOT = { has_dlc = "Third Rome" }
		}

		allow = {
			religion = elysian_orthodoxy
			NOT = { has_country_modifier = nhs2_icon_michael_e }
			NOT = { has_country_modifier = nhs2_icon_eleusa_e }
			NOT = { has_country_modifier = nhs2_icon_pancreator_e }
			NOT = { has_country_modifier = nhs2_icon_nicholas_e }
			NOT = { has_country_modifier = nhs2_icon_climacus_e }
		}

		effect = {
			country_event = { id = nhs2_orthodoxevents.34 }
			set_country_flag = nhs_choosing_icon
		}
		ai_will_do = {
			factor = 1
			#modifier = {
			#	factor = 0
			#	OR = {
			#		NOT = { legitimacy = 50 }
			#		AND = {
			#			NOT = {
			#				has_global_modifier_value = {
			#					which = legitimacy
			#					value = 0.1
			#				}
			#			}
			#			NOT = { legitimacy = 75 }
			#		}
			#		NOT = { devotion = 50 }
			#		AND = {
			#			NOT = {
			#				has_global_modifier_value = {
			#					which = devotion
			#					value = 0.5
			#				}
			#			}
			#			NOT = { legitimacy = 75 }
			#		}
			#	}
			#}
			modifier = {
				factor = 0
				## icon_michael_e
				NOT = {
					AND = {
						is_at_war = yes
						OR = {
							AND = {
								is_in_important_war = yes
								government = theocracy
								patriarch_authority = 0.95
							}
							AND = {
								is_in_important_war = yes
								NOT = { government = theocracy }
								patriarch_authority = 0.75
							}
						}
					}
				}
				## icon_eleusa_e
				NOT = {
					AND = {
						#
						OR = {
							AND = {
								calc_true_if = {
									all_owned_province = {
										unrest = 1
									}
									amount = 10
								}
								NOT = {
									calc_true_if = {
										all_owned_province = {
											unrest = 1
										}
										amount = 15
									}
								}
								NOT = { government = theocracy }
								patriarch_authority = 0.85
							}
						}
						#
						OR = {
							AND = {
								calc_true_if = {
									all_owned_province = {
										unrest = 1
									}
									amount = 15
								}
								NOT = {
									calc_true_if = {
										all_owned_province = {
											unrest = 1
										}
										amount = 20
									}
								}
								
								OR = {
									AND = {
										NOT = { government = theocracy }
										patriarch_authority = 0.75
									}
									AND = {
										government = theocracy
										patriarch_authority = 0.95
									}
								}
							}
						}
						OR = {
							AND = {
								calc_true_if = {
									all_owned_province = {
										unrest = 1
									}
									amount = 20
								}
								OR = {
									AND = {
										NOT = { government = theocracy }
										patriarch_authority = 0.55
									}
									AND = {
										government = theocracy
										patriarch_authority = 0.85
									}
								}
								
							}
						}
						#
					}
				}
				## icon_climacus_e
				NOT = {
					AND = {
						NOT = { government = theocracy }
						calc_true_if = {
							all_owned_province = {
								current_institution = 1
								NOT = { current_institution = 95 }
							}
							amount = 5
						}
						patriarch_authority = 0.9
					}
				}
			}
		}
		ai_importance = 300
	}
	
	nhs_gilded_keep_build = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			is_year = 1500
			953 = {
				owned_by = ROOT
				controlled_by = ROOT
				NOT = {
					OR = {
						#has_active_triggered_province_modifier
						has_province_modifier = nhs_gilded_keep_tm
						has_province_modifier = nhs_gilded_keep_tm_decay
					}
				}
			}
			OR = {
				has_country_flag = nhs_gilded_keep_decision
				is_year = 1550
			}
		}
		allow = {
			is_at_war = no
			if = {
				limit = {
					ai = yes
				}
				treasury = 500
			}
			else = {
				treasury = 1000
			}
			any_owned_province = {
				trade_goods = gold
			}
		}
		effect = {
			if = {
				limit = {
					ai = yes
				}
				add_treasury = -500
			}
			else = {
				add_treasury = -1000
			}
			add_prestige = 25
			953 = {
				tooltip = {
					add_permanent_province_modifier = {
						name = "nhs_gilded_keep"
						duration = -1
					}
				}
				hidden_effect = {
					add_province_triggered_modifier = nhs_gilded_keep_tm
					show_ambient_object = wonder_generic
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					NOT = { treasury = 550 }
					num_of_loans = 1
				}
			}
		}
	}
	
	nhs_venetian_arsenal_build = {
		major = yes
		potential = {
			nhs_condition_all_ely = { KOMANDA = tag }
			has_country_flag = nhs_new_flight_taken_venetians
			owns = 950
			OR = {
				had_global_flag = { flag = nhs_europe_discovered days = 400 }
				is_year = 1530
			}
			NOT = {
				950 = {
					OR = {
						has_province_modifier = nhs_elysian_arsenal_tm
						has_province_modifier = nhs_elysian_arsenal_tm_decay
					}
				}
			}
		}
		allow = {
			if = {
				limit = {
					950 = {
						has_building = shipyard
					}
				}
				if = {
					limit = {
						ai = yes
					}
					treasury = 400
				}
				else = {
					treasury = 900
				}
			}
			else_if = {
				limit = {
					950 = {
						has_building = grand_shipyard
					}
				}
				if = {
					limit = {
						ai = yes
					}
					treasury = 200
				}
				else = {
					treasury = 700
				}
			}
			else = {
				if = {
					limit = {
						ai = yes
					}
					treasury = 500
				}
				else = {
					treasury = 1000
				}
			}
			if = {
				limit = {
					NOT = {
						OR = {
							alliance_with = VEN
							reverse_has_opinion = {
								who = VEN
								value = 150
							}
							owns_or_non_sovereign_subject_of = 112
						}
					}
				}
				dip_power = 200
			}
			OR = {
				alliance_with = VEN
				reverse_has_opinion = {
					who = VEN
					value = 150
				}
				owns_or_non_sovereign_subject_of = 112
				custom_trigger_tooltip = {
					tooltip = nhs_owns_grand_cothon_tt
					any_owned_province = {
						has_province_modifier = nhs_carthaginian_design_harbour_tm
					}
				}
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						ai = yes
						alliance_with = VEN
						reverse_has_opinion = {
							who = VEN
							value = 150
						}
						owns_or_non_sovereign_subject_of = 112
					}
				}
				custom_tooltip = nhs_arsenal_cheaper_with_venetian_help_tt
			}
			else = {
				custom_tooltip = nhs_arsenal_not_cheaper_without_venetian_help_tt
				add_dip_power = -200
			}
			if = {
				limit = {
					950 = {
						has_building = shipyard
					}
				}
				custom_tooltip = nhs_arsenal_cheaper_shipyard_tt
				if = {
					limit = {
						ai = yes
					}
					add_treasury = -400
				}
				else = {
					add_treasury = -900
				}
				950 = {
					remove_building = shipyard
				}
			}
			else_if = {
				limit = {
					950 = {
						has_building = grand_shipyard
					}
				}
				custom_tooltip = nhs_arsenal_cheaper_grandshipyard_tt
				if = {
					limit = {
						ai = yes
					}
					add_treasury = -200
				}
				else = {
					add_treasury = -700
				}
				950 = {
					remove_building = grand_shipyard
				}
			}
			else = {
				if = {
					limit = {
						ai = yes
					}
					add_treasury = -500
				}
				else = {
					add_treasury = -1000
				}
			}
			custom_tooltip = nhs_new_line_tt
			950 = {
				tooltip = {
					add_permanent_province_modifier = {
						name = "nhs_elysian_arsenal"
						duration = -1
					}
				}
				hidden_effect = {
					add_province_triggered_modifier = nhs_elysian_arsenal_tm
				}
			}
			custom_tooltip = nhs_can_no_longer_build_shipyard_tt
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					NOT = { treasury = 550 }
					num_of_loans = 1
				}
			}
		}
	}
	
	# Finish the invasion
	nhs_finish_the_invasion = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			has_country_flag = nhs_invasion_second_part_begins
			NOT = { has_country_flag = nhs_invasion_over }
			NOT = { has_country_flag = nhs_abandoned_greece }
		}

		allow = {
			owns_or_vassal_of = 151
			custom_trigger_tooltip = {
				tooltip = nhs_at_owns_all_greek_provinces_tt
				NOT = {
					any_province = {
						culture = greek
						continent = europe
						NOT = {
							owner = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
									primary_culture = greek
									primary_culture = pontic_greek
									primary_culture = goths
								}
							}
						}
					}
				}
			}
			#all_province = {
			#	culture = greek
			#	continent = europe
			#	owner = {
			#		OR = {
			#			tag = ROOT
			#			is_subject_of = ROOT
			#			primary_culture = greek
			#			primary_culture = pontic_greek
			#			primary_culture = goths
			#		}
			#	}			
			#}
		}

		effect = {
			add_prestige = 50
			add_legitimacy = 50
			add_army_tradition = 50
			add_country_modifier = {
				name = "nhs2_invasion_succeseful"
				duration = -1
			}
			random_owned_province = {
				limit = {
					has_province_modifier = nhs2_supply_lines
				}
				nhs_set_center_of_trade_1 = yes
			}
			every_owned_province = {
				limit = {
					has_province_modifier = nhs2_base_of_operations
				}
				remove_province_modifier = nhs2_base_of_operations
			}
			set_country_flag = nhs_invasion_over
			clr_country_flag = nhs_bo_sparta
			clr_country_flag = nhs_bo_rhodes
			clr_country_flag = nhs_bo_macedonia
			clr_country_flag = nhs_bo_athens
			clr_country_flag = nhs_bo
			clr_country_flag = nhs_bo2
			clr_country_flag = nhs_invasion_second_part_begins
			clr_country_flag = nhs_invasion_second_part
			clr_country_flag = nhs_supply_lines
			clr_country_flag = nhs_supply_lines_secured
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	nhs_build_suez_canal = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			has_country_flag = nhs_completed_outward_focus
			4316 = {
				NOT = { has_great_project = suez_canal }
				NOT = { has_construction = canal }
			}
		}
		allow = {
			owns_or_vassal_of = 4316
			owns_or_vassal_of = 2315
			is_subject = no
			adm_tech = 15
			dip_tech = 15
			treasury = 10100
		}
		effect = {
			add_treasury = -10000
			custom_tooltip = nhs_suez_exemption_tt
			hidden_effect = {
				4316 = {
					set_province_flag = nhs_exarch_province_exemption
				}
				2315 = {
					set_province_flag = nhs_exarch_province_exemption
				}
			}
			if = {
				limit = {
					4316 = {
						owner = {
							is_subject_of = ROOT
						}
					}
				}
				4316 = {
					cede_province = ROOT
					add_core = ROOT
				}
			}
			if = {
				limit = {
					2315 = {
						owner = {
							is_subject_of = ROOT
						}
					}
				}
				2315 = {
					cede_province = ROOT
					add_core = ROOT
				}
			}
			4316 = {	# Sharqiya
				add_great_project = suez_canal
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { treasury = 10100 }
			}
		}
	}
	
	nhs_build_panama_canal = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			has_country_flag = nhs_unlock_panama_canal
			835 = {
				NOT = { has_great_project = panama_canal }
				NOT = { has_construction = canal }
			}
		}
		allow = {
			owns_or_vassal_of = 835
			is_subject = no
			adm_tech = 18
			dip_tech = 18
			mil_tech = 18
			treasury = 20100
		}
		effect = {
			add_treasury = -20000
			if = {
				limit = {
					835 = {
						owner = {
							is_subject_of = ROOT
						}
					}
				}
				835 = {
					cede_province = ROOT
					add_core = ROOT
				}
			}
			835 = {
				add_great_project = panama_canal
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { treasury = 20100 }
			}
		}
	}
	
	nhs_build_hagia = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			OR = {
				owns = 953
				owns = 950
			}
			religion_group = christian
			NOT = { has_country_flag = nhs_building_hagia_sophia }
			has_country_flag = nhs_great_project
			NOT = {
				950 = {
					OR = {
						has_great_project = nea_hagia_sophia2
						has_province_flag = nhs_contructing_nea_hagia_sophia_four
						has_province_flag = nhs_contructing_nea_hagia_sophia_three
						has_province_flag = nhs_contructing_nea_hagia_sophia_two
						has_province_flag = nhs_contructing_nea_hagia_sophia_one
					}
				}
			}
			NOT = {
				953 = {
					OR = {
						has_great_project = nea_hagia_sophia
						has_province_flag = nhs_contructing_nea_hagia_sophia_four
						has_province_flag = nhs_contructing_nea_hagia_sophia_three
						has_province_flag = nhs_contructing_nea_hagia_sophia_two
						has_province_flag = nhs_contructing_nea_hagia_sophia_one
					}
				}
			}
		}
		allow = {
			owns = 953
			owns = 950
			religion_group = christian
			adm_tech = 16
			treasury = 5100
		}
		effect = {
			set_country_flag = nhs_building_hagia_sophia
			add_treasury = -5000
			country_event = { id = nhs_mission_events.3 }
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { treasury = 5100 }
			}
		}
	}
	
	nhs_continue_hagia = {
		major = yes
		potential = {
			OR = {
				owns = 953
				owns = 950
			}
			religion_group = christian
			NOT = { has_country_flag = nhs_building_hagia_sophia }
			953 = {
				NOT = { has_great_project = nea_hagia_sophia }
			}
			950 = {
				NOT = { has_great_project = nea_hagia_sophia2 }
			}
			OR = {
				950 = {
					OR = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_four
						has_province_flag = nhs_contructing_nea_hagia_sophia_three
						has_province_flag = nhs_contructing_nea_hagia_sophia_two
						has_province_flag = nhs_contructing_nea_hagia_sophia_one
					}
				}
				953 = {
					OR = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_four
						has_province_flag = nhs_contructing_nea_hagia_sophia_three
						has_province_flag = nhs_contructing_nea_hagia_sophia_two
						has_province_flag = nhs_contructing_nea_hagia_sophia_one
					}
				}
			}
		}
		allow = {
			owns = 953
			owns = 950
			religion_group = christian
			adm_tech = 16
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_four
					}
				}
				treasury = 1000
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_three
					}
				}
				treasury = 2000
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_two
					}
				}
				treasury = 3000
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_one
					}
				}
				treasury = 4000
			}
		}
		effect = {
			set_country_flag = nhs_building_hagia_sophia
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_four
					}
				}
				add_treasury = -1000
				random_owned_province = {
					limit = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_four
					}
					clr_province_flag = nhs_contructing_nea_hagia_sophia_four
					set_province_flag = nhs_contructing_nea_hagia_sophia_four
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_three
					}
				}
				add_treasury = -2000
				random_owned_province = {
					limit = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_three
					}
					clr_province_flag = nhs_contructing_nea_hagia_sophia_three
					set_province_flag = nhs_contructing_nea_hagia_sophia_three
				}
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_two
					}
				}
				add_treasury = -3000
				random_owned_province = {
					limit = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_two
					}
					clr_province_flag = nhs_contructing_nea_hagia_sophia_two
					set_province_flag = nhs_contructing_nea_hagia_sophia_two
				}
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_one
					}
				}
				add_treasury = -4000
				random_owned_province = {
					limit = {
						has_province_flag = nhs_contructing_nea_hagia_sophia_one
					}
					clr_province_flag = nhs_contructing_nea_hagia_sophia_one
					set_province_flag = nhs_contructing_nea_hagia_sophia_one
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				any_owned_province = {
					has_province_flag = nhs_contructing_nea_hagia_sophia_one
				}
				NOT = { treasury = 4100 }
			}
			modifier = {
				factor = 0
				any_owned_province = {
					has_province_flag = nhs_contructing_nea_hagia_sophia_two
				}
				NOT = { treasury = 3100 }
			}
			modifier = {
				factor = 0
				any_owned_province = {
					has_province_flag = nhs_contructing_nea_hagia_sophia_three
				}
				NOT = { treasury = 2100 }
			}
			modifier = {
				factor = 0
				any_owned_province = {
					has_province_flag = nhs_contructing_nea_hagia_sophia_four
				}
				NOT = { treasury = 1100 }
			}
		}
	}
	
	nhs_build_parthenon = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			OR = {
				owns = 953
				owns = 950
			}
			OR = {
				religion = pantheon_worship
				religion = aztlan_worship
			}
			has_country_flag = nhs_great_project
			NOT = { has_country_flag = nhs_building_parthenon }
			NOT = {
				950 = {
					OR = {
						has_great_project = nea_parthenon2
						has_province_flag = nhs_contructing_nea_parthenon_four
						has_province_flag = nhs_contructing_nea_parthenon_three
						has_province_flag = nhs_contructing_nea_parthenon_two
						has_province_flag = nhs_contructing_nea_parthenon_one
					}
				}
			}
			NOT = {
				953 = {
					OR = {
						has_great_project = nea_parthenon
						has_province_flag = nhs_contructing_nea_parthenon_four
						has_province_flag = nhs_contructing_nea_parthenon_three
						has_province_flag = nhs_contructing_nea_parthenon_two
						has_province_flag = nhs_contructing_nea_parthenon_one
					}
				}
			}
		}
		allow = {
			owns = 953
			owns = 950
			OR = {
				religion = pantheon_worship
				religion = aztlan_worship
			}
			adm_tech = 16
			treasury = 5100
		}
		effect = {
			set_country_flag = nhs_building_parthenon
			add_treasury = -5000
			country_event = { id = nhs_mission_events.9 }
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { treasury = 5100 }
			}
		}
	}
	
	nhs_continue_parthenon = {
		major = yes
		potential = {
			OR = {
				owns = 953
				owns = 950
			}
			OR = {
				religion = pantheon_worship
				religion = aztlan_worship
			}
			NOT = { has_country_flag = nhs_building_parthenon }
			953 = {
				NOT = { has_great_project = nea_parthenon }
			}
			950 = {
				NOT = { has_great_project = nea_parthenon2 }
			}
			OR = {
				950 = {
					OR = {
						has_province_flag = nhs_contructing_nea_parthenon_four
						has_province_flag = nhs_contructing_nea_parthenon_three
						has_province_flag = nhs_contructing_nea_parthenon_two
						has_province_flag = nhs_contructing_nea_parthenon_one
					}
				}
				953 = {
					OR = {
						has_province_flag = nhs_contructing_nea_parthenon_four
						has_province_flag = nhs_contructing_nea_parthenon_three
						has_province_flag = nhs_contructing_nea_parthenon_two
						has_province_flag = nhs_contructing_nea_parthenon_one
					}
				}
			}
		}
		allow = {
			owns = 953
			owns = 950
			OR = {
				religion = pantheon_worship
				religion = aztlan_worship
			}
			adm_tech = 16
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_parthenon_four
					}
				}
				treasury = 1100
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_parthenon_three
					}
				}
				treasury = 2100
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_parthenon_two
					}
				}
				treasury = 3100
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_parthenon_one
					}
				}
				treasury = 4100
			}
		}
		effect = {
			set_country_flag = nhs_building_parthenon
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_parthenon_four
					}
				}
				add_treasury = -1000
				random_owned_province = {
					limit = {
						has_province_flag = nhs_contructing_nea_parthenon_four
					}
					clr_province_flag = nhs_contructing_nea_parthenon_four
					set_province_flag = nhs_contructing_nea_parthenon_four
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_parthenon_three
					}
				}
				add_treasury = -2000
				random_owned_province = {
					limit = {
						has_province_flag = nhs_contructing_nea_parthenon_three
					}
					clr_province_flag = nhs_contructing_nea_parthenon_three
					set_province_flag = nhs_contructing_nea_parthenon_three
				}
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_parthenon_two
					}
				}
				add_treasury = -3000
				random_owned_province = {
					limit = {
						has_province_flag = nhs_contructing_nea_parthenon_two
					}
					clr_province_flag = nhs_contructing_nea_parthenon_two
					set_province_flag = nhs_contructing_nea_parthenon_two
				}
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_flag = nhs_contructing_nea_parthenon_one
					}
				}
				add_treasury = -4000
				random_owned_province = {
					limit = {
						has_province_flag = nhs_contructing_nea_parthenon_one
					}
					clr_province_flag = nhs_contructing_nea_parthenon_one
					set_province_flag = nhs_contructing_nea_parthenon_one
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				any_owned_province = {
					has_province_flag = nhs_contructing_nea_parthenon_one
				}
				NOT = { treasury = 4100 }
			}
			modifier = {
				factor = 0
				any_owned_province = {
					has_province_flag = nhs_contructing_nea_parthenon_two
				}
				NOT = { treasury = 3100 }
			}
			modifier = {
				factor = 0
				any_owned_province = {
					has_province_flag = nhs_contructing_nea_parthenon_three
				}
				NOT = { treasury = 2100 }
			}
			modifier = {
				factor = 0
				any_owned_province = {
					has_province_flag = nhs_contructing_nea_parthenon_four
				}
				NOT = { treasury = 1100 }
			}
		}
	}
	
	nhs_an_offer_they_cant_refuse = {
		major = yes
		potential = {
			nhs_is_elysia = yes
			has_country_flag = nhs_completed_inward_focus
			OR = {
				AND = {
					exists = MK1
					MK1 = { NOT = { is_subject_of = ROOT } }
				}
				AND = {
					exists = HLL
					HLL = { NOT = { is_subject_of = ROOT } }
				}
				AND = {
					exists = VIN
					VIN = { NOT = { is_subject_of = ROOT } }
				}
			}
		}
		allow = {
			treasury = 1000
			if = {
				limit = {
					exists = MK1
					MK1 = { NOT = { is_subject_of = ROOT } }
					exists = HLL
					HLL = { NOT = { is_subject_of = ROOT } }
					exists = VIN
					VIN = { NOT = { is_subject_of = ROOT } }
				}
				
				OR = {
					nhs_can_offer_viking_subjegation = { 
						TAG = MK1 
						TRADE_DEAL_TRIGGER = trading_with_markland 
					}
					nhs_can_offer_viking_subjegation = { 
						TAG = HLL
						TRADE_DEAL_TRIGGER = trading_with_helluland 
					}
					nhs_can_offer_viking_subjegation = { 
						TAG = VIN 
						TRADE_DEAL_TRIGGER = trading_with_vinland 
					}
				}
				# OR = {
					# AND = {
						
						# trading_with_markland = yes
						# MK1 = {	
							# ai = yes
							# is_subject = no
							# #NOT = { total_development = 250 }
							# nhs_has_less_than_25_percent_dev = { TAG = MK1 }
						# }
					# }
					# AND = {
						# trading_with_helluland = yes
						# HLL = {
							# ai = yes
							# is_subject = no
							# #NOT = { total_development = 250 }
							# nhs_has_less_than_25_percent_dev = { TAG = HLL }
						# }
					# }
					# AND = {
						# trading_with_vinland = yes
						# VIN = {
							# ai = yes
							# is_subject = no
							# #NOT = { total_development = 250 }
							# nhs_has_less_than_25_percent_dev = { TAG = VIN }
						# }
					# }
				# }
			}
			else_if = {
				limit = {
					exists = MK1
					MK1 = { NOT = { is_subject_of = ROOT } }
					exists = HLL
					HLL = { NOT = { is_subject_of = ROOT } }
				}
				OR = {
					nhs_can_offer_viking_subjegation = { 
						TAG = MK1 
						TRADE_DEAL_TRIGGER = trading_with_markland 
					}
					nhs_can_offer_viking_subjegation = { 
						TAG = HLL
						TRADE_DEAL_TRIGGER = trading_with_helluland 
					}
				}
			}
			else_if = {
				limit = {
					exists = MK1
					MK1 = { NOT = { is_subject_of = ROOT } }
					exists = VIN
					VIN = { NOT = { is_subject_of = ROOT } }
				}
				OR = {
					nhs_can_offer_viking_subjegation = { 
						TAG = MK1 
						TRADE_DEAL_TRIGGER = trading_with_markland 
					}
					nhs_can_offer_viking_subjegation = { 
						TAG = VIN 
						TRADE_DEAL_TRIGGER = trading_with_vinland 
					}
				}
			}
			else_if = {
				limit = {
					exists = HLL
					HLL = { NOT = { is_subject_of = ROOT } }
					exists = VIN
					VIN = { NOT = { is_subject_of = ROOT } }
				}
				OR = {
					nhs_can_offer_viking_subjegation = { 
						TAG = HLL
						TRADE_DEAL_TRIGGER = trading_with_helluland 
					}
					nhs_can_offer_viking_subjegation = { 
						TAG = VIN 
						TRADE_DEAL_TRIGGER = trading_with_vinland 
					}
				}
			}
			else_if = {
				limit = {
					exists = HLL
					HLL = { NOT = { is_subject_of = ROOT } }
				}
				nhs_can_offer_viking_subjegation = { 
					TAG = HLL
					TRADE_DEAL_TRIGGER = trading_with_helluland 
				}
			}
			else_if = {
				limit = {
					exists = VIN
					VIN = { NOT = { is_subject_of = ROOT } }
				}
				nhs_can_offer_viking_subjegation = { 
						TAG = VIN 
						TRADE_DEAL_TRIGGER = trading_with_vinland 
					}
			}
			else_if = {
				limit = {
					exists = MK1
					MK1 = { NOT = { is_subject_of = ROOT } }
				}
				nhs_can_offer_viking_subjegation = { 
					TAG = MK1 
					TRADE_DEAL_TRIGGER = trading_with_markland 
				}
			}
		}
		effect = {
			add_treasury = -1000
			add_adm_power = -25
			add_dip_power = -50
			add_mil_power = -50
			if = {
				limit = {
					trading_with_markland = yes
					exists = MK1
					MK1 = { NOT = { is_subject_of = ROOT } }
				}
				create_subject = {
					subject_type = nhs_imperial_associate
					subject = MK1
				}
			}
			else_if = {
				limit = {
					trading_with_helluland = yes
					exists = HLL
					HLL = { NOT = { is_subject_of = ROOT } }
				}
				create_subject = {
					subject_type = nhs_imperial_associate
					subject = HLL
				}
			}
			else_if = {
				limit = {
					trading_with_vinland = yes
					exists = VIN
					VIN = { NOT = { is_subject_of = ROOT } }
				}
				create_subject = {
					subject_type = nhs_imperial_associate
					subject = VIN
				}
			}
			else_if = {
				limit = {
					exists = VIN
					VIN = { NOT = { is_subject_of = ROOT } }
				}
				create_subject = {
					subject_type = nhs_imperial_associate
					subject = VIN
				}
			}
			else_if = {
				limit = {
					exists = MK1
					MK1 = { NOT = { is_subject_of = ROOT } }
				}
				create_subject = {
					subject_type = nhs_imperial_associate
					subject = MK1
				}
			}
			else_if = {
				limit = {
					exists = HLL
					HLL = { NOT = { is_subject_of = ROOT } }
				}
				create_subject = {
					subject_type = nhs_imperial_associate
					subject = HLL
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					NOT = { treasury = 1100 }
					num_of_loans = 1
				}
			}
		}
	}
	
	nhs_reduce_senate = {
		major = yes
		potential = {
			nhs_is_elysia = yes
			has_reform = senatorial_empire
			OR = {
				current_age = age_of_absolutism
				current_age = age_of_revolutions
			}
			NOT = { has_dlc = "Dharma" }
		}
		allow = {
			has_reform = senatorial_empire
			absolutism = 70
			stability = 1
			custom_trigger_tooltip = {
				tooltip = nhs_nhs_reduce_senate2_tt
				NOT = { has_ruler_flag = nhs_changed_to_abs }
			}
		}
		effect = {
			add_government_reform = elysian_absolute_empire
			#custom_tooltip = nhs_nhs_reduce_senate_tt
			add_absolutism = 5
			add_stability = -2
			add_legitimacy = -30
			add_adm_power = -100
			if = {
				limit = {
					has_country_modifier = nhs_extended_city_senate
				}
				remove_country_modifier = nhs_extended_city_senate
			}
			if = {
				limit = {
					has_country_modifier = nhs2_patriarch_influences_minor
				}
				remove_country_modifier = nhs2_patriarch_influences_minor
			}
			if = {
				limit = {
					has_country_modifier = nhs2_patriarch_influences_major
				}
				remove_country_modifier = nhs2_patriarch_influences_major
			}
			if = {
				limit = {
					any_owned_province = {
						has_province_modifier = nhs2_patriarchate_land_capital
					}
				}
				random_owned_province = {
					limit = {
						has_province_modifier = nhs2_patriarchate_land_capital
					}
					remove_country_modifier = nhs2_patriarchate_land_capital
				}
			}
			custom_tooltip = nhs_path_to_revolution_tt
			clr_country_flag = nhs_had_nhs_elysIdeaEvents_20
			hidden_effect = {
				set_ruler_flag = nhs_changed_to_abs
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	nhs_empower_senate = {
		major = yes
		potential = {
			nhs_is_elysia = yes
			has_reform = elysian_absolute_empire
			NOT = { has_dlc = "Dharma" }
		}
		allow = {
			custom_trigger_tooltip = {
				tooltip = nhs_nhs_reduce_senate2_tt
				NOT = { has_ruler_flag = nhs_changed_to_abs }
			}
		}
		effect = {
			add_government_reform = senatorial_empire
			add_stability = 1
			add_legitimacy = 20
			add_adm_power = -50
			add_absolutism = -20
			custom_tooltip = nhs_nhs_seats_tt
			hidden_effect = {
				if = {
					limit = {
						has_dlc = "Common Sense"
					}
					every_owned_province = {
						limit = {
							OR = {
								nhs_homelands = yes
								is_capital = yes
							}
						}
						set_seat_in_parliament = yes
					}
				}
				set_ruler_flag = nhs_changed_to_abs
			}

		}
		ai_will_do = {
			factor = 0
		}
	}
	
	nhs_nodlc_emigration = {
		major = yes
		potential = {
			nhs_is_elysia = yes
			NOT = { has_reform = elysian_empire }
			OR = {
				ai = yes
				NOT = { has_reform = senatorial_empire }
				NOT = { has_dlc = "Common Sense" }
			}
			any_owned_province = {
				has_province_modifier = nhs2_capital_emigration
			}
		}

		allow = {	
			OR = {
				custom_trigger_tooltip = {
					tooltip = development_of_the_true_homeland_comp_tt
					has_country_flag = development_of_the_true_homeland_done
				}
				AND = {
					treasury = 600
					adm_power = 25
					dip_power = 25
					mil_power = 25
				}
			}
		}

		effect = {
			if = {
				limit = {
					NOT = { has_country_flag = development_of_the_true_homeland_done }
				}
				add_treasury = -500
				add_adm_power = -25
				add_dip_power = -25
				add_mil_power = -25
			}
			random_owned_province = {
				limit = {
					has_province_modifier = nhs2_capital_emigration
				}
				remove_province_modifier = nhs2_capital_emigration
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	nhs_abandon_greece = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			has_country_flag = nhs_cant_think_of_a_name
			NOT = { has_country_modifier = nhs_handicap_settlers }
			NOT = { has_country_flag = nhs_invasion_begins }
			NOT = { has_country_flag = nhs_invasion_second_part_begins }
			NOT = { has_country_flag = nhs_invasion_over }
			NOT = { has_country_flag = nhs_completed_nhs_back_to_the_motherland }
			NOT = { has_country_flag = nhs_completed_inward_focus }
			#NOT = { has_country_flag = nhs_abandoned_greece }
		}

		allow = {
			technology_group = modern_greek
			is_year = 1550
			OR = {
				NOT = { religion_group = christian }
				stability = 1
			}
			custom_trigger_tooltip = {
				tooltip = nhs_completed_nhs_form_colonial_institution_2_mission_tt
				has_country_modifier = nhs_organised_expansion_2
			}
			chesapeake_area = {
				type = all
				owned_by = ROOT
			}
		}

		effect = {
			#set_country_flag = nhs_took_abandon
			custom_tooltip = nhs_no_longer_invade_tt
			custom_tooltip = nhs_completes_nhs_inward_focus
			hidden_effect = {
				complete_mission = nhs_inward_focus
			}
			custom_tooltip = nhs_inwards_lock
			custom_tooltip = nhs_replace_ambition_inward_tt
			hidden_effect = {
				remove_country_modifier = nhs_organised_expansion_2
				add_country_modifier = {
					name = nhs_organised_expansion_inwars_1
					duration = -1
				}
			}
			custom_tooltip = nhs_unlocks_vinland_sub_dec
			custom_tooltip = nhs_inward_focus_build_cost_reduction_tt

			set_country_flag = nhs_completed_inward_focus
			set_country_flag = nhs_start_counting_buildings
			if = {
				limit = {
					religion_group = christian
				}
				add_stability = -1
				add_prestige = -30
				add_legitimacy = -30
			}
			else = {
				add_prestige = -20
				add_legitimacy = -10
			}
			every_country = {
				limit = {
					culture_group = byzantine
					NOT = { primary_culture = turkish }
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = nhs_abandoned
				}
			}
			if = {
				limit = {
					953 = {
						trade_goods = grain
					}
				}
				custom_tooltip = nhs_change_elysia_to_cloth_tt
				hidden_effect = {
					change_trade_goods = cloth
				}
			}
			custom_tooltip = nhs_add_grassland_improvement_tt
			custom_tooltip = nhs_new_line_tt
			custom_tooltip = nhs_add_coastline_improvement_tt
			custom_tooltip = nhs_new_line_tt
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							province_id = 953
							province_id = 2550
							province_id = 952
						}
					}
					add_permanent_province_modifier = {
						name = nhs2_improve_grassland
						duration = -1
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							province_id = 2554
							province_id = 957
						}
					}
					add_permanent_province_modifier = {
						name = nhs2_improve_coastline
						duration = -1
					}
				}
			}
			if = {
				limit = {
					950 = {
						has_province_modifier = nhs2_drain_ivos_swamps
					}
				}
				custom_tooltip = nhs_upgrade_swamp_drain_tt
				hidden_effect = {
					950 = {
						remove_province_modifier = nhs2_drain_ivos_swamps
						add_permanent_province_modifier = {
							name = nhs2_drain_ivos_swamps2
							duration = -1
						}
					}
				}
			}
			else = {
				950 = {
					add_permanent_province_modifier = {
						name = nhs2_drain_ivos_swamps2
						duration = -1
					}
				}
			}
			set_country_flag = nhs_abandoned_greece
			hidden_effect = {
				every_province = {
					limit = {
						continent = north_america
					}
					add_province_triggered_modifier = nhs_inward_focus_build_cost_reduction
				}
				set_variable = {
					which = nhs_HighTierBuildingCount
					value = 0
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = town_hall
						NOT = { has_province_flag = nhs_has_town_hall }
					}
					set_province_flag = nhs_has_town_hall
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = counting_house
						NOT = { has_province_flag = nhs_has_counting_house }
					}
					set_province_flag = nhs_has_counting_house
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = cathedral
						NOT = { has_province_flag = nhs_has_cathedral }
					}
					set_province_flag = nhs_has_cathedral
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = university
						NOT = { has_province_flag = nhs_has_university }
					}
					set_province_flag = nhs_has_university
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = grand_shipyard
						NOT = { has_province_flag = nhs_has_grand_shipyard }
					}
					set_province_flag = nhs_has_grand_shipyard
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = drydock
						NOT = { has_province_flag = nhs_has_drydock }
					}
					set_province_flag = nhs_has_drydock
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = stock_exchange
						NOT = { has_province_flag = nhs_has_stock_exchange }
					}
					set_province_flag = nhs_has_stock_exchange
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = training_fields
						NOT = { has_province_flag = nhs_has_training_fields }
					}
					set_province_flag = nhs_has_training_fields
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = trade_depot 
						NOT = { has_province_flag = nhs_has_trade_depot  }
					}
					set_province_flag = nhs_has_trade_depot
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						has_building = conscription_center
						NOT = { has_province_flag = nhs_has_conscription_center }
					}
					set_province_flag = nhs_has_conscription_center
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
				every_owned_province = {
					limit = {
						continent = north_america
						OR = {
							has_building = mills
							has_building = farm_estate
							has_building = tradecompany
							has_building = plantations
							has_building = textile
							has_building = weapons
							has_building = wharf
							has_building = furnace
						}
						NOT = { has_province_flag = nhs_has_manufactory }
					}
					set_province_flag = nhs_has_manufactory
					owner = {
						change_variable = {
							which = nhs_HighTierBuildingCount
							value = 1
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	nhs_rekindle_invasion_effort = {
		major = yes
		potential = {
			nhs_is_elysia_late = yes
			has_country_flag = nhs_abandoned_greece
		}

		allow = {
			#technology_group = modern_greek
			is_year = 1600
			adm_tech = 18
			dip_tech = 16
			OR = {
				religion_group = christian
				AND = {
					stability = 1
					legitimacy = 90
				}
			}
		}

		effect = {
			if = {
				limit = {
					NOT = { religion_group = christian }
				}
				add_stability = -1
				add_prestige = -10
				add_legitimacy = -30
				add_adm_power = -100
				add_dip_power = -100
			}
			else = {
				add_prestige = -10
				add_legitimacy = -10
				add_adm_power = -50
				add_dip_power = -50
			}
			clr_country_flag = nhs_abandoned_greece
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	nhs_restore_the_senate_decision = {
		major = yes
		potential = {
			OR = {
				has_reform = elysian_republic
				has_reform = nhs_noble_republic
				has_reform = elysian_revolutionary_republic
			}
			has_parliament = no
			has_dlc = "Common Sense"
			NOT = { has_dlc = "Dharma" }
		}

		allow = {
			adm_power = 25
			custom_trigger_tooltip = {
				tooltip = nhs_nhs_reduce_senate2_tt
				NOT = { has_ruler_flag = nhs_changed_to_abs }
			}
		}

		effect = {
			add_adm_power = -25
			reinstate_parliament = yes
			add_country_modifier = {
				name = nhs2_restored_senate_of_cities
				duration = -1
			}
			if = {
				limit = {
					has_dlc = "Common Sense"
				}
				custom_tooltip = nhs_nhs_seats_tt
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								province_id = 2550
								province_id = 952
								province_id = 950
								province_id = 2554
								province_id = 953
								province_id = 957
							}
						}
						set_seat_in_parliament = yes
					}
				}
			}
			set_country_flag = nhs_changed_to_abs
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	nhs_disolve_the_senate_decision = {
		major = yes
		potential = {
			OR = {
				has_reform = elysian_republic
				has_reform = nhs_noble_republic
				has_reform = elysian_revolutionary_republic
			}
			has_parliament = yes
			has_dlc = "Common Sense"
			NOT = { has_dlc = "Dharma" }
		}

		allow = {
			adm_power = 25
			custom_trigger_tooltip = {
				tooltip = nhs_nhs_reduce_senate2_tt
				NOT = { has_ruler_flag = nhs_changed_to_abs }
			}
		}

		effect = {
			add_adm_power = -25
			dissolve_parliament = yes
			remove_country_modifier = nhs2_restored_senate_of_cities
			set_country_flag = nhs_changed_to_abs
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	nhs_seize_executive_power_decision = {
		major = yes
		potential = {
			has_reform = nhs_noble_republic
			NOT = { has_dlc = "Dharma" }
		}

		allow = {
			has_reform = nhs_noble_republic
			stability = 1
			NOT = { has_country_modifier = nhs2_restored_senate_of_cities }
		}

		effect = {
			change_tag = ELY
			nhs_change_government = { GOV = monarchy }
			add_government_reform = elysian_absolute_empire
			add_country_modifier = {
				name = rev_absolute_authority
				duration = -1
			}
			add_absolutism = 5
			add_stability = -1
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	nhs_restore_monarchy_reform_decision = {
		major = yes
		potential = {
			has_reform = nhs_noble_republic
			NOT = { has_dlc = "Dharma" }
		}

		allow = {
			has_reform = nhs_noble_republic
			has_country_modifier = nhs2_restored_senate_of_cities
		}

		effect = {
			change_tag = ELY
			nhs_change_government = { GOV = monarchy }
			add_government_reform = senatorial_empire
			remove_country_modifier = nhs2_restored_senate_of_cities
			if = {
				limit = {
					has_country_modifier = rev_absolute_authority
				}
				remove_country_modifier = rev_absolute_authority
			}
			add_country_modifier = {
				name = nhs_extended_city_senate
				duration = -1
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
}
