namespace = nhs2_test

# Removes the overseas penalty from Constantinople
country_event = {
	id = nhs2_test.1
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	

	option = {
		name = "nhs2_mainlandevents1.a"
		change_primary_culture = high_elysian
		every_province = {
			limit = {
				culture = elysian
			}
			change_culture = high_elysian
		}
		change_tag = ELY
		add_government_reform = senatorial_empire
		hidden_effect = {
			every_province = {
				limit = {
					continent = north_america
				}
				cede_province = ROOT
				change_religion = ROOT
				change_culture = high_elysian
				add_core = ROOT
				change_trade_goods = grain
			}
		}
		change_technology_group = modern_greek
		change_unit_type  = elysian_unit
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
		change_primary_culture = high_elysian
		every_province = {
			limit = {
				culture = elysian
			}
			change_culture = high_elysian
		}
		change_tag = ELY
		add_government_reform = senatorial_empire
		hidden_effect = {
			every_province = {
				limit = {
					continent = north_america
				}
				cede_province = ROOT
				change_religion = ROOT
				change_culture = high_elysian
				add_core = ROOT
				change_trade_goods = grain
			}
			every_owned_province = {
				limit = {
					region = great_plains_region
				}
				change_culture = skythiai
				if = {
					limit = {
						has_province_modifier = nhs2_elysian_minority
					}
					remove_province_modifier = nhs2_elysian_minority
				}
				if = {
					limit = {
						has_province_modifier = nhs2_actual_elysian_minority
					}
					remove_province_modifier = nhs2_actual_elysian_minority
				}
				add_permanent_province_modifier = {
					name = nhs2_elysian_horselords
					duration = -1
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						region = cascadia_region
						region = hudson_bay_region
						area = interior_plateau_area
						area = north_columbia_area
						area = snake_river_area
						area = salt_lake_area
					}
				}
				change_culture = hyperborealian
			}	
			every_owned_province = {
				limit = {
					region = great_lakes_region 
				}
				change_culture = borealian
			}
			every_owned_province = {
				limit = {
					region = california_region
				}
				change_culture = hesperidian
			}
			every_owned_province = {
				limit = {
					OR = {
						region = carribeans_region
					}
				}
				change_culture = kykladian
			}
		}
		change_technology_group = modern_greek
		change_unit_type  = elysian_unit
		set_country_flag = nhs_can_reign_subjects
		# hidden_effect = {
		# 	every_owned_province = {
		# 		limit = {
		# 			culture = borealian
		# 		}
		# 		cede_province = BOR
		# 		add_core = BOR
		# 	}
		# 	every_owned_province = {
		# 		limit = {
		# 			culture = elysameric
		# 		}
		# 		cede_province = ELA
		# 		add_core = ELA
		# 	}
		# 	every_owned_province = {
		# 		limit = {
		# 			culture = skythiai
		# 		}
		# 		cede_province = SKY
		# 		add_core = SKY
		# 	}
		# 	every_owned_province = {
		# 		limit = {
		# 			culture = hyperborealian
		# 		}
		# 		cede_province = HBR
		# 		add_core = HBR
		# 	}
		# 	#OLD
		# 	every_owned_province = {
		# 		limit = {
		# 			culture = hesperidian
		# 		}
		# 		cede_province = HSP
		# 		add_core = HSP
		# 	}
			#NEW
			
			# if = {
			# 	limit = {
			# 		any_owned_province = {
			# 			culture = hesperidian
			# 		}
			# 	}
			# 	every_owned_province = {
			# 		limit = {
			# 			culture = hesperidian
			# 			NOT = { is_core = HSP }
			# 		}
			# 		add_core = HSP
			# 	}
			# 	if = {
			# 		limit = {
			# 			NOT = { exists = HSP }
			# 		}
			# 		release = HSP
			# 		HSP = {
			# 			change_religion = ROOT
			# 		}
			# 	}
			# 	else = {
			# 		every_owned_province = {
			# 			limit = {
			# 				culture = hesperidian
			# 			}
			# 			cede_province = HSP
			# 		}
			# 	}
			# }
			
			# every_owned_province = {
			# 	limit = {
			# 		culture = kykladian
			# 	}
			# 	cede_province = KYK
			# 	add_core = KYK
			# }
			# every_owned_province = {
			# 	limit = {
			# 		culture = lakonian
			# 	}
			# 	cede_province = LAK
			# 	add_core = LAK
			# }
			# every_owned_province = {
			# 	limit = {
			# 		culture = varangian_e
			# 	}
			# 	cede_province = VAE
			# 	add_core = VAE
			# }
		# 	if = {
		# 		limit = { religion = elysian_orthodoxy }
		# 		BOR = { change_religion = elysian_orthodoxy }
		# 		ELA = { change_religion = elysian_orthodoxy }
		# 		SKY = { change_religion = elysian_orthodoxy }
		# 		HBR = { change_religion = elysian_orthodoxy }
		# 		HSP = { change_religion = elysian_orthodoxy }
		# 		LAK = { change_religion = elysian_orthodoxy }
		# 		VAE = { change_religion = elysian_orthodoxy }
		# 	}
		# 	if = {
		# 		limit = { 
		# 			religion = elysian_orthodoxy
		# 			KYK = { religion = pantheon_worship } 
		# 		}
		# 		KYK = { change_religion = elysian_orthodoxy }
		# 	}
		# }
	}
	
	option = {
		name = "ALL EUROPE"
		hidden_effect = {
			every_province = {
				limit = {
					OR = {
						superregion = near_east_superregion
						continent = europe
						region = maghreb_region
						region = egypt_region
						region = persia_region
					}
					
				}
				cede_province = ROOT
				add_core = ROOT
			}
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.c"
		hidden_effect = {
			every_province = {
				limit = {
					OR = {
						region = maghreb_region
						region = egypt_region
					}
				}
				cede_province = ROOT
				add_core = ROOT
			}
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.d"
		hidden_effect = {
			every_province = {
				limit = {
					OR = {
						region = anatolia_region
						region = balkan_region
					}
				}
				cede_province = ELG
			}
		}
	}
}

country_event = {
	id = nhs2_test.2
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	trigger = {
		any_province = {
			region = canada_region
			has_port = yes
			NOT = { has_province_modifier = vov_coastal_bonus_tm }
		}
	}
	immediate = {
		every_province = {
			limit = {
				region = canada_region
				has_port = yes
				NOT = { has_province_modifier = vov_coastal_bonus_tm }
			}
			if = {
				limit = {
					is_empty = yes
				}
				add_permanent_province_modifier = {
					name = vov_coastal_bonus
					duration = -1
				}
			}
			add_province_triggered_modifier = vov_coastal_bonus_tm
		}
	}
	option = {
		name = "nhs2_hidden.a"
	}
}

country_event = {
	id = nhs2_test.3
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	

	option = {
		name = "nhs2_mainlandevents1.a"
		change_religion = elysian_orthodoxy
		hidden_effect = {
			every_province = {
				limit = {
					continent = north_america
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
				add_core = ROOT
				change_trade_goods = grain
			}
		}
		every_owned_province = {
			limit = {
				is_colony = yes
			}
			add_colonysize = 1000
		}
	}
	option = {
		every_owned_province = {
			add_nationalism = -10
		}
	}
	option = {
		change_primary_culture = high_elysian
		change_tag = ELY
		add_government_reform = senatorial_empire
		change_technology_group = modern_greek
		change_unit_type  = elysian_unit
		hidden_effect = {
			every_province = {
				limit = {
					continent = north_america
					is_wasteland = no
				}
				cede_province = ROOT
				if = {
					limit = {
						nhs_borealian_areas = yes
					}
					change_culture = borealian
				}
				else_if = {
					limit = {
						nhs_hyperborealian_areas = yes
					}
					change_culture = hyperborealian
				}
				else_if = {
					limit = {
						nhs_hesperidian_areas = yes
					}
					change_culture = hesperidian
				}
				else_if = {
					limit = {
						region = great_plains_region
					}
					change_culture = skythiai
				}
				else_if = {
					limit = {
						region = carribeans_region
					}
					change_culture = kykladian
				}
				else_if = {
					limit = {
						has_port = yes
						OR = {
							province_group = mesoamerican_landing
							region = southeast_america_region
							region = mississippi_region
							region = northeast_america_region
							province_id = 979
							province_id = 502
							#province_has_center_of_trade_of_level = 1
						}
						NOT = { nhs_homelands = yes }
					}
					change_culture = elyshi
				}
				else_if = {
					limit = {
						has_port = yes
						OR = {
							province_group = mesoamerican_landing
							region = southeast_america_region
							region = mississippi_region
							region = northeast_america_region
							province_id = 979
							province_id = 502
							#province_has_center_of_trade_of_level = 1
						}
						NOT = { nhs_homelands = yes }
					}
					change_culture = elyshi
				}
				else_if = {
					limit = {
						NOT = { nhs_homelands = yes }
					}
					change_culture = elyric
				}
				else = {
					change_culture = ROOT
				}
				change_religion = ROOT
				add_core = ROOT
				change_trade_goods = grain
			}
		}
	}
}

country_event = {
	id = nhs2_test.4
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	

	option = {
		name = "nhs2_mainlandevents1.a"
		change_primary_culture = high_elysian
		change_tag = ELY
		nhs_change_government = { GOV = monarchy }
		add_government_reform = senatorial_empire
		change_technology_group = modern_greek
		change_unit_type  = elysian_unit
	}
	option = {
		name = "nhs2_mainlandevents1.a"
		change_primary_culture = high_elysian
		change_tag = ERF
		nhs_change_government = { GOV = republic }
		add_government_reform = elysian_republic
		change_technology_group = modern_greek
		change_unit_type  = elysian_unit
	}
	option = {
		name = "nhs2_mainlandevents1.a"
		change_primary_culture = high_elysian
		change_tag = ELR
		nhs_change_government = { GOV = republic }
		add_government_reform = nhs_noble_republic
		change_technology_group = modern_greek
		change_unit_type  = elysian_unit
	}
	option = {
		name = "nhs2_mainlandevents1.a"
		change_primary_culture = high_elysian
		change_tag = ERR
		nhs_change_government = { GOV = republic }
		add_government_reform = elysian_revolutionary_republic
		change_technology_group = modern_greek
		change_unit_type  = elysian_unit
	}
}

country_event = {
	id = nhs2_test.5
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
	}
	
	immediate = {
		custom_tooltip = nhs_too_many_patriarch_t
	}

	option = {
		name = "nhs2_mainlandevents1.a"
		change_religion = elysian_orthodoxy
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
		change_religion = pantheon_worship
	}
}



# #Althing fix
# country_event = {
	# id = nhs2_test.7
	# title = nhs2_fix2
	# desc = nhs2_fix2
	# picture = CITY_VIEW_eventPicture
	
	# hidden = yes
	
	# trigger = {
		# has_reform = althing_republic
		# OR = {
			# NOT = { has_faction = vin_vikingr }
			# NOT = { has_faction = vin_farmadr }
			# AND = {
				# NOT = { has_faction = vin_gothar }
				# has_global_flag = nhs_vov_reformed_norse
			# }
		# }	
	# }
	
	# immediate = {
		# if = {
			# limit = {
				# NOT = { has_faction = vin_vikingr }
			# }
			# add_faction = vin_vikingr
		# }
		# if = {
			# limit = {
				# NOT = { has_faction = vin_farmadr }
			# }
			# add_faction = vin_farmadr
		# }
		# if = {
			# limit = {
				# AND = {
					# NOT = { has_faction = vin_gothar }
					# has_global_flag = nhs_vov_reformed_norse
				# }
			# }
			# add_faction = vin_gothar
		# }
	# }
	

	# option = {
		# name = "nhs2_mainlandevents1.a"
	# }
# }


#Remove trading if trading partner doesn't exist
country_event = {
	id = nhs2_test.12
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	
	trigger = {
		nhs_is_elysia = yes
		OR = {
			AND = {
				NOT = { exists = MK1 }
				trading_with_markland = yes
			}
			AND = {
				NOT = { exists = HLL }
				trading_with_helluland = yes
			}
			AND = {
				NOT = { exists = VIN }
				trading_with_vinland = yes
			}
		}
	}
	
	immediate = {
		clr_global_flag = nhs_vov_markland_deal_f
		clr_global_flag = nhs_vov_helluland_deal_f
		clr_global_flag = nhs_vov_vinland_deal_f
		set_global_flag = nhs_vov_no_deal
		if = {
			limit = {
				has_country_modifier = nhs_vov_markland_deal
			}
			remove_country_modifier = nhs_vov_markland_deal
			MK1 = { 
				remove_country_modifier = nhs_vov_trade_deal
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_vov_helluland_deal
			}
			remove_country_modifier = nhs_vov_helluland_deal
			HLL = { 
				remove_country_modifier = nhs_vov_trade_deal
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_vov_vinland_deal
			}
			remove_country_modifier = nhs_vov_vinland_deal
			VIN = { 
				remove_country_modifier = nhs_vov_trade_deal
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_vov_markland_deal_after
			}
			remove_country_modifier = nhs_vov_markland_deal_after
			MK1 = { 
				remove_country_modifier = nhs_vov_trade_deal
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_vov_helluland_deal_after
			}
			remove_country_modifier = nhs_vov_helluland_deal_after
			HLL = { 
				remove_country_modifier = nhs_vov_trade_deal
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_vov_vinland_deal_after
			}
			remove_country_modifier = nhs_vov_vinland_deal_after
			VIN = { 
				remove_country_modifier = nhs_vov_trade_deal
			}
		}
	}
	

	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

# #Greek fire update flag fix
# country_event = {
	# id = nhs2_test.13
	# title = nhs2_mainlandevents1.t
	# desc = nhs2_mainlandevents1.d
	# picture = CITY_VIEW_eventPicture
	
	# hidden = yes
	
	# trigger = {
		# NOT = { has_country_flag = nhs_updated_fire }
		# has_country_modifier = nhs_greekfire_update
	# }
	
	# immediate = {
		# set_country_flag = nhs_updated_fire
	# }
	

	# option = {
		# name = "nhs2_mainlandevents1.a"
	# }
# }

# #Icons flag fix
# country_event = {
	# id = nhs2_test.14
	# title = nhs2_mainlandevents1.t
	# desc = nhs2_mainlandevents1.d
	# picture = CITY_VIEW_eventPicture
	
	# hidden = yes
	
	# trigger = {
		# had_country_flag = { flag = nhs_choosing_icon days = 365 }
	# }
	
	# immediate = {
		# clr_country_flag = nhs_choosing_icon
	# }
	

	# option = {
		# name = "nhs2_mainlandevents1.a"
	# }
# }

# #Icons flag fix
# country_event = {
	# id = nhs2_test.15
	# title = nhs2_mainlandevents1.t
	# desc = nhs2_mainlandevents1.d
	# picture = CITY_VIEW_eventPicture
	
	# hidden = yes
	
	# trigger = {
		# OR = {
			# religion = norse_pagan_reformed
			# religion = pantheon_worship
			# religion = aztlan_worship
		# }
		# ai = no
		# has_regency = no
		# NOT = { has_dlc = "Wealth of Nations" }
		# NOT = { has_personal_deity = odin }
		# NOT = { has_personal_deity = freya }
		# NOT = { has_personal_deity = tor }
		# NOT = { has_personal_deity = tyr }
		# NOT = { has_personal_deity = njord }
		# NOT = { has_personal_deity = snotra }
		# NOT = { has_personal_deity = ullr }
		# NOT = { has_personal_deity = hel }
		# NOT = { has_personal_deity = Leonidas }
		# NOT = { has_personal_deity = Texcatlipoca }
		# NOT = { has_personal_deity = Quetzacoatl }
		# NOT = { has_personal_deity = Tlaloc }
		# NOT = { has_personal_deity = Chalchiuhtlicue }
		# NOT = { has_personal_deity = Ares_2 }
		# NOT = { has_personal_deity = Mictlantlencuhtli }
		# NOT = { has_personal_deity = Poseidon_2 }
		# NOT = { has_personal_deity = Zeus }
		# NOT = { has_personal_deity = hera }
		# NOT = { has_personal_deity = Poseidon }
		# NOT = { has_personal_deity = Hades }
		# NOT = { has_personal_deity = Ares }
		# NOT = { has_personal_deity = Athena }
		# NOT = { has_personal_deity = Hermes }
		# NOT = { has_personal_deity = Aphrodite }
		# has_country_flag = nhs_choosing_d
	# }
	
	# immediate = {
		# clr_country_flag = nhs_choosing_d
	# }
	

	# option = {
		# name = "nhs2_mainlandevents1.a"
	# }
# }

#Jerusalem name
country_event = {
	id = nhs2_test.16
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	
	trigger = {
		owns = 379
		culture_group = turko_semitic
		is_subject = yes
		overlord = {
			OR = {
				culture_group = elysian_group
				culture_group = spartakian_group
			}
			religion_group = christian
		}
	}
	
	immediate = {
		379 = {
			change_province_name = "Jerusalem"
			rename_capital = "Jerusalem"
		}
	}
	

	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Jerusalem name
country_event = {
	id = nhs2_test.17
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	
	trigger = {
		owns = 379
		culture_group = turko_semitic
		OR = {
			is_subject = no
			NOT = {
				overlord = {
					OR = {
						culture_group = elysian_group
						culture_group = spartakian_group
					}
					religion_group = christian
				}
			}
		}
	}
	
	immediate = {
		379 = {
			change_province_name = "al-Quds"
			rename_capital = "Al Quds"
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Albanian fix
country_event = {
	id = nhs2_test.18
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			any_owned_province = {
				has_province_modifier = nhs2_albanian_majority
			}
			any_owned_province = {
				culture = shqiperi
			}
		}
		has_global_flag = nhs_shqiperi_into_elysian
		OR = {
			culture_group = elysian_group
			tag = SHQ
		}
	}
	
	immediate = {
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_albanian_majority
			}
			remove_province_modifier = nhs2_albanian_majority
			add_permanent_province_modifier = {
				name = "nhs2_albanian_majority2"
				duration = -1
			}
			change_culture = shqipproi
		}
		every_owned_province = {
			limit = {
				culture = shqiperi
			}
			change_culture = shqipproi
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Albanian fix 2
country_event = {
	id = nhs2_test.19
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			tag = SHQ
			primary_culture = shqipproi
			primary_culture = shqiperi
		}
		OR = {
			AND = {
				primary_culture = shqiperi
				has_global_flag = nhs_shqiperi_into_elysian
			}
			AND = {
				NOT = { has_global_flag = nhs_shqiperi_into_elysian }
				any_owned_province = {
					has_province_modifier = nhs2_albanian_majority
					NOT = { has_province_modifier = nhs2_albanian_majority_no }
				}
			}
			AND = {
				has_global_flag = nhs_shqiperi_into_elysian
				any_owned_province = {
					OR = {
						has_province_modifier = nhs2_albanian_majority2
						has_province_modifier = nhs2_albanian_majority
					}
					NOT = { has_province_modifier = nhs2_albanian_majority2_no }
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				primary_culture = shqiperi
				has_global_flag = nhs_shqiperi_into_elysian
			}
			change_primary_culture = shqipproi
			every_owned_province = {
				limit = {
					culture = shqiperi
				}
				change_culture = shqipproi
			}
		}
		if = {
			limit = {
				NOT = { has_global_flag = nhs_shqiperi_into_elysian }
				any_owned_province = {
					has_province_modifier = nhs2_albanian_majority
					NOT = { has_province_modifier = nhs2_albanian_majority_no }
				}
			}
			every_owned_province = {
				limit = {
					has_province_modifier = nhs2_albanian_majority
					NOT = { has_province_modifier = nhs2_albanian_majority_no }
				}
				add_province_modifier = {
					name = "nhs2_albanian_majority_no"
					duration = -1
				}
			}
		}
		if = {
			limit = {
				has_global_flag = nhs_shqiperi_into_elysian
				any_owned_province = {
					OR = {
						has_province_modifier = nhs2_albanian_majority2
						has_province_modifier = nhs2_albanian_majority
					}
					NOT = { has_province_modifier = nhs2_albanian_majority2_no }
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						has_province_modifier = nhs2_albanian_majority2
						has_province_modifier = nhs2_albanian_majority
					}
					OR = {
						NOT = { has_province_modifier = nhs2_albanian_majority2_no }
						has_province_modifier = nhs2_albanian_majority_no
					}
				}
				if = {
					limit = {
						has_province_modifier = nhs2_albanian_majority
					}
					remove_province_modifier = nhs2_albanian_majority
					add_permanent_province_modifier = {
						name = "nhs2_albanian_majority2"
						duration = -1
					}
				}
				if = {
					limit = {
						has_province_modifier = nhs2_albanian_majority_no
					}
					remove_province_modifier = nhs2_albanian_majority_no
				}
				if = {
					limit = {
						NOT = { has_province_modifier = nhs2_albanian_majority2_no }
					}
					add_province_modifier = {
						name = "nhs2_albanian_majority2_no"
						duration = -1
					}
				}
			}
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Albanian fix 3
country_event = {
	id = nhs2_test.20
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				has_province_modifier = nhs2_albanian_majority_no
				has_province_modifier = nhs2_albanian_majority2_no
			}
		}
		NOT = {
			OR = {
				tag = SHQ
				primary_culture = shqipproi
				primary_culture = shqiperi
			}
		}
	}
	
	immediate = {
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_albanian_majority_no
			}
			remove_province_modifier = nhs2_albanian_majority_no
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_albanian_majority2_no
			}
			remove_province_modifier = nhs2_albanian_majority2_no
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Culture
country_event = {
	id = nhs2_test.21
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			AND = {
				tag = NHS
				primary_culture = greek
				NOT = { is_year = 1470 }
				OR = {
					ruler_culture = elysian
					heir_culture = elysian
					consort_culture = elysian
				}
			}
			AND = {
				primary_culture = elysian
				OR = {
					ruler_culture = greek
					heir_culture = greek
					consort_culture = greek
				}
			}
			AND = {
				primary_culture = vinlandic
				OR = {
					ruler_culture = norse
					heir_culture = norse
					consort_culture = norse
				}
			}
			AND = {
				primary_culture = high_elysian
				OR = {
					ruler_culture = greek
					heir_culture = greek
					consort_culture = greek
					ruler_culture = elysian
					heir_culture = elysian
					consort_culture = elysian
				}
			}
			# AND = {
				# culture_group = spartakian_group
				# OR = {
					# ruler_culture = high_elysian
					# heir_culture = high_elysian
					# consort_culture = high_elysian
					# ruler_culture = elysian
					# heir_culture = elysian
					# consort_culture = elysian
				# }
			# }
		}
	}
	
	immediate = {
		if = {
			limit = {
				tag = NHS
				primary_culture = greek
				NOT = { is_year = 1470 }
				OR = {
					ruler_culture = elysian
					heir_culture = elysian
					consort_culture = elysian
				}
			}
			if = {
				limit = {
					primary_culture = greek
					ruler_culture = elysian
				}
				set_ruler_culture = greek
			}
			if = {
				limit = {
					primary_culture = greek
					heir_culture = elysian
					has_heir = yes
				}
				set_heir_culture = greek
			}
			if = {
				limit = {
					primary_culture = greek
					consort_culture = elysian
					has_consort = yes
				}
				set_consort_culture = greek
			}
		}
		##
		if = {
			limit = {
				primary_culture = elysian
				ruler_culture = greek
			}
			set_ruler_culture = elysian
		}
		if = {
			limit = {
				primary_culture = elysian
				heir_culture = greek
				has_heir = yes
			}
			set_heir_culture = elysian
		}
		if = {
			limit = {
				primary_culture = elysian
				consort_culture = greek
				has_consort = yes
			}
			set_consort_culture = elysian
		}
		##
		if = {
			limit = {
				primary_culture = vinlandic
				ruler_culture = norse
			}
			set_ruler_culture = vinlandic
		}
		if = {
			limit = {
				primary_culture = vinlandic
				heir_culture = norse
				has_heir = yes
			}
			set_heir_culture = vinlandic
		}
		if = {
			limit = {
				primary_culture = vinlandic
				consort_culture = norse
				has_consort = yes
			}
			set_consort_culture = vinlandic
		}
		##
		if = {
			limit = {
				primary_culture = high_elysian
				OR = {
					ruler_culture = greek
					ruler_culture = elysian
				}
			}
			set_ruler_culture = high_elysian
		}
		if = {
			limit = {
				primary_culture = high_elysian
				OR = {
					heir_culture = greek
					heir_culture = elysian
				}
				has_heir = yes
			}
			set_heir_culture = high_elysian
		}
		if = {
			limit = {
				primary_culture = high_elysian
				OR = {
					consort_culture = greek
					consort_culture = elysian
				}
				has_consort = yes
			}
			set_consort_culture = high_elysian
		}
		##
		# if = {
			# limit = {
				# culture_group = spartakian_group
				# OR = {
					# ruler_culture = high_elysian
					# ruler_culture = elysian
				# }
			# }
			# set_ruler_culture = lakonian
		# }
		# if = {
			# limit = {
				# culture_group = spartakian_group
				# OR = {
					# heir_culture = high_elysian
					# heir_culture = elysian
				# }
				# has_heir = yes
			# }
			# set_heir_culture = lakonian
		# }
		# if = {
			# limit = {
				# culture_group = spartakian_group
				# OR = {
					# consort_culture = high_elysian
					# consort_culture = elysian
				# }
				# has_consort = yes
			# }
			# set_consort_culture = lakonian
		# }
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Albanian unit fix
country_event = {
	id = nhs2_test.22
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		tag = SHQ
		NOT = { unit_type = squipery }
	}
	
	immediate = {
		change_unit_type = squipery
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Elysian unit fix
country_event = {
	id = nhs2_test.23
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			technology_group = exiled_greek
			technology_group = modern_greek
		}
		NOT = { unit_type = elysian_unit }
		NOT = { tag = SHQ }
	}
	
	immediate = {
		change_unit_type = elysian_unit
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Viking unit fix
country_event = {
	id = nhs2_test.24
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			technology_group = viking
			technology_group = modern_vinlandic
		}
		NOT = { unit_type = norse_unit }
		
	}
	
	immediate = {
		change_unit_type = norse_unit
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Test
country_event = {
	id = nhs2_test.26
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes

	
	option = {
		name = "nhs2_mainlandevents1.a"
		953 = {
			show_ambient_object = wonder_statue
		}
	}
	option = {
		name = "nhs2_mainlandevents1.a"
		950 = {
			show_ambient_object = wonder_lighthouse
		}
	}
	option = {
		name = "nhs2_mainlandevents1.a"
		953 = {
			show_ambient_object = wonder_generic
		}
	}
	option = {
		name = "nhs2_mainlandevents1.a"
		change_religion = orthodox
		set_country_flag = nhs_great_project
	}
	
}

#
country_event = {
	id = nhs2_test.27
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes
	hidden = yes
	
	trigger = {
		OR = {
			tag = MK1
			tag = HLL
			tag = VIN
		}
		is_subject_of_type = nhs_imperial_associate
		NOT = { nhs_is_subject_of_ely = yes }
	}
	immediate = {
		grant_independence = yes
		every_country = {
			limit = {
				war_with = ROOT
			}
			white_peace = ROOT
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
	
}

country_event = {
	id = nhs2_test.28
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		#nhs_ely_scope_has_opinion_X = { KDO = HLL MNENJE = 0 }
		#nhs_ely_has_opinion_X = { MNENJE = 0 }
		#nhs_test = { KOMANDA = tag }
		nhs_condition_all_ely = { KOMANDA = alliance_with }
	}
	
	immediate = {
		hidden_effect = {
			set_variable = {
				which = myCountingVariable
				value = 0
			}
			every_province = {
				limit = {
					region = italy_region
					NOT = { has_province_flag = nhs_c_done }
				}
				set_province_flag = nhs_c_done
				ROOT = {
					change_variable = {
						which = myCountingVariable
						value = 1
					}
				}
			}
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
		custom_tooltip = nhs_test_results
	}
	
}

#CM1 Merchant modifier fix
country_event = {
	id = nhs2_test.25
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		tag = CM1
		has_country_modifier = nhs_no_merchant_class
	}
	
	immediate = {
		remove_country_modifier = nhs_no_merchant_class
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#CM1 subject type fix
country_event = {
	id = nhs2_test.29
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		tag = CM1
		is_subject_of_type = elysian_subject
	}
	
	immediate = {
		overlord = {
			create_subject = {
				subject_type = elysian_subject_non_exarch
				subject = ROOT
			}
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#has_reform Fix
country_event = {
	id = nhs2_test.30
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			AND = {
				tag = ERF
				NOT = { has_reform = elysian_republic }
			}
			AND = {
				tag = ELR
				NOT = { has_reform = nhs_noble_republic }
			}
			AND = {
				tag = ERR
				NOT = { has_reform = elysian_revolutionary_republic }
				NOT = { has_reform = elysian_revolutionary_empire }
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				AND = {
					tag = ERF
					NOT = { has_reform = elysian_republic }
				}
			}
			nhs_change_government = { GOV = republic }
			add_government_reform = elysian_republic
		}
		else_if = {
			limit = {
				AND = {
					tag = ELR
					NOT = { has_reform = nhs_noble_republic }
				}
			}
			nhs_change_government = { GOV = republic }
			add_government_reform = nhs_noble_republic
		}
		else_if = {
			limit = {
				AND = {
					tag = ERR
					NOT = { has_reform = elysian_revolutionary_republic }
					NOT = { has_reform = elysian_revolutionary_empire }
				}
			}
			nhs_change_government = { GOV = republic }
			add_government_reform = elysian_revolutionary_republic
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

#Tikal Fix
country_event = {
	id = nhs2_test.31
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		any_owned_province = {
			has_province_modifier = msg_tikal_start
			has_province_modifier = msg_tikal_repaired
		}
	}
	
	immediate = {
		every_owned_province = {
			limit = {
				has_province_modifier = msg_tikal_start
				has_province_modifier = msg_tikal_repaired
			}
			remove_province_modifier = msg_tikal_start
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}


#Testing grounds
country_event = {
	id = nhs2_test.32
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes
	
	
	immediate = {
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
		if = {
			limit = {
				has_regency = no
				has_heir = yes
			}
			exile_heir_as = nhs_rev_exiled_heir
			exile_ruler_as = nhs_rev_exiled_ruler
			set_global_flag = nhs_has_exiled_heir
			set_global_flag = nhs_has_exiled_ruler
		}
		else_if = {
			limit = {
				has_regency = no
				has_heir = no
			}
			exile_ruler_as = nhs_rev_exiled_ruler
			set_global_flag = nhs_has_exiled_ruler
		}
		else_if = {
			limit = {
				has_regency = yes
			}
			exile_heir_as = nhs_rev_exiled_heir
			set_global_flag = nhs_has_exiled_heir
		}
	}
	option = {
		#4276 = {
		#	cede_province = ELF
		#}
		
		ELF = {
			#limit = {
				#ai = yes
				#is_subject = no
				#NOT = {
				##	num_of_unions = 1
				#}
				#NOT = { tag = PAP }
				
			#}
			#exile_ruler_as = nhs_temp_ruler
			if = {
				limit = {
					has_global_flag = nhs_has_exiled_heir
					has_global_flag = nhs_has_exiled_ruler
				}
				set_ruler = nhs_rev_exiled_ruler
				set_heir = nhs_rev_exiled_heir
				#log = "RULER AND HEIR"
				if = {
					limit = {
						ruler_age = 70
					}
					#log = "RULER TOO OLD"
					if = {
						limit = {
							heir_age = 80
						}
						#log = "HEIR TOO OLD"
						ROOT = {
							define_ruler = {
								dynasty = PREV
								claim = 50
								#age = 20
								min_age = 30
								max_age = 40
							}
							if = {
								limit = {
									ruler_age = 60
									has_heir = no
								}
								kill_ruler = yes
								define_heir = {
									dynasty = PREV
									claim = 50
									age = 15
								}
							}
						}
					}
					else = {
						#log = "Ruler 1: [ELF.Monarch.GetName]"
						#log = "Heir 1: [ELF.Heir.GetName]"
						#exile_ruler_as = nhs_temp_exile
						#log = "Ruler 2: [ELF.Monarch.GetName]"
						#exile_ruler_as = nhs_rev_exiled_ruler
						exile_heir_as = nhs_rev_exiled_heir
						#log = "Ruler 3: [ELF.Monarch.GetName]"
						#log = "Heir 3: [ELF.Heir.GetName]"
						ROOT = {
							define_ruler = {
								name = "(Interregnum)"
								adm = 3
								max_random_adm = 3
								dip = 3
								max_random_dip = 3
								mil = 1
								max_random_mil = 1
								fixed = yes
								regency = yes
							}
							set_heir = nhs_rev_exiled_heir
							add_legitimacy = 100
							add_legitimacy = -20
							if = {
								limit = {
									heir_age = 60
								}
								kill_ruler = yes
								if = {
									limit = {
										has_heir = no
									}
									define_heir = {
										dynasty = PREV
										claim = 50
										age = 15
									}
								}
							}
						}
					}
				}
				else = {
					if = {
						limit = {
							heir_age = 70
						}
						#log = "HEIR TOO OLD"
						exile_ruler_as = nhs_rev_exiled_ruler
						ROOT = {
							set_ruler = nhs_rev_exiled_ruler
							if = {
								limit = {
									ruler_age = 50
									has_heir = no
								}
								define_heir = {
									dynasty = PREV
									claim = 50
									age = 15
								}
							}
						}
					}
					else = {
						exile_heir_as = nhs_rev_exiled_heir
						exile_ruler_as = nhs_rev_exiled_ruler
						ROOT = {
							set_heir = nhs_rev_exiled_heir
							set_ruler = nhs_rev_exiled_ruler
							add_legitimacy = 100
							add_legitimacy = -20
						}
					}
				}
			}
			else_if = {
				limit = {
					has_global_flag = nhs_has_exiled_heir
					NOT = { has_global_flag = nhs_has_exiled_ruler }
				}
				#log = "HEIR"
				set_heir = nhs_rev_exiled_heir
				#log = "Ruler 1: [ELF.Monarch.GetName]"
				#log = "Heir 1: [ELF.Heir.GetName]"
				#kill_ruler = yes
				#log = "Ruler 1: [ELF.Monarch.GetName]"
				#log = "Heir 1: [ELF.Heir.GetName]"
				if = {
					limit = {
						heir_age = 80
					}
					#log = "RULER TOO OLD"
					ROOT = {
						define_ruler = {
							dynasty = PREV
							claim = 50
							age = 21
						}
					}
				}
				else = {
					exile_heir_as = nhs_rev_exiled_heir
					ROOT = {
						define_ruler = {
							name = "(Interregnum)"
							adm = 3
							max_random_adm = 3
							dip = 3
							max_random_dip = 3
							mil = 1
							max_random_mil = 1
							fixed = yes
							regency = yes
						}
						set_heir = nhs_rev_exiled_heir
						add_legitimacy = 100
						add_legitimacy = -20
						if = {
							limit = {
								heir_age = 60
							}
							kill_ruler = yes
							if = {
								limit = {
									has_heir = no
								}
								define_heir = {
									dynasty = PREV
									claim = 50
									age = 15
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_global_flag = nhs_has_exiled_heir }
					has_global_flag = nhs_has_exiled_ruler
				}
				#log = "RULER"
				set_ruler = nhs_rev_exiled_ruler
				if = {
					limit = {
						ruler_age = 80
					}
					log = "RULER TOO OLD"
					ROOT = {
						define_ruler = {
							dynasty = PREV
							claim = 50
							age = 21
						}
					}
				}
				else = {
					exile_ruler_as = nhs_rev_exiled_ruler
					ROOT = {
						set_ruler = nhs_rev_exiled_ruler
						if = {
							limit = {
								ruler_age = 50
								has_heir = no
							}
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
			}
			else = {
				ROOT = {
					define_ruler = {
						dynasty = "historic_dynasty"
						claim = 40
						age = 21
					}
				}
			}
			clr_global_flag = nhs_has_exiled_heir
			clr_global_flag = nhs_has_exiled_ruler
		}
			
		#4276 = {
		#	cede_province = ---
		#}
		#set_ruler = nhs_rev_exiled_ruler
		
	}
}

#Spartan Patriarch not applying gov reform fix
country_event = {
	id = nhs2_test.33
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		tag = MSN
		has_global_flag = nhs2_patriarchate_south
		has_global_flag = msg_first_religious_reform_done
		OR = {
			NOT = { has_global_flag = nhs_spartan_council }
			AND = {
				has_dlc = "Dharma"
				NOT = { has_reform = msg_spartan_patriarch_yes }
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = { has_global_flag = nhs_spartan_council }
			}
			set_global_flag = nhs_spartan_council
		}
		if = {
			limit = {
				has_dlc = "Dharma"
				NOT = { has_reform = msg_spartan_patriarch_yes }
			}
			nhs_add_reform = { REF = msg_spartan_patriarch_yes }
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}


country_event = {
	id = nhs2_test.34
	title = nhs2_test.34.t
	desc = nhs2_test.34.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	trigger = {
		variable_arithmetic_trigger = {
			export_to_variable = {
				variable_name = nhs_my_total_dev
				value = total_development
			}
			export_to_variable = {
				variable_name = nhs_viking_total_dev
				value = total_development
				who = HLL
			}
			multiply_variable = {
				variable_name = nhs_viking_total_dev
				value = 4
			}
			check_variable = {
				which = nhs_my_total_dev
				which = nhs_viking_total_dev
			}
		}
	}
	immediate = {
		export_to_variable = {
			variable_name = nhs_my_total_dev
			value = total_development
		}
		export_to_variable = {
			variable_name = nhs_viking_total_dev
			value = total_development
			who = HLL
		}
		multiply_variable = {
			which = nhs_viking_total_dev
			value = 4
		}
	}
	option = {
		name = "nhs2_mainlandevents1.a"
		custom_tooltip = nhs_test_program_tt
		
	}
	# option = {
		# name = "nhs2_mainlandevents1.a"
		# custom_tooltip = nhs_test_na_counter
		
		# custom_tooltip = nhs_test_nat_c_10
		# custom_tooltip = nhs_test_nat_b_10
		# custom_tooltip = nhs_test_nat_t_10
		
		# custom_tooltip = nhs_test_nat_c_20
		# custom_tooltip = nhs_test_nat_b_20
		# custom_tooltip = nhs_test_nat_t_20
		
	# }
}

country_event = {
	id = nhs2_test.35
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	#hidden = yes
	
	trigger = {
		NOT = { government = monarchy }
		#any_subject_country = {
			is_subject_of_type = elysian_subject
		#}
		has_dlc = "Dharma"
		NOT = { government = republic }
		NOT = { government = tribal }
		NOT = { government = theocracy }
		NOT = { government = native }
	}
	
	immediate = {
		change_government = republic
		change_government = monarchy
		nhs_add_gov_reform = { REF = autocracy_reform }
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
		#every_subject_country = {
		#	limit = {
		#		is_subject_of_type = elysian_subject
		#		NOT = { government = monarchy }
		#	}
		#	change_government = republic
		#	change_government = monarchy
		#}
	}
}

country_event = {
	id = nhs2_test.36
	title = nhs2_test.36.t
	desc = {
		trigger = {
			NOT = { has_global_flag = msg_pipiltin_bribe }
			NOT = { has_global_flag = msg_apogonoi_bribe }
			NOT = { has_global_flag = msg_no_pipiltin_palace }
			NOT = { has_global_flag = msg_no_apogonoi_palace }
		}
		desc = msg_reforms.32.da
	}
	desc = {
		trigger = {
			NOT = {
				AND = {
					has_global_flag = msg_pipiltin_bribe
					has_global_flag = msg_apogonoi_bribe
					has_global_flag = msg_no_pipiltin_palace
					has_global_flag = msg_no_apogonoi_palace
				}
			}
			OR = {
				has_global_flag = msg_pipiltin_bribe
				has_global_flag = msg_apogonoi_bribe
				has_global_flag = msg_no_pipiltin_palace
				has_global_flag = msg_no_apogonoi_palace
			}
		}
		desc = msg_reforms.32.db
	}
	desc = {
		trigger = {
			has_global_flag = msg_pipiltin_bribe
			has_global_flag = msg_apogonoi_bribe
			has_global_flag = msg_no_pipiltin_palace
			has_global_flag = msg_no_apogonoi_palace
		}
		desc = msg_reforms.32.dc
	}
	picture = spartan_rifleman_eventPicture
	
	is_triggered_only = yes
	#hidden = yes
	
	trigger = {
		tag = MSN
		has_global_flag = msg_reforms_done
		NOT = { has_global_flag = msg_reforms_done_new }
	}
	
	immediate = {
		custom_tooltip = nhs2_test.36.tt
		set_global_flag = msg_reforms_done_new
		hidden_effect = {
			if = {
				limit = {
					has_dlc = "Dharma"
				}
				if = {
					limit = {
						NOT = { has_global_flag = msg_pipiltin_bribe }
						NOT = { has_global_flag = msg_apogonoi_bribe }
						NOT = { has_global_flag = msg_no_pipiltin_palace }
						NOT = { has_global_flag = msg_no_apogonoi_palace }
					}
					add_government_reform = msg_spartan_nobility_crushed
				}
				else_if = {
					limit = {
						NOT = {
							AND = {
								has_global_flag = msg_pipiltin_bribe
								has_global_flag = msg_apogonoi_bribe
								has_global_flag = msg_no_pipiltin_palace
								has_global_flag = msg_no_apogonoi_palace
							}
						}
					}
					add_government_reform = msg_spartan_nobility_negotiated
				}
				else = {
					limit = {
						has_global_flag = msg_pipiltin_bribe
						has_global_flag = msg_apogonoi_bribe
						has_global_flag = msg_no_pipiltin_palace
						has_global_flag = msg_no_apogonoi_palace
					}
					add_government_reform = msg_spartan_nobility_appeased
				}
			}
		}
	}
	
	option = {
		name = msg_reforms.32.a
		tooltip = {
			if = {
				limit = {
					has_dlc = "Dharma"
				}
				if = {
					limit = {
						has_country_modifier = msg_nobles_crushed
					}
					remove_country_modifier = msg_nobles_crushed
				}
				if = {
					limit = {
						NOT = { has_global_flag = msg_pipiltin_bribe }
						NOT = { has_global_flag = msg_apogonoi_bribe }
						NOT = { has_global_flag = msg_no_pipiltin_palace }
						NOT = { has_global_flag = msg_no_apogonoi_palace }
					}
					add_government_reform = msg_spartan_nobility_crushed
				}
				else_if = {
					limit = {
						NOT = {
							AND = {
								has_global_flag = msg_pipiltin_bribe
								has_global_flag = msg_apogonoi_bribe
								has_global_flag = msg_no_pipiltin_palace
								has_global_flag = msg_no_apogonoi_palace
							}
						}
					}
					add_government_reform = msg_spartan_nobility_negotiated
				}
				else = {
					limit = {
						has_global_flag = msg_pipiltin_bribe
						has_global_flag = msg_apogonoi_bribe
						has_global_flag = msg_no_pipiltin_palace
						has_global_flag = msg_no_apogonoi_palace
					}
					add_government_reform = msg_spartan_nobility_appeased
				}
			}
		}
		if = {
			limit = {
				NOT = { has_global_flag = msg_pipiltin_bribe }
				NOT = { has_global_flag = msg_apogonoi_bribe }
				NOT = { has_global_flag = msg_no_pipiltin_palace }
				NOT = { has_global_flag = msg_no_apogonoi_palace }
			}
			if = {
				limit = {
					NOT = { has_dlc = "Dharma" }
				}
				add_country_modifier = {
					name = msg_nobles_crushed
					duration = -1
				}
			}
			custom_tooltip = msg_revocation_free_for_30_years
			add_country_modifier = {
				name = msg_free_rewoke_timer
				duration = 10950
			}
		}
		else_if = {
			limit = {
				NOT = {
					AND = {
						has_global_flag = msg_pipiltin_bribe
						has_global_flag = msg_apogonoi_bribe
						has_global_flag = msg_no_pipiltin_palace
						has_global_flag = msg_no_apogonoi_palace
					}
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Dharma" }
				}
				add_country_modifier = {
					name = msg_nobles_negotiated
					duration = -1
				}
			}
			custom_tooltip = msg_revocation_free_for_20_years
			add_country_modifier = {
				name = msg_free_rewoke_timer
				duration = 7300
			}
		}
		else = {
			limit = {
				has_global_flag = msg_pipiltin_bribe
				has_global_flag = msg_apogonoi_bribe
				has_global_flag = msg_no_pipiltin_palace
				has_global_flag = msg_no_apogonoi_palace
			}
			if = {
				limit = {
					NOT = { has_dlc = "Dharma" }
				}
				add_country_modifier = {
					name = msg_nobles_appeased
					duration = -1
				}
			}
			custom_tooltip = msg_revocation_free_for_10_years
			add_country_modifier = {
				name = msg_free_rewoke_timer
				duration = 3650
			}
		}
	}
}

country_event = {
	id = nhs2_test.37
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				has_province_modifier = nhs_toll_modifier
				has_province_modifier = nhs_gilded_keep
				has_province_modifier = nhs_carthaginian_design_harbour
				has_province_modifier = nhs_seagate_guardians
				has_province_modifier = nhs_alexandrian_library
				has_province_modifier = nhs_hippodrome
				has_province_modifier = nhs_silk_quarter
				##
				has_province_modifier = nhs_toll_modifier_decay
				has_province_modifier = nhs_gilded_keep_decay
				has_province_modifier = nhs_carthaginian_design_harbour_decay
				has_province_modifier = nhs_seagate_guardians_decay
				has_province_modifier = nhs_alexandrian_library_decay
				has_province_modifier = nhs_hippodrome_decay
				has_province_modifier = nhs_silk_quarter_decay
			}
		}
	}
	
	immediate = {
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_toll_modifier
			}
			remove_province_modifier = nhs_toll_modifier
			add_province_triggered_modifier = nhs_toll_modifier_tm
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_gilded_keep
			}
			remove_province_modifier = nhs_gilded_keep
			add_province_triggered_modifier = nhs_gilded_keep_tm
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_carthaginian_design_harbour
			}
			remove_province_modifier = nhs_carthaginian_design_harbour
			add_province_triggered_modifier = nhs_carthaginian_design_harbour_tm
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_seagate_guardians
			}
			remove_province_modifier = nhs_seagate_guardians
			add_province_triggered_modifier = nhs_seagate_guardians_tm
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_alexandrian_library
			}
			remove_province_modifier = nhs_alexandrian_library
			add_province_triggered_modifier = nhs_alexandrian_library_tm
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_hippodrome
			}
			remove_province_modifier = nhs_hippodrome
			add_province_triggered_modifier = nhs_hippodrome_tm
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_silk_quarter
			}
			remove_province_modifier = nhs_silk_quarter
			add_province_triggered_modifier = nhs_silk_quarter_tm
		}
		##
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_toll_modifier_decay
			}
			add_province_triggered_modifier = nhs_toll_modifier_tm
			add_province_triggered_modifier = nhs_toll_modifier_tm_decay
			remove_province_modifier = nhs_toll_modifier_decay
			set_province_flag = nhs_ei_toll_modifier_decay
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_gilded_keep_decay
			}
			add_province_triggered_modifier = nhs_gilded_keep_tm
			add_province_triggered_modifier = nhs_gilded_keep_tm_decay
			remove_province_modifier = nhs_gilded_keep_decay
			set_province_flag = nhs_ei_gilded_keep_decay
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_carthaginian_design_harbour_decay
			}
			add_province_triggered_modifier = nhs_carthaginian_design_harbour_tm
			add_province_triggered_modifier = nhs_carthaginian_design_harbour_tm_decay
			remove_province_modifier = nhs_carthaginian_design_harbour_decay
			set_province_flag = nhs_ei_carthaginian_design_harbour_decay
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_seagate_guardians_decay
			}
			add_province_triggered_modifier = nhs_seagate_guardians_tm
			add_province_triggered_modifier = nhs_seagate_guardians_tm_decay
			remove_province_modifier = nhs_seagate_guardians_decay
			set_province_flag = nhs_ei_seagate_guardians_decay
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_alexandrian_library_decay
			}
			add_province_triggered_modifier = nhs_alexandrian_library_tm
			add_province_triggered_modifier = nhs_alexandrian_library_tm_decay
			remove_province_modifier = nhs_alexandrian_library_decay
			set_province_flag = nhs_ei_alexandrian_library_decay
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_hippodrome_decay
			}
			add_province_triggered_modifier = nhs_hippodrome_tm
			add_province_triggered_modifier = nhs_hippodrome_tm_decay
			remove_province_modifier = nhs_hippodrome_decay
			set_province_flag = nhs_ei_hippodrome_decay
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_silk_quarter_decay
			}
			add_province_triggered_modifier = nhs_silk_quarter_tm
			add_province_triggered_modifier = nhs_silk_quarter_tm_decay
			remove_province_modifier = nhs_silk_quarter_decay
			set_province_flag = nhs_ei_silk_quarter_decay
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

country_event = {
	id = nhs2_test.38
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		OR = {
			tag = MSN
			#culture_group = spartakian_group
		}
		any_owned_province = {
			culture = tlacotin
			NOT = { has_province_modifier = msg_slave_province_tm }
		}
	}
	
	immediate = {
		every_owned_province = {
			limit = {
				culture = tlacotin
				NOT = { has_province_modifier = msg_slave_province_tm }
			}
			add_province_triggered_modifier = msg_slave_province_tm
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

country_event = {
	id = nhs2_test.39
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				has_province_modifier = nhs_vov_whalebone_palace
				has_province_modifier = nhs_vov_great_port
				has_province_modifier = nhs_vov_irminsul
				##
				has_province_modifier = nhs_vov_whalebone_palace_decay
				has_province_modifier = nhs_vov_great_port_decay
				has_province_modifier = nhs_vov_irminsul_decay
			}
		}
	}
	
	immediate = {
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_vov_whalebone_palace
			}
			remove_province_modifier = nhs_vov_whalebone_palace
			add_province_triggered_modifier = vov_whalebone_palace_tm
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_vov_great_port
			}
			remove_province_modifier = nhs_vov_great_port
			add_province_triggered_modifier = vov_great_port_tm
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_vov_irminsul
			}
			remove_province_modifier = nhs_vov_irminsul
			add_province_triggered_modifier = vov_irminsul_tm
		}
		##
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_vov_whalebone_palace_decay
			}
			set_province_flag = nhs_vi_whalebone_palace_decay
			add_province_triggered_modifier = vov_whalebone_palace_tm
			add_province_triggered_modifier = vov_whalebone_palace_tm_decay
			remove_province_modifier = nhs_vov_whalebone_palace_decay
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_vov_great_port_decay
			}
			set_province_flag = nhs_vi_great_port_decay
			add_province_triggered_modifier = vov_great_port_tm
			add_province_triggered_modifier = vov_great_port_tm_decay
			remove_province_modifier = nhs_vov_great_port_decay
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_vov_irminsul_decay
			}
			add_province_triggered_modifier = vov_irminsul_tm
			remove_province_modifier = nhs_vov_irminsul_decay
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

country_event = {
	id = nhs2_test.40
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		nhs_is_elysia = yes
		has_country_flag = nhs_completed_nhs_spqe
	}
	
	immediate = {
		swap_free_idea_group = yes
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

country_event = {
	id = nhs2_test.41
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		OR = {
			1177 = {
				OR = {
					NOT = { province_has_center_of_trade_of_level = 1 }
					has_province_modifier = important_natural_harbor
				}
			}
			1139 = {
				OR = {
					NOT = { province_has_center_of_trade_of_level = 1 }
					has_province_modifier = important_natural_harbor
				}
			}
		}
	}
	
	immediate = {
		1177 = {
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				center_of_trade = 1
			}
			remove_province_modifier = important_natural_harbor
		}
		1139 = {
			if = {
				limit = {
					NOT = { province_has_center_of_trade_of_level = 1 }
				}
				center_of_trade = 1
			}
			remove_province_modifier = important_natural_harbor
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

# Print Variable
country_event = {
	id = nhs2_test.42
	title = nhs2_test.42.t
	desc = nhs2_test.42.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		hidden_effect = {
			nhs_civil_war_initialize_land = yes
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
		custom_tooltip = nhs2_test.42.tt
	}
}

country_event = {
	id = nhs2_test.43
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		has_country_modifier = nhs_secrets_silk
		953 = {
			trade_goods = elysian_silk
		}
	}
	
	immediate = {
		remove_country_modifier = nhs_secrets_silk
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

country_event = {
	id = nhs2_test.44
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		OR = {
			is_subject_of_type = nhs_imperial_associate
			is_subject_of_type = personal_union
		}
		NOT = { has_country_flag = nhs_been_subject_for_50_years }
	}
	
	immediate = {
		set_country_flag = nhs_been_subject_for_50_years
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

country_event = {
	id = nhs2_test.45
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes
	hidden = yes
	
	trigger = {
		NOT = { has_global_flag = nhs_greek_mod_new_system }
		OR = {
			has_global_flag = nhs_elysian_o_greece_trad
			has_global_flag = nhs_elysian_o_greece
		}
	}
	
	immediate = {
		set_global_flag = nhs_greek_mod_new_system
		every_province = {
			remove_province_modifier = nhs2_new_patriarch_greek
			remove_province_modifier = nhs2_converts
			remove_province_modifier = nhs2_allowed_patriarch_greek
		}
		if = {
			limit = {
				has_global_flag = nhs_elysian_o_greece_trad
			}
			every_province = {
				limit = {
					OR = {
						area = macedonia_area
						area = northern_greece_area
						area = morea_area
						area = western_aegean_area
						area = thrace_area
						area = bulgaria_area
						AND = {
							culture_group = byzantine
							NOT = { culture = turkish }
							OR = {
								region = balkan_region
								region = anatolia_region
								region = crimea_region
							}
						}
					}
				}
				add_province_triggered_modifier = nhs2_allowed_patriarch_greek_tm
				add_province_triggered_modifier = nhs2_converts_tm
			}
		}
		else = {
			every_province = {
				limit = {
					OR = {
						area = macedonia_area
						area = northern_greece_area
						area = morea_area
						area = western_aegean_area
						area = thrace_area
						area = bulgaria_area
						AND = {
							culture_group = byzantine
							NOT = { culture = turkish }
							OR = {
								region = balkan_region
								region = anatolia_region
								region = crimea_region
							}
						}
					}
				}
				add_province_triggered_modifier = nhs2_new_patriarch_greek_tm
				add_province_triggered_modifier = nhs2_converts_tm
			}
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

# country_event = {
	# id = nhs2_test.46
	# title = nhs2_mainlandevents1.t
	# desc = nhs2_mainlandevents1.d
	# picture = CITY_VIEW_eventPicture
	
	# is_triggered_only = yes
	# hidden = yes
	
	# trigger = {
		# NOT = { has_global_flag = nhs_new_capital_names }
		# OR = {
			# culture_group = elysian_group
			# primary_culture = apogonoi
			# AND = {
				# culture_group = byzantine
				# NOT = { primary_culture = turkish }
			# }
		# }
	# }
	
	# immediate = {
		# set_global_flag = nhs_new_capital_names
		# every_owned_province = {
			# nhs_assign_names_effect = yes
		# }
	# }
	
	# option = {
		# name = "nhs2_mainlandevents1.a"
	# }
# }

country_event = {
	id = nhs2_test.46
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	fire_only_once = yes
	
	trigger = {
		OR = {
			953 = {
				OR = {
					has_province_modifier = nhs_gilded_keep_tm
					has_province_modifier = nhs_gilded_keep_tm_decay
				}
			}
			950 = {
				OR = {
					has_province_modifier = nhs_seagate_guardians_tm
					has_province_modifier = nhs_seagate_guardians_tm_decay
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				953 = {
					OR = {
						has_province_modifier = nhs_gilded_keep_tm
						has_province_modifier = nhs_gilded_keep_tm_decay
					}
				}
			}
			953 = {
				show_ambient_object = wonder_generic
			}
		}
		if = {
			limit = {
				950 = {
					OR = {
						has_province_modifier = nhs_seagate_guardians_tm
						has_province_modifier = nhs_seagate_guardians_tm_decay
					}
				}
			}
			950 = {
				show_ambient_object = wonder_statue
				show_ambient_object = wonder_statue_2
			}
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

country_event = {
	id = nhs2_test.47
	title = nhs2_mainlandevents1.t
	desc = nhs2_mainlandevents1.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		OR = {
			146 = {
				NOT = { has_province_modifier = nhs_conquest_of_athens }
			}
			953 = {
				has_province_modifier = religious_center_pantheon
				NOT = { has_province_modifier = nhs_seat_of_high_priesthood }
			}
			AND = {
				has_country_flag = nhs_completed_nhs_the_old_gods
				118 = {
					NOT = { has_province_modifier = non_catholic_rome_with_hellenics }
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				146 = {
					NOT = { has_province_modifier = nhs_conquest_of_athens }
				}
			}
			146 = {
				add_province_triggered_modifier = nhs_conquest_of_athens
			}
		}
		if = {
			limit = {
				953 = {
					has_province_modifier = religious_center_pantheon
					NOT = { has_province_modifier = nhs_seat_of_high_priesthood }
				}
			}
			953 = {
				add_province_triggered_modifier = nhs_seat_of_high_priesthood
			}
		}
		if = {
			limit = {
				has_country_flag = nhs_completed_nhs_the_old_gods
				118 = {
					NOT = { has_province_modifier = non_catholic_rome_with_hellenics }
				}
			}
			118 = {
				remove_province_triggered_modifier = non_catholic_rome
				add_province_triggered_modifier = non_catholic_rome_with_hellenics
			}
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

country_event = {
	id = nhs2_test.48
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		NOT = { has_dlc = "Rule Britannia" }
	}
	
	immediate = {
		every_province = {
			limit = {
				nhs_has_coal = yes
				NOT = { has_province_modifier = nhs2_lantent_coal_tm }
			}
			add_permanent_province_modifier = {
				name = nhs2_lantent_coal
				duration = -1
			}
			add_province_triggered_modifier = nhs2_lantent_coal_tm
		}
	}
	
	option = {
		name = "nhs2_mainlandevents1.a"
	}
}

country_event = {
	id = nhs2_test.49
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		any_owned_province = {
			trade_goods = maize
		}
	}
	
	immediate = {
		every_owned_province = {
			limit = {
				trade_goods = maize
			}
			change_trade_goods = grain
		}
	}
	option = {
		
	}
}

country_event = {
	id = nhs2_test.50
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		2554 = {
			OR = {
				has_province_modifier = nhs_alexandrian_library_no_books_tm
				has_province_modifier = nhs_alexandrian_library_tm
			}
			NOT = { trade_goods = paper }
		}
		950 = {
			has_province_modifier = nhs2_ivos_naval_supplies_boost_tm
		}
	}
	
	immediate = {
		2554 = {
			change_trade_goods = paper
		}
	}
	option = {
		
	}
}

country_event = {
	id = nhs2_test.51
	title = nhs2_hidden.t
	desc = nhs2_hidden.d
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		any_owned_province = {
			has_province_modifier = nhs_elysian_arsenal_tm
			OR = {
				has_building = shipyard
				has_building = grand_shipyard
			}
		}
	}
	
	immediate = {
		every_owned_province = {
			limit = {
				has_province_modifier = nhs_elysian_arsenal_tm
				OR = {
					has_building = shipyard
					has_building = grand_shipyard
				}
			}
			if = {
				limit = {
					has_building = shipyard
				}
				remove_building = shipyard
			}
			else_if = {
				limit = {
					has_building = grand_shipyard
				}
				remove_building = grand_shipyard
			}
		}
	}
	option = {
		
	}
}

